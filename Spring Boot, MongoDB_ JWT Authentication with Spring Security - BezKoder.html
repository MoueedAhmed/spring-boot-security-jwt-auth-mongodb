<!DOCTYPE html>
<!-- saved from url=(0050)https://bezkoder.com/spring-boot-jwt-auth-mongodb/ -->
<html class="no-js" lang="en-US"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script type="text/javascript">
    window.nativeAdFeedback=function(o,l,c,k,i,m,e){var j={},d=230,n=window.nativeAdLoader(o,l),f={left:"amzn-native-feedback-popup-left",right:"amzn-native-feedback-popup-right"},b=document.querySelector("#amzn-native-ad-"+o.slotNum+".amzn-native-container"),a=[],h={ASIN:"asin",DEAL:"dealID"},g=false;j.getPopupOpenDirection=function(r,w){var p=parseInt(window.getComputedStyle(b).width.replace("px","")),u=parseInt(window.getComputedStyle(r).width.replace("px","")),q=document.querySelector("#amzn-native-ad-"+o.slotNum),t=n.hasClass(q,"amzn-native-carousel"),y=parseInt(window.getComputedStyle(w).width.replace("px","")),x=r.offsetLeft,s="right",v=x+u;if(v>(p-v)){if(t&&v>y){s="left";}else{if(!t){s="left";}}}return s;};j.nudgePopup=function(B,r,p){var q=parseInt(window.getComputedStyle(b).width.replace("px","")),C=parseInt(window.getComputedStyle(b).height.replace("px","")),w=parseInt(window.getComputedStyle(r).width.replace("px","")),y=parseInt(window.getComputedStyle(p).height.replace("px","")),z=r.offsetLeft,u=r.offsetTop,A,x=z+w,t=0;if(q<500||g){n.addClass(p,"compact-form");}A=parseInt(window.getComputedStyle(p).width.replace("px",""));if(B==="right"){var v=q-x;if(v<A){p.style.left="calc(100% - "+(A-v)+"px)";}}else{var s=x-30;if(s<A){p.style.right="15px";}}t=C-(y+u-20);if(t<0){n.addClass(p,"compact-form");}};j.autoCloseFeedbackPopup=function(r,t,q,p){var s=setTimeout(function(){r.style.display="none";n.removeClass(t,"amzn-native-product-feedback-active");n.addClass(t,"amzn-native-product-removed");},p);q[s]=1;return q;};j.handleAdFeedbackSubmitSuccess=function(s,u){var t=s.parentNode,q=s.querySelector(".amzn-native-products-feedback-popup-close"),r={};n.addClass(s,"post-submit");n.addClass(q,"post-submit-active");if(typeof localStorage!=="undefined"&&u){var p=localStorage.getItem("amzn-native-feedback-blocked-items");if(!p){p=[{item:u,timestamp:new Date()}];}else{p=JSON.parse(p);p.push({item:u,timestamp:new Date()});}localStorage.setItem("amzn-native-feedback-blocked-items",JSON.stringify(p));}n.addEventHandler(c,[s],["mouseover"],function(){for(var v in r){if(r.hasOwnProperty(v)){clearTimeout(v);}}});n.addEventHandler(c,[s],["mouseleave","blur"],function(){r=j.autoCloseFeedbackPopup(s,t,r,3000);});r=j.autoCloseFeedbackPopup(s,t,r,3000);};j.handleAdFeedbackSubmitFailure=function(p){};j.populateFeedback=function(q){var p=q.querySelector("input.amzn-native-products-feedback-input:checked").value,r=q.querySelector("textarea.amzn-native-products-feedback-comments").value;return{programId:"Associates-NSA",data:{mysqlData:{id:(o.adId)?o.adId:"no ad-id",adPlacementMetaData:{url:window.location.href},adCreativeMetaData:{geo:o.viewerCountry,adImprId:o.impressionId,adImprDate:new Date(),trackingId:o.trackingId,platform:"Desktop",userAgent:navigator.userAgent,adCreativeDetails:a[q.getAttribute("data-item-number")]},feedback:{feedbackOption:p,comments:r}}}};};j.addAdFeedbackEventListeners=function(){var p=document.querySelectorAll("#amzn-native-ad-"+o.slotNum+" .amzn-native-product"),t=document.querySelectorAll("#amzn-native-ad-"+o.slotNum+" .amzn-native-product .amzn-native-products-feedback-icon"),q=document.querySelectorAll("#amzn-native-ad-"+o.slotNum+" .amzn-native-product .amzn-native-products-feedback-popup"),v=document.querySelectorAll("#amzn-native-ad-"+o.slotNum+" .amzn-native-product .amzn-native-products-feedback-popup .amzn-native-products-feedback-popup-close"),s;if(t&&t.length>0){n.addEventHandler(c,t,["mouseover"],function(){var y=this.parentNode;n.addClass(y,"amzn-native-product-feedback-hover");return true;});n.addEventHandler(c,t,["mouseleave","blur"],function(){var y=this.parentNode;n.removeClass(y,"amzn-native-product-feedback-hover");return true;});n.addEventHandler(c,t,["click"],function(D){var C=this.parentNode,A=C.querySelector(".amzn-native-products-feedback-popup"),z,B;for(z=0;z<p.length;z++){n.removeClass(p[z],"amzn-native-product-feedback-hover");n.removeClass(p[z],"amzn-native-product-feedback-active");}n.addClass(C,"amzn-native-product-feedback-active");for(z=0;z<q.length;z++){q[z].style.display="none";}B=j.getPopupOpenDirection(C,A);for(var y in f){n.removeClass(A,f[y]);}n.addClass(A,f[B]);A.style.display="block";j.nudgePopup(B,C,A);D.stopPropagation();return true;});n.addEventHandler(c,v,["click"],function(A){var y=this.parentNode,z=y.parentNode;if(n.hasClass(this,"post-submit-active")){n.addClass(z,"amzn-native-product-removed");}n.removeClass(z,"amzn-native-product-feedback-active");y.style.display="none";A.stopPropagation();return true;});for(s=0;s<q.length;s++){var u=q[s],r=u.querySelector(".amzn-native-products-feedback-submit"),x=u.querySelector("textarea.amzn-native-products-feedback-comments"),w=u.querySelectorAll("input.amzn-native-products-feedback-input");u.setAttribute("data-item-number",s+"");(function(A,y,B){for(var z=0;z<w.length;z++){n.addEventHandler(c,[w[z]],["click","keyup"],function(){if(A.querySelector("input.amzn-native-products-feedback-input:checked")){n.removeClass(y,"disabled");}else{n.addClass(y,"disabled");}if(n.hasClass(this,"amzn-native-products-other-feedback")&&B.value.length===0){n.addClass(y,"disabled");}});}n.addEventHandler(c,[B],["keyup"],function(){if(!A.querySelector("input.amzn-native-products-feedback-input:checked")){A.querySelector("input.amzn-native-products-other-feedback").checked=true;}if(B.value.length>0){n.removeClass(y,"disabled");}else{if(A.querySelector("input.amzn-native-products-other-feedback:checked")){n.addClass(y,"disabled");}}});n.addEventHandler(c,[y],["click"],function(D){var C,F,G,E;D.preventDefault();if(!n.hasClass(y,"disabled")){C=j.populateFeedback(A);n.addClass(y,"disabled loading");n.postRequest(o.adFeedbackEndpoint,C,function(){F=A.getAttribute("data-item-number");if(a[F]){G=a[F].type;E=a[F][h[G]];j.handleAdFeedbackSubmitSuccess(A,E);}else{j.handleAdFeedbackSubmitSuccess(A);}},j.handleAdFeedbackSubmitFailure);}return true;});})(u,r,x);}}};j.checkSpaceForPopup=function(){var q=document.querySelector("#amzn-native-ad-"+o.slotNum+" .amzn-native-products-list"),p=parseInt(window.getComputedStyle(q).width.replace("px",""));if(p<d){n.addClass(q,"hide-feedback");}else{n.removeClass(q,"hide-feedback");}};j.init=function(p){var r=0,q;g=p;if(m){for(q=0;q<i.length;q++){if(i[q].sourceName in e[o.adMode]){a[r++]=i[q];}}}else{a=i;}};return j;};window.amznassoccsm=(function(){var a={};a.beacon=(function(){var b={};b.firePixel=function(c,g){var f=("https:"===document.location.protocol?"https://":"http://"),e=window.amznassoccsm.host||"aax.amazon-adsystem.com",d="/x/px/";if(g){g+="/";}else{g="";}(new Image()).src=f+e+d+g+c+"&cb="+Math.round(Math.random()*10000000);};return b;})();a.rm=(function(){var c={NSA:{viewability:true}};var d=function(f){var h=[];while(f.parentNode){if(f.id){h.unshift("#"+f.id);break;}else{if(f===f.ownerDocument.documentElement){h.unshift(f.tagName);}else{for(var i=1,g=f;g.previousElementSibling;g=g.previousElementSibling,i++){}h.unshift(f.tagName+":nth-child("+i+")");}f=f.parentNode;}}return h.join(" > ").substring(0,100);};var e=function(h,g){var i=g.e,m=g.i,l=g.w,k=g.d;try{var f=function(){h=h.toUpperCase();switch(h){case"NSA":b(h,i,m,l,k,d(i));break;default:a.beacon.firePixel(JSON.stringify({csmReporter:[{error:"Invalid api "+h+" in csmReporter"}]}));}};f();}catch(j){if(j.stack){a.beacon.firePixel(JSON.stringify({csmReporter:[{error:j.stack}]}));}else{a.beacon.firePixel(JSON.stringify({csmReporter:[{error:j}]}));}}};var b=function(h,j,m,l,k,f){for(var i in c[h]){if(c[h][i]===true){switch(i){case"viewability":var g=new a.detectViewability(j,m,l,k,f);if(g.collectData){g.collectData();}break;case"adDimension":break;}}}};return e;})();a.detectViewability=function(l,s,i,B,c){var r=this,b=1,p=0.5;this.adElement=l;this.adElementContainer=l;this.impId=s;this.adID=c;this.getDuration=true;this.totalTime=0;this.leftPos=null;this.topPos=null;this.start=null;this.end=null;this.area=0;this.cutoff=p;this.cutoffTime=b*1000;this.focused=null;this.timer=false;this.timerStarted=false;this.beaconSent=false;this.hostWindow=i;this.hostDoc=B;this.insideCrossDomainIframe=false;var h=null,v=0;while(this.hostWindow.parent&&this.hostWindow!==this.hostWindow.parent&&this.insideCrossDomainIframe===false&&v<=5){try{v++;var m=this.hostWindow.parent,o=m.document&&m.document.body&&m.document.body.innerHTML;if(o){h=this.hostWindow;this.hostWindow=this.hostWindow.parent;this.hostDoc=this.hostWindow.document;}}catch(x){this.insideCrossDomainIframe=true;break;}}if(h!=null&&this.insideCrossDomainIframe===false){var j=this.hostDoc.querySelectorAll("iframe");j=[].slice.call(j);for(var t=0;t<j.length;t++){if(j[t].contentWindow===h){this.adElementContainer=j[t];break;}}}if(this.adElement&&this.adElement.document&&this.adElement.tagName!=="IFRAME"){this.adElement=this.adElement.document.body;}if(this.adElementContainer&&this.adElementContainer.document&&this.adElementContainer.tagName!=="IFRAME"){this.adElementContainer=this.adElementContainer.document.body;}amznassoccsm.csmReport=amznassoccsm.csmReport||{};if(amznassoccsm.csmReport.hasOwnProperty(this.adID)){return false;}if(this.insideCrossDomainIframe){n(JSON.stringify({adViewability:[{error:encodeURIComponent("Ad slot is inside cross domain iframe. Parent domain "+document.referrer.replace(/\//g,"__"))}]}));}amznassoccsm.csmReport[this.adID]={};amznassoccsm.csmReport[this.adID].container=this.adElementContainer;amznassoccsm.csmReport[this.adID].adElement=this.adElement;function g(k,F){var H=2,e=2;while(k.offsetParent){H+=k.offsetTop;e+=k.offsetLeft;k=k.offsetParent;}if(F!==r.hostWindow){var E=F.parent,I;var G=E.document.getElementsByTagName("iframe");for(var D=0;D<G.length;D++){var J=G[D].contentWindow||G[D].contentDocument.window;if(J===F){I=G[D];}}var C=g(I,F.parent);H+=C.top;e+=C.left;}return{top:H,left:e};}function A(C,F,E){var k=(C==="top")?"pageYOffset":"pageXOffset";if(F[k]!==undefined){return F[k];}else{var e=E.documentElement;var D=e.scrollTop||E.body.scrollTop;var G=e.scrollLeft||E.body.scrollLeft;return(C==="top")?D:G;}}function f(E,D){var C=D.body,k=E.innerWidth||D.documentElement.clientWidth||C.clientWidth||640,e=E.innerHeight||D.documentElement.clientHeight||C.clientHeight||480;return{width:k,height:e};}function q(C,e){if(r.getDuration){var k=r.end-r.start;r.totalTime+=k;}}function w(){if(r.beaconSent===true){return;}try{n(JSON.stringify({adViewability:[{viewable:true}]}));u();}catch(k){n(JSON.stringify({adViewability:[{error:encodeURIComponent("Error sending pixel - "+k)}]}));}}function u(){r.beaconSent=true;}function y(P,I){try{var G=g(P,window),L=G.top,D=G.left,k=P.offsetWidth,O=P.offsetHeight,H=f(r.hostWindow,r.hostDoc),F=H.height,C=H.width;var N=k,K=O,E=A("left",r.hostWindow,r.hostDoc),M=A("top",r.hostWindow,r.hostDoc);if(M>L){K-=(M-L);}if((M+F)<(L+O)){K-=((L+O)-(M+F));}if(E>D){N-=(E-D);}if((E+C)<(D+k)){N-=((D+k)-(E+C));}if(N<0){N=0;}if(N>k){N=k;}if(K<0){K=0;}if(K>O){K=O;}r.leftPos=D/C;r.topPos=L/F;return(O!==0&&k!==0)?(N*K)/(O*k):0;}catch(J){}return 0;}function z(C,e){var k=0;if(r.insideCrossDomainIframe===false){k=y(C,e);}return k;}function d(F){var N=r.adElement,I=r.adElementContainer,k=r.adID;function K(){if(!r.beaconSent){if(r.timer){clearTimeout(r.timer);}r.timer=setTimeout(function(){w();},r.cutoffTime);}}function H(){r.start=new Date().getTime()/1000;K();r.timerStarted=true;}function D(){clearTimeout(r.timer);r.timerStarted=false;r.end=new Date().getTime()/1000;q(N,I);}if(F===true){r.area=z(N,I);var M=r.area,C=r.hostDoc.hasFocus()||r.insideCrossDomainIframe,E,G;if(r.area>r.cutoff){E=true;if(C){H();}}else{E=false;G=false;}try{n(JSON.stringify({adViewability:[{above_the_fold:E,topPos:r.topPos,leftPos:r.leftPos}]}));}catch(J){n(JSON.stringify({adViewability:[{error:encodeURIComponent("Error sending pixel - "+J)}]}));}}else{var L;L=z(N,I);if(document.hasFocus()&&(r.focused===false||r.focused===null)&&L>r.cutoff&&r.timerStarted===false){H();}if(document.hasFocus()){r.focused=true;}else{D();r.focused=false;}if(L>=r.cutoff&&r.timerStarted===false){H();}else{if(L<r.cutoff&&r.timerStarted===true){D();}}r.area=L;}}function n(){var e=Array.prototype.slice.call(arguments);e.push(r.impId);a.beacon.firePixel.apply(a.beacon,e);}this.collectData=function(){var k=this;d(true);var e=function(){if(!k.beaconSent){var C;C=setTimeout(function(){if(C){clearTimeout(C);}d(false);},50);}};this.hostWindow.addEventListener("blur",e,false);this.hostWindow.addEventListener("focus",e,false);this.hostWindow.addEventListener("resize",e,false);this.hostWindow.addEventListener("scroll",e,false);};};a.rmN=function(f,c,b,g){a.rm("NSA",{e:f,i:c,w:b,d:g});};return a;})();window.asinHandler=function(c,d,g,f){var e={},b=false,a=false;e.isItemBlocked=function(h,i){return h.asin===i.item;};e.resetItemContainer=function(h){d.removeClass(h,"amzn-native-short-rating");};e.renderItem=function(o,u,I,q,n,r,z,h,m,w){var j=I,J=u.getElementsByClassName("amzn-native-product-title")[0],H=u.getElementsByClassName("amzn-native-product-title-text")[0],t=u.getElementsByClassName("amzn-native-product-offer-price"),A=u.getElementsByClassName("amzn-native-product-list-price"),l=u.getElementsByClassName("amzn-native-product-prime"),p=u.getElementsByClassName("amzn-native-product-stars"),s=u.getElementsByClassName("amzn-native-product-rating"),E=u.getElementsByClassName("amzn-native-product-review-count"),x=u.getElementsByClassName("amzn-native-product-bs-highlight"),G=u.getElementsByClassName("amzn-native-products-feedback-popup"),D=u.getElementsByClassName("amzn-native-product-link-catcher")[0],v,k,y,C="pr_"+j.sourceName.substr(0,3).toLowerCase()+"_"+((h)?r:(q+"_"+n));y=j.title;y=y.replace(/\\/g,"");H.innerHTML=y;u.setAttribute("title",y);u.style.display="block";if(typeof c.styleOverrides!=="undefined"&&typeof c.styleOverrides.link!=="undefined"&&c.styleOverrides.link!==""){J.style.cssText=c.styleOverrides.link;}if(t&&t.length>0){if(j.price===""&&j.listPrice!==""){j.price=j.listPrice;}var F=d.fixIncorrectPriceRange(j.price);t[0].innerText=F;t[0].textContent=F;if(A&&A.length>0){A[0].innerText=j.listPrice;A[0].textContent=j.listPrice;}if(typeof c.styleOverrides!=="undefined"&&typeof c.styleOverrides.text!=="undefined"&&c.styleOverrides.text!==""){t[0].style.cssText=c.styleOverrides.text;}if(typeof c.styleOverrides!=="undefined"&&typeof c.styleOverrides.strikeText!=="undefined"&&c.styleOverrides.strikeText!==""){if(A&&A.length>0){A[0].style.cssText=c.styleOverrides.strikeText;}}}if(x&&x.length>0){if(z&&j.sourceName==="BestSellers"){x[0].style.display="block";}else{x[0].style.display="none";}}if(p&&p.length>0){v=parseFloat(j.rating);k=parseInt(j.numReviews);if(typeof j.rating!=="undefined"&&!isNaN(v)&&k>0){s[0].style.display="block";p[0].style.width=parseFloat(j.rating)*20+"%";E[0].innerText="("+j.numReviews+")";E[0].textContent=E[0].innerText;}else{s[0].style.display="none";}}if(G&&G.length>0){G[0].style.display="none";d.removeClass(u,"amzn-native-product-feedback-active");d.removeClass(u,"amzn-native-product-removed");}if(m){for(var B=0;B<m.length;B++){if(m[B].item===j.asin){d.addClass(u,"amzn-native-product-removed");}}}o.appendChild(u);e.displayPriceRow(u,j);e.displayProductImage(u,j,w);d.addClickHandlers(g,D,J,j,C,b,a,(typeof f[j.sourceName]!=="undefined")?f[j.sourceName](j,{}):{});};e.displayProductImage=function(i,j,m){var l=i.getElementsByClassName("amzn-native-product-image")[0],n=i.getElementsByClassName("amzn-native-product-image-container")[0],p=n.offsetWidth-10,h=n.offsetHeight-5,o=(d.isRetina())?2:1,k=h*o;l.setAttribute("src",j.imageUrl.replace(/\._AC_SL\d+_\./,"._AC_SL"+k+"_."));l.onload=function(){var s=l.width,q=l.height,u=s/q,r,t,v;if(!m[j.asin]&&u>1.2&&p>s&&h>q){r=p/u;v=o*parseInt(h);if(r>h){t="SY"+v;}else{t="SL"+(o*parseInt(p));}l.setAttribute("src",j.imageUrl.replace(/\._AC_SL\d+_\./,"._AC_"+t+"_."));j.imageUrl=l.getAttribute("src");m[j.asin]=true;}};};e.displayPriceRow=function(l,m){var q=l.getElementsByClassName("amzn-native-product-offer-price"),k=l.getElementsByClassName("amzn-native-product-list-price"),i=l.getElementsByClassName("amzn-native-product-prime"),p=l.getElementsByClassName("amzn-native-product-free-shipping"),n=l.getElementsByClassName("amzn-native-product-attr-container"),r,j=0,h=0,o=0;if(n&&n.length>0){r=n[0].offsetWidth;if(q&&q.length>0){if(!m.price||m.price===""){q[0].style.display="none";}else{q[0].style.display="inline-block";j=j+q[0].offsetWidth;}}if(k&&k.length>0){if(!m.listPrice||m.listPrice===""||m.listPrice===m.price){k[0].style.display="none";}else{k[0].style.display="inline-block";h=k[0].offsetWidth;j=j+h;}}if(p&&p.length>0){p[0].style.display="none";}if(i&&i.length>0){if(!m.primeEligible){i[0].style.display="none";if(p&&p.length>0){if(!m.freeShippingAvailable){p[0].style.display="none";}else{p[0].style.display="inline-block";o=p[0].offsetWidth;j=j+o;}}}else{i[0].style.display="inline-block";if(!d.hasClass(i[0],"amzn-native-product-prime-bottom")){j=j+i[0].offsetWidth;}}}if(k&&k.length>0&&k[0].style.display!=="none"&&j>=r){k[0].style.display="none";j=j-h;h=0;}if(p&&p.length>0){if(j-h>=r){d.addClass(p[0],"compact");if((j-h-o)+p[0].offsetWidth>=r){p[0].style.display="none";}}}}};if(c.deviceType==="MOBILE_BROWSER"){b=true;}else{if(c.deviceType==="TABLET_BROWSER"){a=true;}}return e;};
    window.trackingUtils=function(l,c,e,o,p,h,d,r,t,n,q){var g={},j=new RegExp("/(ref=[\\w]+)/?","i"),a="assocPayloadId",i=function(u){return u&&encodeURIComponent(u).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;");},m=(function(){var u=document.createElement("a");u.href=(window.location!==window.parent.location)?document.referrer:document.location;return u.protocol+"//"+u.hostname+((u.port===""||u.port==="80"||u.port==="443")?"":(":"+u.port))+(u.pathname.indexOf("/")!==0?("/"+u.pathname):u.pathname);}()),s=(function(){return i(m);}()),k=function(u,w,x,v){if(typeof x==="string"&&x!==""){if(u.search===""){u.search="?"+w+"="+x;}else{if(!u.search.match(new RegExp("[?&]"+w+"="))){u.search=u.search.replace(/\?/,"?"+w+"="+x+"&");}else{if(v){u.search=u.search.replace(new RegExp(w+"=([^&]*)"),w+"="+x);}}}}return u;},f=function(w,u,v){if(typeof v==="string"&&v!==""){if(!w.match(/\?/)){w=w+"?"+u+"="+v;}else{if(!w.match(u)){w=w.replace(/\?/,"?"+u+"="+v+"&");}}}return w;},b=function(v){var u=(typeof d!=="undefined")?d:0;if(typeof v!=="undefined"){u=v;}return u;};g.addRefUrls=function(z,A,v,u){var B=new RegExp("^http://.*(amazon|endless|myhabit|amazonwireless|javari|smallparts)\\.(com|ca|co\\.jp|de|fr|co\\.uk|cn|it|es)/.*","i"),w,y,x;for(x=0;x<z.length;x++){z[x].rel="nofollow";w=String(z[x].href);if(y=w.match(B)){z[x].href=g.addTrackingParameters(z[x],A,v,u);}}};g.addRefRefUrl=function(u){return k(u,"ref-refURL",s);};g.getRefRefUrl=function(){return s;};g.getRawRefUrl=function(){return m;};g.addSignature=function(v,u,w){return k(k(v,"sig",u),"sigts",w);};g.addLinkCode=function(v,u){return k(v,"linkCode",u);};g.addTrackingId=function(v,u){return k(v,"tag",u);};g.addLinkId=function(u,v){return k(u,"linkId",v);};g.addSubtag=function(u,v){return k(u,"ascsubtag",v);};g.addCreativeAsin=function(u,v){return k(k(u,"creativeASIN",v),"adId",v);};g.addAdType=function(v,u){return k(v,"adType",u);};g.addAdMode=function(u,v){return k(u,"adMode",v);};g.addAdFormat=function(v,u){return k(v,"adFormat",u);};g.addImpressionTimestamp=function(u,v){if(typeof v==="number"){v=v.toString();}return k(u,"impressionTimestamp",v);};g.convertToRedirectedUrl=function(u,x,v){var w=document.createElement("a");w.setAttribute("href",x);if(typeof v!=="undefined"){k(w,v,i(u.getAttribute("href")),true);}else{w.setAttribute("href",x+"/"+w.getAttribute("href"));}u.setAttribute("href",w.getAttribute("href"));return u;};g.getImpressionToken=function(){return h;};g.generateTransitId=function(){return g.getHashedImpressionToken();};g.getHashedImpressionToken=function(){var u=o.split("/");var v=u[u.length-2];return v;};g.getTransitId=function(){if(typeof assoc_session_storage!=="undefined"){var u=assoc_session_storage.get(a);return u;}return null;};g.getClickUrl=function(){return p;};g.addImpressionToken=function(v,w){var u=b(w);if(typeof h==="string"&&h!==""){k(v,"imprToken",h);if(typeof u!=="undefined"){k(v,"slotNum",u);}}return v;};g.addImpressionTokenStr=function(w,v){var u=b(v);if(typeof h==="string"&&h!==""){w=f(w,"imprToken",h);if(typeof u!=="undefined"){w=f(w,"slotNum",u);}}return w;};g.addTrackingParameters=function(A,B,z,E,x,u,y,w,v,F,D,C){return g.addSignature(g.addCreativeAsin(g.addLinkId(g.addTrackingId(g.addSubtag(g.addLinkCode(g.addRefRefUrl(g.addImpressionToken(g.addRefMarker(g.addAdType(g.addAdMode(g.addAdFormat(g.addImpressionTimestamp(A,C),D),F),v),x))),z),r),E),B),u),y,w);};g.addRefMarker=function(v,x){var w,u=false;if(typeof x==="undefined"){return v;}if(w=v.pathname.match(j)){v.pathname=v.pathname.replace(w[1],"ref="+x);}else{u=(v.pathname.charAt(v.pathname.length-1)==="/");v.pathname=v.pathname+(u?"":"/")+"ref="+x;}return v;};g.getRefMarker=function(u){var v;if(v=u.pathname.match(j)){return v[1].substr(4);}else{return undefined;}};g.getCurrentURL=function(){return(window.location!==window.parent.location)?document.referrer:document.location.href;};g.makeForesterCall=function(w){var u=undefined,v;if(typeof JSON!=="undefined"){v=JSON.stringify(w);}else{if(typeof amzn_assoc_utils!=="undefined"&&typeof amzn_assoc_utils.stringify==="function"){v=amzn_assoc_utils.stringify(w);}else{return;}}if(typeof o==="string"){u=o+"?assoc_payload="+encodeURIComponent(v);g.generateImage(u);}};g.recordImpression=function(v,u,x,w,y){x.linkCode=v;x.trackingId=u;x.refUrl=g.getCurrentURL();if(n||!t){g.makeForesterCall(x);}else{g.addABPFlag(x,g.makeForesterCall);}};g.createAssocPayload=function(y,w,v,u){y.linkCode=w;y.trackingId=v;y.refUrl=u;var x="";if(typeof amzn_assoc_utils!=="undefined"&&typeof amzn_assoc_utils.stringify==="function"){x=amzn_assoc_utils.stringify(y);}return x;};g.recordAESImpression=function(w,u,x){if(typeof q==="string"){var z=g.createAssocPayload(x,w,u,g.getCurrentURL());var v=g.getHashedImpressionToken();var y=q+v+"/pixel?assoc_payload="+encodeURIComponent(z);g.generateImage(y);}};g.recordTransit=function(){if(!(g.getTransitId())||g.isUTMParamPresentInUrl(g.getCurrentURL())){assoc_session_storage.set(a,g.generateTransitId());}};g.isUTMParamPresentInUrl=function(v){var u=v.match(/utm_source=/i);return(u!==null);};g.addAAXClickUrls=function(v){var x,w,u;if(typeof v==="undefined"||typeof p==="undefined"){return;}for(w=0;w<v.length;w++){u=String(v[w].href);if(u.indexOf(p)<0){x=p+u;v[w].href=x;}}};g.addAAXClickUrl=function(u){if(typeof u==="undefined"||u.indexOf(p)===0){return u;}return p+u;};g.updateLinks=function(v,x){var w,u;if(typeof x!=="function"){return;}for(w=0;w<v.length;w++){u=String(v[w].href);v[w].href=x(u);}};g.elementInViewPort=function(u){var v=u.getBoundingClientRect(),w=(v.top>=0&&v.left>=0&&v.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&v.right<=(window.innerWidth||document.documentElement.clientWidth));return{posX:v.left+window.pageXOffset,posY:v.top+window.pageYOffset,inViewPort:w};};g.recordViewability=function(z,y,v,w){if(typeof o==="string"){var x=g.createViewbilityPayload(z,y,v,w);var u=o+x+"&cb="+(new Date()).getTime();g.generateImage(u);}};g.recordAESViewability=function(B,A,v,w){if(typeof q==="string"){var x=g.createViewbilityPayload(B,A,v,w);var u=g.getHashedImpressionToken();var z=encodeURIComponent(x);var y=q+u+"/pixel/"+z+"&cb="+(new Date()).getTime();g.generateImage(y);}};g.createViewbilityPayload=function(z,y,v,x){var w={};if(typeof y!=="undefined"){w.above_the_fold=y;}if(typeof v!=="undefined"){w.topPos=v;}if(typeof x!=="undefined"){w.leftPos=x;}if(typeof z!=="undefined"){if(Object.keys(w).length===0){w.viewable=true;}w.slotNum=z;}var u="";if(typeof amzn_assoc_utils!=="undefined"&&typeof amzn_assoc_utils.stringify==="function"){u=amzn_assoc_utils.stringify({adViewability:[w]});}return u;};g.generateImage=function(u){if(typeof u!=="undefined"){(new Image()).src=u;}};g.addABPFlag=function(x,F){var z=false,y=2,w=document.body?document.body.appendChild(new Image()):new Image(),v=document.body?document.body.appendChild(new Image()):new Image(),C=false,A=false,u=Math.random()*11,E=t+"?ch=*&rn=*",D=function(H,G){if(y===0||G>1000){x.supplySideMetadata={ABPInstalled:y===0&&z};H(x);}else{setTimeout(function(){D(H,G*2);},G*2);}},B=function(){if(--y){return;}z=!C&&A;};w.style.display="none";v.style.display="none";w.onload=B;w.onerror=function(){C=true;B();};w.src=E.replace(/\*/,1).replace(/\*/,u);v.onload=B;v.onerror=function(){A=true;B();};v.src=E.replace(/\*/,2).replace(/\*/,u);D(F,250);};return g;};window.nativeAdLoader=function(o,h){var e={},n=o.widgetServerURL+"/widgets/resolve?t="+o.transform+"&f="+o.filters+"&region="+o.region,m=o.viewabilityJSURL,g=(o.callbacks&&o.callbacks.constructor===Array)?o.callbacks:[],f=(typeof o.excludePhrases==="undefined"||o.excludePhrases==="")?[]:o.excludePhrases.split(","),i=document.createEvent("Event"),d={USD:function(p){return"$"+p;},GBP:function(p){return"£"+p;},CAD:function(p){return"CDN$"+p;},INR:function(p){return"₹"+p;}},k=o.trackingUtils,l=function(){return o.refMarkerPrefix;},c,b=["ASIN","DEAL","CONCEPT"],j=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight),a=Math.max(document.body.scrollWidth,document.body.offsetWidth,document.documentElement.clientWidth,document.documentElement.scrollWidth,document.documentElement.offsetWidth);i.initEvent("reloadWidget",true,true);e.getDesign=function(p){if(typeof p==="undefined"){p="";}switch(p.toLowerCase()){case"enhanced_links":return"card";case"text_links":return"list";case"in_content":return"strip";default:return"grid";}};e.autoOrganicityByMarketplace={US:{ACAP:"",Fallbacks:"",RedButton:"",OptimizationModel:"",VisualSearch:"",OLVisualSearch:"",TextLinks:"",OLTextLinks:"",Similarity:"",ses:"",vtp:"",sdp:"",unk:"",dpfen:"",sefen:"",snfen:"",LivePoolACAP:"",ContX:"",TopOPSData:"",da:"",prb:"",LContX:"",Softlines:"",Concept:"",Search:"",NSA_CPM:"",CompetitorTextLinks:""},GB:{ContX:"",LContX:"",Similarity:"",ses:"",vtp:"",sdp:"",RIExactMatch:"",RIBestBet:"",AksisClickedAsins:"",Fallbacks:"",Search:""},CA:{ContX:"",LContX:"",Similarity:"",ses:"",vtp:"",sdp:"",RIExactMatch:"",RIBestBet:"",AksisClickedAsins:"",Fallbacks:"",BestSellers:"",Search:""},IN:{ContX:"",LContX:"",Similarity:"",ses:"",vtp:"",sdp:"",RIExactMatch:"",RIBestBet:"",AksisClickedAsins:"",Fallbacks:"",BestSellers:"",Search:""}};e.organicity={auto:e.autoOrganicityByMarketplace[o.region],search:{Search:"",Fallbacks:"",RedButton:"",snfen:""},manual:{RandomizedPublisherCuration:"",PublisherCuration:"",Fallbacks:"",RedButton:"",snfen:""},deal:{EmphasizedCategories:"",Fallbacks:""}};e.organicPercentageLimit={auto:75,search:100,manual:100};e.getSignatureForDecoration=function(r,q){var p=q.filter(function(s){return s.originalReference.id===r;});if(p.length>=1){return{sig:p[0].extraInfo.sig,sigts:p[0].extraInfo.sigts};}else{return{};}};e.getFormattedPrice=function(q,p){if(typeof p==="undefined"||!(p in d)||typeof d[p]!=="function"){return"$"+q.toFixed(2);}else{return d[p](q.toFixed(2));}};e.fixIncorrectPriceRange=function(q){if(typeof q!=="undefined"){var p=q.split("-");if(p.length===2){if(p[0].trim()===p[1].trim()){q=p[0].trim();}}}return q;};e.mergeObjects=function(r,q){for(var p in q){if(q.hasOwnProperty(p)){r[p]=q[p];}}return r;};e.updatePrices=function(q){var p;if(q.type==="DEAL"||q.type==="CONCEPT"){return q;}if(q.type==="ASIN"&&typeof q.offerSummary!=="undefined"&&q.offerSummary.value!=null&&q.offerSummary.value.parentASIN){p=q.offerSummary.value.defaultDisplayOffer.value.currency;q.price=e.getFormattedPrice(q.offerSummary.value.defaultDisplayOffer.value.offerPrice,p)+" - "+e.getFormattedPrice(q.offerSummary.value.defaultDisplayOffer.value.ceilingPrice.value,p);q.listPrice="";q.primeEligible=false;}else{if(q.listPriceAmount.value!=null){q.listPrice=e.getFormattedPrice(q.listPriceAmount.value,q.currency);}else{q.listPrice="";}if(typeof q.offerSummary!=="undefined"&&q.offerSummary.value!=null&&q.offerSummary.value.numOffers>0){if(q.offerSummary.value.defaultDisplayOffer.value!=null){q.price=e.getFormattedPrice(q.offerSummary.value.defaultDisplayOffer.value.offerPrice,q.offerSummary.value.defaultDisplayOffer.value.currency);}if(q.listPriceAmount.value!=null&&q.offerSummary.value.defaultDisplayOffer.value!=null&&q.offerSummary.value.defaultDisplayOffer.value.offerPrice>q.listPriceAmount.value){q.listPrice="";}}else{if(q.priceAmount.value!=null){q.price=e.getFormattedPrice(q.priceAmount.value,q.currency);if(q.listPriceAmount.value!=null&&q.priceAmount.value>q.listPriceAmount.value){q.listPrice="";}}else{q.price="";}}}return q;};e.separateFallbacks=function(r){var q=0,p={recommendations:[],fallbacks:[]};if(typeof r!=="undefined"){for(q=0;q<r.length;q++){if(r[q].sourceName==="Fallbacks"){p.fallbacks.push(r[q]);}else{p.recommendations.push(r[q]);}}}return p;};e.filterOrganicItems=function(q){var r=[],p;for(p=0;p<q.length;p++){if(q[p].sourceName in e.organicity[o.adMode]){r.push(q[p]);}}return r;};e.isItemsOfSameType=function(p,q){if(p.length>0&&q.length>0){if(p[0].type!==q[0].type){return false;}}return true;};e.addClass=function(q,r){var p=(q.getAttribute("class")||"")+" "+r;var s=p.split(" ");s=s.filter(function(t,u){return t&&s.indexOf(t)===u;});q.setAttribute("class",s.join(" "));};e.removeClass=function(r,s){var q=(r.getAttribute("class")||"").split(" ");var p=q.indexOf(s);while(p>-1){q.splice(p,1);p=q.indexOf(s);}r.setAttribute("class",q.join(" "));};e.hasClass=function(p,q){return(p.className.split(" ").indexOf(q)>=0);};e.removeAllEventHandlers=function(q){for(var p=0;p<q.length;p++){q[p].el.removeEventListener(q[p].t,q[p].h,false);}};e.removeEventHandlers=function(r,p){for(var q=0;q<r.length;q++){if(p.indexOf(r[q].el)!==-1){r[q].el.removeEventListener(r[q].t,r[q].h,false);}}};e.addEventHandler=function(u,q,p,t){var s,r;for(s=0;s<q.length;s++){for(r=0;r<p.length;r++){if(window.addEventListener){q[s].addEventListener(p[r],t,false);}else{q[s].attachEvent("on"+p[r],t);}u.push({el:q[s],h:t,t:p[r]});}}};e.getWidgetInstance=function(){return{update:function(p,q){var r;for(r in p){if(p.hasOwnProperty(r)){o[r]=p[r];}}if(typeof q!=="undefined"){for(r in q){if(q.hasOwnProperty(r)){delete o[r];}}}document.dispatchEvent(i);},reloadAsSearch:function(q,t,p,r){var s={itemRefs:["java.util.ArrayList",[["com.amazon.widgets.items.KeyPhrase",{id:q,category:t,type:"SEARCH",sourceType:["com.amazon.widgets.relevance.Search",{}]}],["com.amazon.widgets.items.CategoriesRef",{type:"CATEGORY",id:"Category",sourceType:["com.amazon.widgets.relevance.EmptyRelevanceSource",{}]}]]]};o.itemRefs=JSON.stringify(s);o.adMode="search";o.defaultSearchPhrase=q;o.defaultCategory=t;for(var u in p){if(p.hasOwnProperty(u)){o[u]=p[u];}}if(typeof r!=="undefined"){for(u in r){if(r.hasOwnProperty(u)){delete o[u];}}}h.destroy();h.init();}};};e.addClickHandlers=function(r,s,u,q,v,z,w,x){var t,A=false,y=false,p={adMode:o.adMode,linkId:o.linkId,trackingId:o.trackingId,linkCode:o.linkCode,itemType:q.type,itemId:q.itemId,source:q.sourceName},B="";u.setAttribute("href",q.detailPageUrl||q.searchUrl);if(q.digitalProduct){B="_nodl";}k.addTrackingParameters(u,o.linkId,o.linkCode,o.trackingId,l()+v+B,q.itemId,(typeof q.extraInfo==="undefined"?undefined:q.extraInfo.sig),(typeof q.extraInfo==="undefined"?undefined:q.extraInfo.sigts),"smart",o.adMode,e.getDesign(o.design),Date.now());if(typeof q.destUrlPrefix!=="undefined"&&q.destUrlPrefix.value!==null&&q.destUrlPrefix.value.indexOf("picasso")>=0){u=k.convertToRedirectedUrl(u,q.destUrlPrefix.value,"url");}u.setAttribute("href",k.addAAXClickUrl(u.getAttribute("href")));e.addEventHandler(r,[s],["touchstart"],function(){A=false;});e.addEventHandler(r,[s],["touchmove"],function(){A=true;});e.addEventHandler(r,[s],["click","touchend"],function(D){if(A){return;}k.makeForesterCall(e.mergeObjects({logType:"smart_clicks"},e.mergeObjects(e.mergeObjects({},{refInfo:x}),p)));if(!y){setTimeout(function(){y=false;},500);y=true;}for(var C=0;C<g.length;C++){if(typeof g[C].click==="function"){g[C].click();}}D.stopPropagation();});if(!z&&!w){e.addEventHandler(r,[s],["mouseenter","focus"],function(){t=setTimeout(function(){k.makeForesterCall(e.mergeObjects({logType:"smart_hovers"},e.mergeObjects(e.mergeObjects({},{refInfo:x}),p)));},2000);});e.addEventHandler(r,[s],["mouseleave","blur"],function(){clearTimeout(t);});}};e.refreshFooter=function(q){var s=document.querySelectorAll("#amzn-native-ad-"+o.slotNum+" .amzn-native-brand-logo-link"),r=document.querySelectorAll("#amzn-native-ad-"+o.slotNum+" .amzn-native-adchoices-link"),u,t=(typeof q!=="undefined"&&typeof q.DECORATION!=="undefined")?e.getSignatureForDecoration("logo",q.DECORATION):{};for(u=0;u<s.length;u++){var p=(o.region==="IN")?"":"/home/ads";s[u].href=o.acURL+p+"?ac-ms-src=nsa-ads&cid=nsa-ads";k.addTrackingParameters(s[u],o.linkId,o.linkCode,o.trackingId,l()+"logo","logo",t.sig,t.sigts,"smart",o.adMode,e.getDesign(o.design),Date.now());s[u].href=k.addAAXClickUrl(s[u].href);}if(r&&typeof r!=="undefined"&&r.length>0){for(u=0;u<r.length;u++){r[u].href=o.adChoicesURL;k.addTrackingId(k.addLinkCode(k.addRefMarker(r[u],l()+"ac"),o.linkCode),o.trackingId);r[u].href=k.addAAXClickUrl(r[u].href);}}};e.getAvailableItems=function(p,q){return p.results.map(function(r){var s={itemType:r.type,id:r.itemId,source:r.sourceName};if(typeof q[r.sourceName]!=="undefined"){return q[r.sourceName](r,s);}else{return s;}});};e.stop=function(){if(typeof c!=="undefined"){window.clearInterval(c);}};e.init=function(s){var q=false,p,r=function(y){var w=e.separateFallbacks(b.reduce(function(B,C){if(typeof y[C]!=="undefined"){return B.concat(y[C]);}else{return B;}},[])),v=function(B){if(B.type==="CONCEPT"){return Array.isArray(B.imageUrls)&&B.imageUrls.length>0&&B.imageUrls[0]!=="";}return typeof B.imageUrl!=="undefined"&&B.imageUrl!==""&&typeof B.title!=="undefined"&&B.title!==""&&(typeof o.excludeItems==="undefined"||o.excludeItems===""||o.excludeItems.indexOf(B.itemId)<0)&&f.reduce(function(D,C){return D&&B.title.indexOf(C)<0;},true);},t=w.recommendations.filter(v).map(e.updatePrices),z=w.fallbacks.filter(v).map(e.updatePrices),u=y.CATEGORY,x,A=function(){var B=s.getBoundingClientRect().width;if(!q&&Math.abs(B-p)>0.1){q=true;p=B;h.render({results:t,allItems:y},false,!x);q=false;}};if(o.searchBarPresent){h.initSearchBar(u,{results:t,allItems:y});}x=h.render({results:t,allItems:y},true);dealFallbackDisabled=!o.deal_fallback_enable&&o.adMode==="deal";if(!x&&!dealFallbackDisabled){if(e.isItemsOfSameType(t,z)){t=e.filterOrganicItems(t).concat(z);}else{t=z;}h.render({results:t},true,true);}p=s.getBoundingClientRect().width;window.addEventListener("resize",A,false);window.addEventListener("load",A,false);document.addEventListener("reloadWidget",A,false);c=window.setInterval(A,3000);};if(o.itemRefs===""&&o.resolutionPending){h.hide(true,o.itemRefs,"Item Refs is empty");return;}if(o.resolutionPending){window["showItems_"+o.slotNum]=function(u){var t=JSON.parse(u),w=(typeof o.resolvedItems==="undefined"||o.resolvedItems==="")?{}:JSON.parse(decodeURIComponent(o.resolvedItems.replace(/\+/g," "))),v=(function(){for(var y in t){if(t.hasOwnProperty(y)){w[y]=t[y];}}return w;}());r(v);};amzn_assoc_utils.loadRemoteScript(n+"&jsonp=showItems_"+o.slotNum+"&tid="+o.trackingId+"&lc="+o.linkCode+"&u="+k.getRefRefUrl()+"&p="+o.encodedItemRefs);}else{r((typeof o.resolvedItems==="undefined"||o.resolvedItems==="")?{}:JSON.parse(decodeURIComponent(o.resolvedItems.replace(/\+/g," "))));}if(typeof window.amznassoccsm!=="undefined"){if(o.aaxUrl){window.amznassoccsm.host=o.aaxUrl.replace("//","");}window.amznassoccsm.rmN(s,o.impressionId,window,document);}};e.getSlotAttributes=function(p){var q=k.elementInViewPort(p);return{totalDocHeight:j,totalDocWidth:a,actualWidth:p.getBoundingClientRect().width,actualHeight:p.getBoundingClientRect().height,atfInFirstLoad:q.inViewPort,posX:q.posX,posY:q.posY};};e.computeOrganicPercentage=function(s,p,t){var r,q=0;for(r=0;r<s.length;r++){if(s[r].sourceName in t[o.adMode]){q=q+1;}}return(q/p)*100;};e.postRequest=function(p,t,s,r){var q=new XMLHttpRequest();q.onreadystatechange=function(){if(q.readyState===4){if(q.status===200||q.status===204){s(q.responseText);}else{r(q.statusText);}}};q.open("POST",p,true);q.send(JSON.stringify(t));};e.isRetina=function(){var p="(-webkit-min-device-pixel-ratio: 1.5),(min--moz-device-pixel-ratio: 1.5),(-o-min-device-pixel-ratio: 3/2),(min-resolution: 1.5dppx)";if(window.devicePixelRatio>1){return true;}if(window.matchMedia&&window.matchMedia(p).matches){return true;}return false;};e.recordOnloadImpression=function(p){k.recordImpression(o.linkCode,o.trackingId,p,o.wsServingRegion==="NA"&&o.viewerCountry!=="CA");if(typeof window["amzn_assoc_client_cb_"+o.slotNum]==="function"){window["amzn_assoc_client_cb_"+o.slotNum]({type:"onload",data:{},widget:e.getWidgetInstance()});}};return e;};window.nativeAd=function(l){var D={},F=window.nativeAdLoader(l,D),H,x,E=window.nativeAdLayoutComputer,B=l.trackingUtils,i=(l.callbacks&&l.callbacks.constructor===Array)?l.callbacks:[],f=function(){return l.size.split("x")[0];},G=function(){return l.size.split("x")[1];},g,h=10,t=250,r=250,k=4,d=10,J=1,b=document.getElementById("amzn-native-ad-"+l.slotNum),K=document.querySelector("#amzn-native-ad-"+l.slotNum+" div.amzn-native-products-list"),A=false,I=false,q=F.organicity,L=F.organicPercentageLimit,M=function(O,N){if(typeof O.originalReference!=="undefined"){N.ba=O.originalReference.ba;N.ectr=O.originalReference.ectr;N.ccpc=O.originalReference.ccpc;N.acpc=O.originalReference.acpc;N.r=O.originalReference.r;}return N;},j=function(O,N){if(typeof O.originalReference!=="undefined"){N.rs=O.originalReference.rs;}return N;},c={ACAP:j,ContX:j,sefen:M,dpfen:M},o=["KEYWORD","CONTENT_CATEGORY"],m=[],a=function(){return l.refMarkerPrefix;},v=function(){return document.querySelectorAll("#amzn-native-ad-"+l.slotNum+" div.amzn-native-products-list div.amzn-native-product");},s=function(){return{regionId:l.regionInt,ref:a(),adMode:l.adMode,linkCode:l.linkCode,trackingId:l.trackingId,linkId:l.linkId,country:l.viewerCountry,deviceType:l.deviceType,searchBarPresent:l.searchBarPresent,defaultCategory:l.defaultCategory,defaultSearchPhrase:l.defaultSearchPhrase,givenWidth:f(),givenHeight:G(),givenRows:l.rows};},C=function(N,O){O.extraInfo=N.extraInfo;return O;},y=function(N,O){O.extraInfo={dealType:N.dealType};if(typeof N.extraInfo!=="undefined"){O.extraInfo.originalSource=N.extraInfo.OriginalSource;}return O;},u=function(N,O){O.extraInfo=N.extraInfo;return O;},z={ASIN:C,DEAL:y,CONCEPT:u},e={ASIN:(typeof window.asinHandler==="function")?window.asinHandler(l,F,m,c):{},DEAL:(typeof window.dealHandler==="function")?window.dealHandler(l,F,m,c):{},CONCEPT:(typeof window.conceptHandler==="function")?window.conceptHandler(l,F,m,c):{}},n={ASIN:"amzn-native-product-asin-container",DEAL:"amzn-native-product-deal-container",CONCEPT:"amzn-native-product-concept-container"},p={ASIN:10,DEAL:5,CONCEPT:10},w={ASIN:"amzn-native-product-asin",DEAL:"amzn-native-product-deal",CONCEPT:"amzn-native-product-concept"};if(l.divName!==""){g=document.getElementById(l.divName);}else{g=document.querySelector("#amzn-native-ad-"+l.slotNum).parentNode.parentNode;}if(l.deviceType==="MOBILE_BROWSER"){A=true;}else{if(l.deviceType==="TABLET_BROWSER"){I=true;}}if(l.adMode==="search"&&l.defaultSearchPhrase===""){q.search={Search:"",ACAP:"",Fallbacks:""};}if(l.adMode!=="search"){l.defaultSearchPhrase="";}if(l.theme==="dark"){F.addClass(b,"amzn-native-dark");}D.removeAllEventHandlers=function(){F.removeAllEventHandlers(m);m=[];};D.getOrganicCount=function(P,Q){var O,N=0;for(O=0;O<P.length;O++){if(P[O].sourceName in Q[l.adMode]){N=N+1;}}return N;};D.computeLayoutOneRow=function(P,N,Q){var S=P,O=(S-1)*h,R=(N-O)/S;if(R>=Q&&R<=t){return{columnCount:S,columnWidth:R,columnWidthPercentage:((R*100)/N)};}else{return{columnCount:0,columnWidth:0,columnWidthPercentage:0};}};D.renderSearchBar=function(O,P,N){if(x){return x.render(O,P,N);}return false;};D.carouselClickHandler=function(R,N,O,Q,P,S){D.moveCarousel(Q,P,S,N);R.stopPropagation();R.preventDefault();};D.addCarouselEvents=function(Z,S,N,V){var O=document.querySelector("#amzn-native-ad-"+l.slotNum+" .amzn-native-content"),P=document.querySelector("#amzn-native-ad-"+l.slotNum+" div.amzn-native-products-list"),Q=50,T,W,R,Y;for(T=0;T<K.children.length;T++){K.children[T].style.styleFloat="none";K.children[T].style.cssFloat="none";K.children[T].style.display="inline-block";K.children[T].style.verticalAlign="top";}var X=document.querySelector("#amzn-native-ad-"+l.slotNum+" .amzn-native-carousel-leftarrow");var U=document.querySelector("#amzn-native-ad-"+l.slotNum+" .amzn-native-carousel-rightarrow");X.setAttribute("class","amzn-sprite  amzn-native-carousel-leftarrow amzn-native-carousel-leftarrowdefault");U.setAttribute("class","amzn-sprite  amzn-native-carousel-rightarrow amzn-native-carousel-rightarrowdefault");J=1;P.style.marginLeft=0;if(!A&&!I){X.style.display="none";U.style.display="block";if(V){X.addEventListener("mouseover",function(){X.setAttribute("class","amzn-sprite  amzn-native-carousel-leftarrow amzn-native-carousel-leftarrowhover");return true;},false);X.addEventListener("mouseleave",function(){X.setAttribute("class","amzn-sprite  amzn-native-carousel-leftarrow amzn-native-carousel-leftarrowdefault");return true;});U.addEventListener("mouseover",function(){U.setAttribute("class","amzn-sprite  amzn-native-carousel-rightarrow amzn-native-carousel-rightarrowhover");return true;},false);U.addEventListener("mouseleave",function(){U.setAttribute("class","amzn-sprite  amzn-native-carousel-rightarrow amzn-native-carousel-rightarrowdefault");return true;});}else{F.removeEventHandlers(m,[X,U]);}F.addEventHandler(m,[X],["click","touchend"],function(aa){D.carouselClickHandler(aa,1,"smart_carousel_leftclick",Z,S,N);});F.addEventHandler(m,[U],["click","touchend"],function(aa){D.carouselClickHandler(aa,-1,"smart_carousel_rightclick",Z,S,N);});}else{if(V){F.addEventHandler(m,[O],["touchmove"],function(aa){aa.stopPropagation();});}}F.removeClass(b,"amzn-native-ad-top-branding");};D.isSearchBoxMode=function(N){return(typeof N==="undefined"||N.length===0||N[0].sourceName!=="Search");};D.renderSearchBox=function(P,N){var O=document.querySelector("#amzn-native-ad-"+l.slotNum+" .amzn-native-header-text"),Q=document.querySelector("#amzn-native-ad-"+l.slotNum+" .amzn-native-search-bar input.amzn-native-search");if(b.offsetWidth<300){b.style.display="none";return false;}if(!l.searchBarPresent){return false;}K.style.display="none";F.addClass(b,"amzn-native-ad-search-box");if(O){O.innerHTML=l.searchAmazonBackupString;}if(P){Q.value="";}return D.renderSearchBar(b.offsetWidth,false,N);};D.isCarousel=function(Q,P,O,R){var N=D.getOrganicCount(O,R);return Q<=1&&P<N&&l.enableCarousel;};D.convertToAAXClickUrls=function(){var N=document.querySelectorAll("#amzn-native-ad-"+l.slotNum+" .amzn-native-product a");B.addAAXClickUrls(N);};D.renderFallbacks=function(N,O){D.render(N,O,true);};D.render=function(aw,T,ay){var av,au,X,U,R,aA,aa,al=0,ad,ag,Z=false,ao=false,ar=false,ah=parseInt(l.rows),V="grid",aj={},Q=document.querySelector("#amzn-native-ad-"+l.slotNum+" .amzn-native-header .amzn-native-header-text"),N=4,W,at=128,Y=0,ae=[],P=[],ac=document.querySelector("#amzn-native-ad-"+l.slotNum+" div.amzn-native-products-list"),an=navigator.userAgent,O=false,ax,af,ap,az,ab,aq,am,S=false;b.style.display="block";if(ah<=0){ah=1;}if(f()!=="auto"){b.style.width=f()+"px";}else{b.style.width="auto";}aa=b.getBoundingClientRect().width;K.style.display="block";D.renderSearchBar(b.offsetWidth,T,aw.allItems);if(typeof l.styleOverrides!=="undefined"&&typeof l.styleOverrides.header!=="undefined"&&l.styleOverrides.header!==""&&Q!=null){Q.style.cssText=l.styleOverrides.header;}if(typeof localStorage!=="undefined"){af=localStorage.getItem("amzn-native-feedback-blocked-items");if(af){af=JSON.parse(af);}}if(typeof aw.results!=="undefined"){if(af&&T){for(av=aw.results.length-1;av>=0;av--){X=aw.results[av];for(au=0;au<af.length;au++){if(e[X.type].isItemBlocked(X,af[au])){aw.results.splice(av,1);}}}}aw.results=aw.results.slice(0,d);if(aw.results.length>0&&aw.results[0].type==="CONCEPT"){V="concept";}ae=F.getAvailableItems(aw,c);if(l.maxAdsInARow){b.style.maxWidth=(t*l.maxAdsInARow)+"px";aa=b.getBoundingClientRect().width;}ag=E.computeLayout(aa,undefined,Z,V,l.maxAdsInARow);N=ag.columnCount;W=ag.columnWidth;al=ag.columnWidthPercentage;ad=ag.marginLeftPercentage;if(N===0){D.hide(T,ae,"Not enough width",ay,aw.allItems);return false;}while(ah>0&&N*ah>aw.results.length){ah=ah-1;}while(ah>0&&F.computeOrganicPercentage(aw.results,ah*N,q)<L[l.adMode]){ah=ah-1;}Z=D.isCarousel(ah,N,aw.results,q);if(Z){D.convertToAAXClickUrls();O=(an.match(/.*Android.*Firefox.*/))?true:false;if(O){ac.style.whiteSpace="normal";}}if(ah===0){if(!Z){aq=D.getOrganicCount(aw.results,q);if(aq<ag.columnCount){am=aq*t;if(am!==0){b.style.maxWidth=(aq*t)+"px";aa=b.getBoundingClientRect().width;}}ag=D.computeLayoutOneRow(aq,aa,at);if(ag.columnCount===0){D.hide(T,ae,"Not enough products for even one row",ay,aw.allItems);return false;}else{ar=true;N=ag.columnCount;W=ag.columnWidth;al=ag.columnWidthPercentage;ao=true;ah=1;}}else{ah=1;}}F.removeClass(b,"amzn-native-carousel");F.removeClass(b,"amzn-native-carousel-mobile");if(Z){ar=true;if(!A&&!I){F.addClass(b,"amzn-native-carousel");}else{F.addClass(b,"amzn-native-carousel-mobile");}ag=E.computeLayout(aa,at,Z);if(ag.columnCount===0){D.hide(T,ae,"Not enough products for carousel",ay,aw.allItems);return false;}N=ag.columnCount;W=ag.columnWidth;al=ag.columnWidthPercentage;}if(typeof window.nativeAdFeedback!=="undefined"){if(T){H=window.nativeAdFeedback(l,D,m,N,aw.results,ar,q);H.init(Z);}if(H){H.checkSpaceForPopup();}}while(K.children.length>0){R=K.removeChild(K.children[0]);}J=1;for(var ak in e){if(e.hasOwnProperty(ak)&&typeof e[ak].resetItemContainer==="function"){e[ak].resetItemContainer(K);}}ap=aw.results.slice();if(ar){ap=ap.filter(function(aB){return aB.sourceName in q[l.adMode];});}ab=Z?ap.length:ah*N;for(av=0;av<ap.length&&av<ab;av++){X=ap[av];U={itemType:X.type,id:X.itemId,source:X.sourceName,row:Math.floor(av/N),column:av%N};if(typeof z[X.type]!=="undefined"){U=z[X.type](X,U);}if(typeof c[X.sourceName]!=="undefined"){P.push(c[X.sourceName](X,U));}else{P.push(U);}aA=R.cloneNode(true);aA.getElementsByClassName(w[X.type])[0].style.display="block";aA.setAttribute("data-item-type",X.type);F.addClass(aA,n[X.type]);aA.style.marginLeft="0px";if(!Z&&av%N!==0){aA.style.marginLeft=ad+"%";}if(Z&&av!==0){aA.style.marginLeft=h+"px";}if(Z){aA.style.width=W+"px";}else{aA.style.width=al+"%";aA.style.styleFloat="";aA.style.cssFloat="";aA.style.display="";aA.style.verticalAlign="";}e[X.type].renderItem(K,aA,X,Math.floor(av/N),av%N,av,l.adMode==="auto"||l.adMode==="search",Z,af,aj);if(!X.primeEligible&&X.freeShippingAvailable){S=true;}}if(l.expDetails&&!S){var ai=JSON.parse(l.expDetails);ai=ai.filter(function(aB){return aB.experimentCode!=="NSA_FreeShipping_4166";});l.expDetails=JSON.stringify(ai);}Y=ah*N;if(Z||ao){Y=av;}if(Z&&!A){D.renderSearchBar(b.offsetWidth-100,false,aw.allItems);}if(!A&&!I){D.addTabIndices(Y);}D.adjustTitles(Y);ax=D.adjustHeight(ah,Z,T,ay);if(ax<=0){return false;}else{if(!Z&&!ao){Y=ax*N;}}if(!A&&!I){if(typeof H!=="undefined"){H.addAdFeedbackEventListeners();}}if(Z){D.addCarouselEvents(N,W,Y,T);}if(T){F.refreshFooter(aw.allItems);D.done(P,aw.allItems,Y);}if(!A){D.removeInvisibleCardsFromDOM(Y);}}else{D.hide(T,ae,"No results at all",ay,aw.allItems);return false;}D.convertToAAXClickUrls();return true;};D.addTabIndices=function(N){var O=v(),P;for(P=0;P<O.length;P++){if(P<N){O[P].setAttribute("tabindex","0");}else{O[P].setAttribute("tabindex","-1");}}};D.adjustHeight=function(X,T,Y,V,S){var O=document.querySelector("#amzn-native-ad-"+l.slotNum+" .amzn-native-content"),P=Number.MAX_VALUE,aa,R,U=document.querySelector("#amzn-native-ad-"+l.slotNum+" .amzn-native-header"),N=document.querySelector("#amzn-native-ad-"+l.slotNum+" .amzn-native-search-bar"),Z=document.querySelector("#amzn-native-ad-"+l.slotNum+" .amzn-native-brand-bottom"),Q=((U==null)?0:(U.offsetHeight+l.headerDistance))+((N==null)?0:N.offsetHeight)+Z.offsetHeight,W=Math.min(r,document.querySelector("#amzn-native-ad-"+l.slotNum+" div.amzn-native-products-list div.amzn-native-product").offsetHeight);if(window.getComputedStyle(g).height!=="auto"){P=g.offsetHeight;}if(G()!=="auto"){P=parseInt(G());}for(R=X;R>0;R--){aa=Q+(W*R+h*(R-1));if(aa<=P){break;}}if(R===0){R=1;}if(!T){O.style.height=(W*R+h*(R-1)+2)+"px";}return R;};D.getTallestElement=function(O,R,W,P){var Q,N,U,X,Y=0,S=-1,T,V;for(T=0;T<R;T++){V=O[T].getAttribute("data-item-type");U=w[V];N=O[T].getElementsByClassName(U)[0];Q=N.getElementsByClassName(W)[0];if(typeof Q!=="undefined"){X=Q.clientHeight||Q.scrollHeight;if(Y<X){Y=X;S=T;}}}if(typeof P!=="undefined"&&Y===0){Y=P;S=0;}return{i:S,h:Y};};D.truncateTitles=function(aa){var P=v(),O,T,V,S,Q,X,Y,N,R,U,Z=0,W;for(U=0;U<aa;U++){W=P[U].getAttribute("data-item-type");V=w[W];O=P[U].getElementsByClassName(V)[0];T=O.getElementsByClassName("amzn-native-product-title-container")[0];S=O.getElementsByClassName("amzn-native-product-attr-container");Q=T.getElementsByClassName("amzn-native-product-title-text")[0];X=Q.innerHTML;Y=T.offsetTop;if(S&&S.length>0){N=S[0].offsetTop;}else{N=P[U].offsetHeight;}R=T.offsetHeight;Z=0;while(Y+R>N&&R>45){if(X.length<15||Z++>10000){break;}X=X.substring(0,X.length-5);Q.innerHTML=X+"&hellip;";R=T.offsetHeight;}}};D.removeInvisibleCardsFromDOM=function(N){var O;for(O=N;O<K.children.length;O++){K.children[O].style.display="none";}};D.moveCarousel=function(X,R,N,O){var Q=document.querySelector("#amzn-native-ad-"+l.slotNum+" div.amzn-native-products-list"),P=b.getBoundingClientRect().width,U=((N*R)+(N-1)*h)-P,V=Q.style.marginLeft,W=document.querySelector("#amzn-native-ad-"+l.slotNum+" .amzn-native-carousel-leftarrow"),T=document.querySelector("#amzn-native-ad-"+l.slotNum+" .amzn-native-carousel-rightarrow"),S;if(V){V=parseInt(V.replace("px",""));}else{V=0;}S=V+(O*X*R)+(O*X*h);if(O===1&&T.style.display==="none"){S=S-(R*0.5)-h;}if(S>=0){S=0;W.style.display="none";}else{W.style.display="block";}if(Math.abs(S)>=U){S=-U;T.style.display="none";}else{T.style.display="block";}Q.style.marginLeft=S+"px";};D.adjustTitles=function(Z){var O=v(),R,Q,U,T,Y,X,N,W,S,P,V;if(O&&O.length){Y=D.getTallestElement(O,Z,"amzn-native-product-title-container");X=D.getTallestElement(O,Z,"amzn-native-product-attr-container");W=O[Y.i].getAttribute("data-item-type");S=w[W];P=O[Y.i].getElementsByClassName(S)[0];R=P.getElementsByClassName("amzn-native-product-title-container")[0];if(X.i>=0){V=O[X.i].getElementsByClassName(S)[0];Q=V.getElementsByClassName("amzn-native-product-attr-container");}if(Q&&Q.length>0){N=Q[0].offsetTop;}else{N=O[Y.i].offsetHeight;}U=R.offsetTop+(Y.h>l.maxTitleHeight?l.maxTitleHeight:Y.h)-N+p[W];for(T=0;T<Z;T++){O[T].style.height=(O[T].offsetHeight+U)+"px";}D.truncateTitles(Z);}};D.initSearchBar=function(N,O){if(typeof window.nativeAdSearchBar==="function"){x=window.nativeAdSearchBar(l,F,B,m,A,b);x.init(N,O);}};D.titleHandler=function(N){var Q={isAllDealItems:true,isAllDealOfTheDay:true,isAllLightningDeals:true,isAllFallbackASINs:true},O=document.querySelector("#amzn-native-ad-"+l.slotNum+" .amzn-native-header-text"),P=document.querySelector("#amzn-native-ad-"+l.slotNum+" .amzn-native-products-list");Q=N.reduce(function(S,R){return{isAllDealItems:S.isAllDealItems&&R.itemType==="DEAL",isAllDealOfTheDay:S.isAllDealOfTheDay&&R.itemType==="DEAL"&&R.extraInfo.dealType==="DEAL_OF_THE_DAY",isAllLightningDeals:S.isAllLightningDeals&&R.itemType==="DEAL"&&R.extraInfo.dealType==="LIGHTNING_DEAL",isAllFallbackASINs:S.isAllFallbackASINs&&R.itemType==="ASIN"&&R.source==="Fallbacks"};},Q);if(!l.userSetTitle){if(Q.isAllDealItems){if(l.adMode==="deal"){if(Q.isAllDealOfTheDay){O.innerText=l.dealTitleStrings.dealsOfTheDay;O.textContent=l.dealTitleStrings.dealsOfTheDay;F.addClass(P,"amzn-native-products-all-dd");}else{if(Q.isAllLightningDeals){O.innerText=l.dealTitleStrings.lightningDeals;O.textContent=l.dealTitleStrings.lightningDeals;F.addClass(P,"amzn-native-products-all-ld");}else{O.innerText=l.dealTitleStrings.mixedDeals;O.textContent=l.dealTitleStrings.mixedDeals;}}}else{if(Q.isAllDealOfTheDay){O.innerText=l.dealTitleStrings.dealsOfTheDayFb;O.textContent=l.dealTitleStrings.dealsOfTheDayFb;F.addClass(P,"amzn-native-products-all-dd");}else{if(Q.isAllLightningDeals){O.innerText=l.dealTitleStrings.lightningDealsFb;O.textContent=l.dealTitleStrings.lightningDealsFb;F.addClass(P,"amzn-native-products-all-ld");}else{O.innerText=l.dealTitleStrings.mixedDealsFb;O.textContent=l.dealTitleStrings.mixedDealsFb;}}}}else{if(Q.isAllFallbackASINs){O.innerText=l.fallbackTitleString;O.textContent=l.fallbackTitleString;}}}};D.done=function(N,S,O){var P={},R,T=s(),Q,V,U=N.slice(0,O);for(Q in T){if(T.hasOwnProperty(Q)){P[Q]=T[Q];}}P.visibleItemCount=O;P.axfExperiment=l.expDetails;P.slotNum=l.slotNum;P.items=U;P.logType="smart_impressions";P.design="grid";if(typeof l.estimatedPerformance!=="undefined"&&Object.keys(l.estimatedPerformance).length>0){P.eperf=l.estimatedPerformance;P.eCTR=l.estimatedPerformance.eCTR;P.eOPC=l.estimatedPerformance.eOPC;P.eeCPM=l.estimatedPerformance.eeCPM;P.bidComputationCode=l.estimatedPerformance.bidComputationCode;P.asinAttributes=l.estimatedPerformance.asinAttributes;P.ead=l.estimatedPerformance.ead;}else{P.ead=l.ead;}if(typeof S!=="undefined"){for(Q=0;Q<o.length;Q++){if(typeof S[o[Q]]!=="undefined"){P[o[Q]]=S[o[Q]].map(function(W){return{id:W.originalReference.id,rs:W.originalReference.rs};});}}}if(l.pcData!=="undefined"&&l.pcData){R=JSON.parse(l.pcData);P.livePoolPCScore=R.livePoolPCScore;P.livePoolModelVersion=R.livePoolModelVersion;P.contXPCScore=R.contXPCScore;P.contXModelVersion=R.contXModelVersion;}F.mergeObjects(P,F.getSlotAttributes(b));F.recordOnloadImpression(P);D.titleHandler(U);for(Q=0;Q<i.length;Q++){i[Q].done(b);}};D.hide=function(T,P,Q,R,U){var O={},S,V=s(),W;if(l.adMode==="search"){W=D.renderSearchBox(T,U);if(!W){b.style.display="none";}else{if(W&&T){F.refreshFooter(U);D.convertToAAXClickUrls();Q=Q+" - replaced by search bar";}}}else{b.style.display="none";}if(T){for(var N in V){if(V.hasOwnProperty(N)){O[N]=V[N];}}O.logType="smart_hide"+(R?"_fallback":"");O.availableItems=P;O.reason=Q;if(typeof U!=="undefined"){for(N=0;N<o.length;N++){if(typeof U[o[N]]!=="undefined"){O[o[N]]=U[o[N]].map(function(X){return{id:X.originalReference.id,rs:X.originalReference.rs};});}}}if(l.pcData!=="undefined"&&l.pcData){S=JSON.parse(l.pcData);O.livePoolPCScore=S.livePoolPCScore;O.livePoolModelVersion=S.livePoolModelVersion;O.contXPCScore=S.contXPCScore;O.contXModelVersion=S.contXModelVersion;}B.makeForesterCall(O);if(!R&&typeof window["amzn_assoc_client_cb_"+l.slotNum]==="function"){window["amzn_assoc_client_cb_"+l.slotNum]({type:"onhide",data:{reason:Q},widget:F.getWidgetInstance()});}}};D.destroy=function(){D.removeAllEventHandlers();};D.init=function(){b.style.display="none";F.init(b);for(var N=0;N<i.length;N++){i[N].init();}};D.stop=F.stop;D.getItemHandler=function(N){return e[N];};D.getLoaderModule=function(){return F;};return D;};var callbacks=[];if(typeof window.nativeAdTaboolaConnect==="function"){callbacks.push(window.nativeAdTaboolaConnect("https://cdn.taboola.com/ext/tbc.js"));}window.nativeAd({adId:"A5EP2cQZJk_np3QK5bLZrGE",design:"Native_Compact",slotNum:"0",widgetServerURL:"//ws-na.amazon-adsystem.com",completionServiceURL:"//completion.amazon.com/search/complete",aaxUrl:"//aax-us-east.amazon-adsystem.com",region:"US",wsServingRegion:"NA",asins:"",adMode:"auto",itemRefs:"",encodedItemRefs:"",resolvedItems:"%7B%22ASIN%22%3A%5B%7B%22asin%22%3A%221555583334%22%2C%22title%22%3A%22Server+Architectures%3A+Multiprocessors%2C+Clusters%2C+Parallel+Systems%2C+Web+Servers%2C+Storage+Solutions%22%2C%22priceAmount%22%3A%7B%22value%22%3A70.7%7D%2C%22listPriceAmount%22%3A%7B%22value%22%3A101.0%7D%2C%22currency%22%3A%22USD%22%2C%22imageUrl%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FI%2F51rH972UhwL._AC_SL230_.jpg%22%2C%22detailPageUrl%22%3A%22https%3A%2F%2Fwww.amazon.com%2Fdp%2F1555583334%22%2C%22primeEligible%22%3Atrue%2C%22rating%22%3A4.7%2C%22numReviews%22%3A2%2C%22originalReference%22%3A%7B%22id%22%3A%221555583334%22%2C%22src%22%3A%7B%7D%2C%22rt%22%3A%22rec%22%2C%22rs%22%3A1.667%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22adultProduct%22%3Afalse%2C%22superSaverShippingEligible%22%3Atrue%2C%22subtitle%22%3A%22Chevance%2C+Ren%C3%A9+J.+%28Paperback%29%22%2C%22brand%22%3A%22Digital+Press%22%2C%22type%22%3A%22ASIN%22%2C%22extraInfo%22%3A%7B%22opc%22%3A%221.04%22%2C%22cl%22%3A%22SUBCAT%22%2C%22cr%22%3A%22.03%22%7D%2C%22itemId%22%3A%221555583334%22%2C%22sourceName%22%3A%22ContX%22%2C%22digitalProduct%22%3Afalse%2C%22offerSummary%22%3A%7B%22value%22%3A%7B%22primeEligibleDisplayOffer%22%3A%7B%22value%22%3A%7B%22offerPrice%22%3A70.7%2C%22ceilingPrice%22%3A%7B%22value%22%3Anull%7D%2C%22currency%22%3A%22USD%22%2C%22shippingPrice%22%3A%7B%22value%22%3A0.0%7D%2C%22primeEligible%22%3Atrue%7D%7D%2C%22outOfStock%22%3Afalse%2C%22parentASIN%22%3Afalse%2C%22numPrimeEligibleOffers%22%3A1%2C%22numOffers%22%3A5%2C%22originalReference%22%3A%7B%22id%22%3A%221555583334%22%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22ASIN_OFFER%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%221555583334%22%2C%22sourceName%22%3A%22ContX%22%2C%22defaultDisplayOffer%22%3A%7B%22value%22%3A%7B%22offerPrice%22%3A38.9%2C%22ceilingPrice%22%3A%7B%22value%22%3Anull%7D%2C%22currency%22%3A%22USD%22%2C%22shippingPrice%22%3A%7B%22value%22%3A0.0%7D%2C%22primeEligible%22%3Afalse%7D%7D%7D%7D%2C%22destUrlPrefix%22%3A%7B%22value%22%3Anull%7D%2C%22outOfStock%22%3Afalse%2C%22freeShippingAvailable%22%3Atrue%7D%2C%7B%22asin%22%3A%22B009PSWJHA%22%2C%22title%22%3A%22Spring+Data%3A+Modern+Data+Access+for+Enterprise+Java%22%2C%22priceAmount%22%3A%7B%22value%22%3A18.35%7D%2C%22listPriceAmount%22%3A%7B%22value%22%3Anull%7D%2C%22currency%22%3A%22USD%22%2C%22imageUrl%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FI%2F511FeZ5VzmL._AC_SL230_.jpg%22%2C%22detailPageUrl%22%3A%22https%3A%2F%2Fwww.amazon.com%2Fdp%2FB009PSWJHA%22%2C%22primeEligible%22%3Afalse%2C%22rating%22%3A3.9%2C%22numReviews%22%3A11%2C%22originalReference%22%3A%7B%22id%22%3A%22B009PSWJHA%22%2C%22src%22%3A%7B%7D%2C%22rt%22%3A%22rec%22%2C%22rs%22%3A1.617%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22adultProduct%22%3Afalse%2C%22superSaverShippingEligible%22%3Afalse%2C%22subtitle%22%3A%22%22%2C%22brand%22%3A%22%22%2C%22type%22%3A%22ASIN%22%2C%22extraInfo%22%3A%7B%22opc%22%3A%22.31%22%2C%22cl%22%3A%22SUBCAT%22%2C%22cr%22%3A%22.02%22%7D%2C%22itemId%22%3A%22B009PSWJHA%22%2C%22sourceName%22%3A%22ContX%22%2C%22digitalProduct%22%3Atrue%2C%22offerSummary%22%3A%7B%22value%22%3A%7B%22primeEligibleDisplayOffer%22%3A%7B%22value%22%3Anull%7D%2C%22outOfStock%22%3Afalse%2C%22parentASIN%22%3Afalse%2C%22numPrimeEligibleOffers%22%3A0%2C%22numOffers%22%3A1%2C%22originalReference%22%3A%7B%22id%22%3A%22B009PSWJHA%22%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22ASIN_OFFER%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22B009PSWJHA%22%2C%22sourceName%22%3A%22ContX%22%2C%22defaultDisplayOffer%22%3A%7B%22value%22%3A%7B%22offerPrice%22%3A18.35%2C%22ceilingPrice%22%3A%7B%22value%22%3Anull%7D%2C%22currency%22%3A%22USD%22%2C%22shippingPrice%22%3A%7B%22value%22%3A0.0%7D%2C%22primeEligible%22%3Afalse%7D%7D%7D%7D%2C%22destUrlPrefix%22%3A%7B%22value%22%3Anull%7D%2C%22outOfStock%22%3Afalse%2C%22freeShippingAvailable%22%3Atrue%7D%2C%7B%22asin%22%3A%221787129519%22%2C%22title%22%3A%22Spring+Security+-+Third+Edition%3A+Secure+your+web+applications%2C+RESTful+services%2C+and+microservice+architectures%22%2C%22priceAmount%22%3A%7B%22value%22%3A49.99%7D%2C%22listPriceAmount%22%3A%7B%22value%22%3Anull%7D%2C%22currency%22%3A%22USD%22%2C%22imageUrl%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FI%2F41ZTT4Mvs7L._AC_SL230_.jpg%22%2C%22detailPageUrl%22%3A%22https%3A%2F%2Fwww.amazon.com%2Fdp%2F1787129519%22%2C%22primeEligible%22%3Atrue%2C%22rating%22%3A3.7%2C%22numReviews%22%3A5%2C%22originalReference%22%3A%7B%22id%22%3A%221787129519%22%2C%22src%22%3A%7B%7D%2C%22rt%22%3A%22rec%22%2C%22rs%22%3A1.555%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22adultProduct%22%3Afalse%2C%22superSaverShippingEligible%22%3Atrue%2C%22subtitle%22%3A%22Knutson%2C+Mick%2C+Winch%2C+Robert%2C+Mularien%2C+Peter+%28Paperback%29%22%2C%22brand%22%3A%22%22%2C%22type%22%3A%22ASIN%22%2C%22extraInfo%22%3A%7B%22opc%22%3A%22.10%22%2C%22cl%22%3A%22GL%22%2C%22cr%22%3A%22.00%22%7D%2C%22itemId%22%3A%221787129519%22%2C%22sourceName%22%3A%22ContX%22%2C%22digitalProduct%22%3Afalse%2C%22offerSummary%22%3A%7B%22value%22%3A%7B%22primeEligibleDisplayOffer%22%3A%7B%22value%22%3A%7B%22offerPrice%22%3A49.99%2C%22ceilingPrice%22%3A%7B%22value%22%3Anull%7D%2C%22currency%22%3A%22USD%22%2C%22shippingPrice%22%3A%7B%22value%22%3A0.0%7D%2C%22primeEligible%22%3Atrue%7D%7D%2C%22outOfStock%22%3Afalse%2C%22parentASIN%22%3Afalse%2C%22numPrimeEligibleOffers%22%3A1%2C%22numOffers%22%3A5%2C%22originalReference%22%3A%7B%22id%22%3A%221787129519%22%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22ASIN_OFFER%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%221787129519%22%2C%22sourceName%22%3A%22ContX%22%2C%22defaultDisplayOffer%22%3A%7B%22value%22%3A%7B%22offerPrice%22%3A49.99%2C%22ceilingPrice%22%3A%7B%22value%22%3Anull%7D%2C%22currency%22%3A%22USD%22%2C%22shippingPrice%22%3A%7B%22value%22%3A0.0%7D%2C%22primeEligible%22%3Atrue%7D%7D%7D%7D%2C%22destUrlPrefix%22%3A%7B%22value%22%3Anull%7D%2C%22outOfStock%22%3Afalse%2C%22freeShippingAvailable%22%3Atrue%7D%2C%7B%22asin%22%3A%221449323952%22%2C%22title%22%3A%22Spring+Data%22%2C%22priceAmount%22%3A%7B%22value%22%3A37.18%7D%2C%22listPriceAmount%22%3A%7B%22value%22%3A39.99%7D%2C%22currency%22%3A%22USD%22%2C%22imageUrl%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FI%2F41h6g9epCdL._AC_SL230_.jpg%22%2C%22detailPageUrl%22%3A%22https%3A%2F%2Fwww.amazon.com%2Fdp%2F1449323952%22%2C%22primeEligible%22%3Atrue%2C%22rating%22%3A3.9%2C%22numReviews%22%3A11%2C%22originalReference%22%3A%7B%22id%22%3A%221449323952%22%2C%22src%22%3A%7B%7D%2C%22rt%22%3A%22rec%22%2C%22rs%22%3A1.508%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22adultProduct%22%3Afalse%2C%22superSaverShippingEligible%22%3Atrue%2C%22subtitle%22%3A%22Pollack%2C+Mark+%28Paperback%29%22%2C%22brand%22%3A%22imusti%22%2C%22type%22%3A%22ASIN%22%2C%22extraInfo%22%3A%7B%22opc%22%3A%22.63%22%2C%22cl%22%3A%22SUBCAT%22%2C%22cr%22%3A%22.02%22%7D%2C%22itemId%22%3A%221449323952%22%2C%22sourceName%22%3A%22ContX%22%2C%22digitalProduct%22%3Afalse%2C%22offerSummary%22%3A%7B%22value%22%3A%7B%22primeEligibleDisplayOffer%22%3A%7B%22value%22%3A%7B%22offerPrice%22%3A34.7%2C%22ceilingPrice%22%3A%7B%22value%22%3Anull%7D%2C%22currency%22%3A%22USD%22%2C%22shippingPrice%22%3A%7B%22value%22%3A0.0%7D%2C%22primeEligible%22%3Atrue%7D%7D%2C%22outOfStock%22%3Afalse%2C%22parentASIN%22%3Afalse%2C%22numPrimeEligibleOffers%22%3A1%2C%22numOffers%22%3A9%2C%22originalReference%22%3A%7B%22id%22%3A%221449323952%22%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22ASIN_OFFER%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%221449323952%22%2C%22sourceName%22%3A%22ContX%22%2C%22defaultDisplayOffer%22%3A%7B%22value%22%3A%7B%22offerPrice%22%3A34.7%2C%22ceilingPrice%22%3A%7B%22value%22%3Anull%7D%2C%22currency%22%3A%22USD%22%2C%22shippingPrice%22%3A%7B%22value%22%3A0.0%7D%2C%22primeEligible%22%3Atrue%7D%7D%7D%7D%2C%22destUrlPrefix%22%3A%7B%22value%22%3Anull%7D%2C%22outOfStock%22%3Afalse%2C%22freeShippingAvailable%22%3Atrue%7D%2C%7B%22asin%22%3A%221617292540%22%2C%22title%22%3A%22Spring+Boot+In+Action%22%2C%22priceAmount%22%3A%7B%22value%22%3A36.5%7D%2C%22listPriceAmount%22%3A%7B%22value%22%3A44.99%7D%2C%22currency%22%3A%22USD%22%2C%22imageUrl%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FI%2F41Mno4eQFkL._AC_SL230_.jpg%22%2C%22detailPageUrl%22%3A%22https%3A%2F%2Fwww.amazon.com%2Fdp%2F1617292540%22%2C%22primeEligible%22%3Afalse%2C%22rating%22%3A3.6%2C%22numReviews%22%3A32%2C%22originalReference%22%3A%7B%22id%22%3A%221617292540%22%2C%22src%22%3A%7B%7D%2C%22rt%22%3A%22rec%22%2C%22rs%22%3A1.496%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22adultProduct%22%3Afalse%2C%22superSaverShippingEligible%22%3Afalse%2C%22subtitle%22%3A%22Walls%2C+Craig+%28Paperback%29%22%2C%22brand%22%3A%22Manning+Publications%22%2C%22type%22%3A%22ASIN%22%2C%22extraInfo%22%3A%7B%22opc%22%3A%22.70%22%2C%22cl%22%3A%22ASIN%22%2C%22cr%22%3A%22.02%22%7D%2C%22itemId%22%3A%221617292540%22%2C%22sourceName%22%3A%22ContX%22%2C%22digitalProduct%22%3Afalse%2C%22offerSummary%22%3A%7B%22value%22%3A%7B%22primeEligibleDisplayOffer%22%3A%7B%22value%22%3Anull%7D%2C%22outOfStock%22%3Afalse%2C%22parentASIN%22%3Afalse%2C%22numPrimeEligibleOffers%22%3A0%2C%22numOffers%22%3A8%2C%22originalReference%22%3A%7B%22id%22%3A%221617292540%22%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22ASIN_OFFER%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%221617292540%22%2C%22sourceName%22%3A%22ContX%22%2C%22defaultDisplayOffer%22%3A%7B%22value%22%3A%7B%22offerPrice%22%3A39.01%2C%22ceilingPrice%22%3A%7B%22value%22%3Anull%7D%2C%22currency%22%3A%22USD%22%2C%22shippingPrice%22%3A%7B%22value%22%3A0.0%7D%2C%22primeEligible%22%3Afalse%7D%7D%7D%7D%2C%22destUrlPrefix%22%3A%7B%22value%22%3Anull%7D%2C%22outOfStock%22%3Afalse%2C%22freeShippingAvailable%22%3Atrue%7D%2C%7B%22asin%22%3A%22161729182X%22%2C%22title%22%3A%22CORS+in+Action%3A+Creating+and+consuming+cross-origin+APIs%22%2C%22priceAmount%22%3A%7B%22value%22%3A49.99%7D%2C%22listPriceAmount%22%3A%7B%22value%22%3Anull%7D%2C%22currency%22%3A%22USD%22%2C%22imageUrl%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FI%2F517iLEcdqOL._AC_SL230_.jpg%22%2C%22detailPageUrl%22%3A%22https%3A%2F%2Fwww.amazon.com%2Fdp%2F161729182X%22%2C%22primeEligible%22%3Atrue%2C%22rating%22%3A3.8%2C%22numReviews%22%3A5%2C%22originalReference%22%3A%7B%22id%22%3A%22161729182X%22%2C%22src%22%3A%7B%7D%2C%22rt%22%3A%22rec%22%2C%22rs%22%3A1.357%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22adultProduct%22%3Afalse%2C%22superSaverShippingEligible%22%3Atrue%2C%22subtitle%22%3A%22Hossain%2C+Monsur+%28Paperback%29%22%2C%22brand%22%3A%22Manning+Publications%22%2C%22type%22%3A%22ASIN%22%2C%22extraInfo%22%3A%7B%22opc%22%3A%22.59%22%2C%22cl%22%3A%22SUBCAT%22%2C%22cr%22%3A%22.01%22%7D%2C%22itemId%22%3A%22161729182X%22%2C%22sourceName%22%3A%22ContX%22%2C%22digitalProduct%22%3Afalse%2C%22offerSummary%22%3A%7B%22value%22%3A%7B%22primeEligibleDisplayOffer%22%3A%7B%22value%22%3A%7B%22offerPrice%22%3A49.99%2C%22ceilingPrice%22%3A%7B%22value%22%3Anull%7D%2C%22currency%22%3A%22USD%22%2C%22shippingPrice%22%3A%7B%22value%22%3A0.0%7D%2C%22primeEligible%22%3Atrue%7D%7D%2C%22outOfStock%22%3Afalse%2C%22parentASIN%22%3Afalse%2C%22numPrimeEligibleOffers%22%3A1%2C%22numOffers%22%3A1%2C%22originalReference%22%3A%7B%22id%22%3A%22161729182X%22%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22ASIN_OFFER%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22161729182X%22%2C%22sourceName%22%3A%22ContX%22%2C%22defaultDisplayOffer%22%3A%7B%22value%22%3A%7B%22offerPrice%22%3A49.99%2C%22ceilingPrice%22%3A%7B%22value%22%3Anull%7D%2C%22currency%22%3A%22USD%22%2C%22shippingPrice%22%3A%7B%22value%22%3A0.0%7D%2C%22primeEligible%22%3Atrue%7D%7D%7D%7D%2C%22destUrlPrefix%22%3A%7B%22value%22%3Anull%7D%2C%22outOfStock%22%3Afalse%2C%22freeShippingAvailable%22%3Atrue%7D%2C%7B%22asin%22%3A%221784396931%22%2C%22title%22%3A%22IntelliJ+IDEA+Essentials%22%2C%22priceAmount%22%3A%7B%22value%22%3A34.99%7D%2C%22listPriceAmount%22%3A%7B%22value%22%3Anull%7D%2C%22currency%22%3A%22USD%22%2C%22imageUrl%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FI%2F510Mr4X1rOL._AC_SL230_.jpg%22%2C%22detailPageUrl%22%3A%22https%3A%2F%2Fwww.amazon.com%2Fdp%2F1784396931%22%2C%22primeEligible%22%3Atrue%2C%22rating%22%3A3.8%2C%22numReviews%22%3A6%2C%22originalReference%22%3A%7B%22id%22%3A%221784396931%22%2C%22src%22%3A%7B%7D%2C%22rt%22%3A%22rec%22%2C%22rs%22%3A1.249%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22adultProduct%22%3Afalse%2C%22superSaverShippingEligible%22%3Atrue%2C%22subtitle%22%3A%22Krochmalski%2C+Jaroslaw+%28Paperback%29%22%2C%22brand%22%3A%22%22%2C%22type%22%3A%22ASIN%22%2C%22extraInfo%22%3A%7B%22opc%22%3A%22.65%22%2C%22cl%22%3A%22SUBCAT%22%2C%22cr%22%3A%22.02%22%7D%2C%22itemId%22%3A%221784396931%22%2C%22sourceName%22%3A%22ContX%22%2C%22digitalProduct%22%3Afalse%2C%22offerSummary%22%3A%7B%22value%22%3A%7B%22primeEligibleDisplayOffer%22%3A%7B%22value%22%3A%7B%22offerPrice%22%3A34.99%2C%22ceilingPrice%22%3A%7B%22value%22%3Anull%7D%2C%22currency%22%3A%22USD%22%2C%22shippingPrice%22%3A%7B%22value%22%3A0.0%7D%2C%22primeEligible%22%3Atrue%7D%7D%2C%22outOfStock%22%3Afalse%2C%22parentASIN%22%3Afalse%2C%22numPrimeEligibleOffers%22%3A1%2C%22numOffers%22%3A3%2C%22originalReference%22%3A%7B%22id%22%3A%221784396931%22%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22ASIN_OFFER%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%221784396931%22%2C%22sourceName%22%3A%22ContX%22%2C%22defaultDisplayOffer%22%3A%7B%22value%22%3A%7B%22offerPrice%22%3A34.99%2C%22ceilingPrice%22%3A%7B%22value%22%3Anull%7D%2C%22currency%22%3A%22USD%22%2C%22shippingPrice%22%3A%7B%22value%22%3A0.0%7D%2C%22primeEligible%22%3Atrue%7D%7D%7D%7D%2C%22destUrlPrefix%22%3A%7B%22value%22%3Anull%7D%2C%22outOfStock%22%3Afalse%2C%22freeShippingAvailable%22%3Atrue%7D%2C%7B%22asin%22%3A%221491954469%22%2C%22title%22%3A%22MongoDB%3A+The+Definitive+Guide%3A+Powerful+and+Scalable+Data+Storage%22%2C%22priceAmount%22%3A%7B%22value%22%3A33.49%7D%2C%22listPriceAmount%22%3A%7B%22value%22%3A59.99%7D%2C%22currency%22%3A%22USD%22%2C%22imageUrl%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FI%2F51n4OPvZiWL._AC_SL230_.jpg%22%2C%22detailPageUrl%22%3A%22https%3A%2F%2Fwww.amazon.com%2Fdp%2F1491954469%22%2C%22primeEligible%22%3Atrue%2C%22rating%22%3A4.5%2C%22numReviews%22%3A12%2C%22originalReference%22%3A%7B%22id%22%3A%221491954469%22%2C%22src%22%3A%7B%7D%2C%22rt%22%3A%22rec%22%2C%22rs%22%3A1.137%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22adultProduct%22%3Afalse%2C%22superSaverShippingEligible%22%3Atrue%2C%22subtitle%22%3A%22Bradshaw%2C+Shannon%2C+Brazil%2C+Eoin%2C+Chodorow%2C+Kristina+%28Paperback%29%22%2C%22brand%22%3A%22%22%2C%22type%22%3A%22ASIN%22%2C%22extraInfo%22%3A%7B%22opc%22%3A%22.06%22%2C%22cl%22%3A%22GL%22%2C%22cr%22%3A%22.00%22%7D%2C%22itemId%22%3A%221491954469%22%2C%22sourceName%22%3A%22ContX%22%2C%22digitalProduct%22%3Afalse%2C%22offerSummary%22%3A%7B%22value%22%3A%7B%22primeEligibleDisplayOffer%22%3A%7B%22value%22%3A%7B%22offerPrice%22%3A33.49%2C%22ceilingPrice%22%3A%7B%22value%22%3Anull%7D%2C%22currency%22%3A%22USD%22%2C%22shippingPrice%22%3A%7B%22value%22%3A0.0%7D%2C%22primeEligible%22%3Atrue%7D%7D%2C%22outOfStock%22%3Afalse%2C%22parentASIN%22%3Afalse%2C%22numPrimeEligibleOffers%22%3A1%2C%22numOffers%22%3A10%2C%22originalReference%22%3A%7B%22id%22%3A%221491954469%22%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22ASIN_OFFER%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%221491954469%22%2C%22sourceName%22%3A%22ContX%22%2C%22defaultDisplayOffer%22%3A%7B%22value%22%3A%7B%22offerPrice%22%3A33.49%2C%22ceilingPrice%22%3A%7B%22value%22%3Anull%7D%2C%22currency%22%3A%22USD%22%2C%22shippingPrice%22%3A%7B%22value%22%3A0.0%7D%2C%22primeEligible%22%3Atrue%7D%7D%7D%7D%2C%22destUrlPrefix%22%3A%7B%22value%22%3Anull%7D%2C%22outOfStock%22%3Afalse%2C%22freeShippingAvailable%22%3Atrue%7D%5D%2C%22CATEGORY%22%3A%5B%7B%22browseNode%22%3A%220%22%2C%22textStringId%22%3A%22assoc-aws-category-all-short%22%2C%22searchAlias%22%3A%22aps%22%2C%22awsSearchIndex%22%3A%22All%22%2C%22order%22%3A0.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22All%22%7D%2C%7B%22browseNode%22%3A%2216261631%22%2C%22textStringId%22%3A%22assoc-pl_digital_video_33686%22%2C%22searchAlias%22%3A%22instant-video%22%2C%22awsSearchIndex%22%3A%22UnboxVideo%22%2C%22order%22%3A500.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Video+On+Demand%3A+Rent+or+Buy%22%7D%2C%7B%22browseNode%22%3A%221036592%22%2C%22textStringId%22%3A%22assoc-pl_apparel_3765%22%2C%22searchAlias%22%3A%22apparel%22%2C%22awsSearchIndex%22%3A%22Apparel%22%2C%22order%22%3A1000.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Clothing+%26+Accessories%22%7D%2C%7B%22browseNode%22%3A%222619525011%22%2C%22textStringId%22%3A%22assoc-pl_appliances%22%2C%22searchAlias%22%3A%22appliances%22%2C%22awsSearchIndex%22%3A%22Appliances%22%2C%22order%22%3A1500.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Major+Appliances%22%7D%2C%7B%22browseNode%22%3A%222617941011%22%2C%22textStringId%22%3A%22assoc-pl_arts_crafts%22%2C%22searchAlias%22%3A%22arts-crafts%22%2C%22awsSearchIndex%22%3A%22ArtsAndCrafts%22%2C%22order%22%3A1750.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Arts%2C+Crafts+%26+Sewing%22%7D%2C%7B%22browseNode%22%3A%2215684181%22%2C%22textStringId%22%3A%22assoc-pl_auto_17879%22%2C%22searchAlias%22%3A%22automotive%22%2C%22awsSearchIndex%22%3A%22Automotive%22%2C%22order%22%3A2000.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Automotive%22%7D%2C%7B%22browseNode%22%3A%22165796011%22%2C%22textStringId%22%3A%22assoc-pl_baby_3766%22%2C%22searchAlias%22%3A%22baby-products%22%2C%22awsSearchIndex%22%3A%22Baby%22%2C%22order%22%3A3000.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Baby+%26+Nursery%22%7D%2C%7B%22browseNode%22%3A%223760911%22%2C%22textStringId%22%3A%22assoc-pl_beauty_3767%22%2C%22searchAlias%22%3A%22beauty%22%2C%22awsSearchIndex%22%3A%22Beauty%22%2C%22order%22%3A4000.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Beauty+%26+Grooming%22%7D%2C%7B%22browseNode%22%3A%22283155%22%2C%22textStringId%22%3A%22assoc-pl_books_3768%22%2C%22searchAlias%22%3A%22stripbooks%22%2C%22awsSearchIndex%22%3A%22Books%22%2C%22order%22%3A5000.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Books+%26+Textbooks%22%7D%2C%7B%22browseNode%22%3A%229003130011%22%2C%22textStringId%22%3A%22assoc-pl_collectible_coins_3328%22%2C%22searchAlias%22%3A%22collectibles%22%2C%22awsSearchIndex%22%3A%22Collectibles%22%2C%22order%22%3A5500.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Collectible+Coins%22%7D%2C%7B%22browseNode%22%3A%2213900861%22%2C%22textStringId%22%3A%22assoc-pl_photo_3769%22%2C%22searchAlias%22%3A%22photo%22%2C%22awsSearchIndex%22%3A%22Photo%22%2C%22order%22%3A6000.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Camera+%26+Photo%22%7D%2C%7B%22browseNode%22%3A%222335752011%22%2C%22textStringId%22%3A%22assoc-pl_wifeless_phones_3770%22%2C%22searchAlias%22%3A%22mobile%22%2C%22awsSearchIndex%22%3A%22Wireless%22%2C%22order%22%3A7000.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Cell+Phones+%26+Accessories%22%7D%2C%7B%22browseNode%22%3A%2236632%22%2C%22textStringId%22%3A%22classical_fr_search_option_3326%22%2C%22searchAlias%22%3A%22classical%22%2C%22awsSearchIndex%22%3A%22Classical%22%2C%22order%22%3A8000.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Classical+Music%22%7D%2C%7B%22browseNode%22%3A%2213900871%22%2C%22textStringId%22%3A%22assoc-pl_pc_hardware_3771%22%2C%22searchAlias%22%3A%22pc-hardware%22%2C%22awsSearchIndex%22%3A%22PCHardware%22%2C%22order%22%3A9000.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Computers%2C+Tablets+%26+Components%22%7D%2C%7B%22browseNode%22%3A%22130%22%2C%22textStringId%22%3A%22assoc-pl_dvd_3773%22%2C%22searchAlias%22%3A%22dvd%22%2C%22awsSearchIndex%22%3A%22DVD%22%2C%22order%22%3A11000.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Blu-Ray+%26+DVD%22%7D%2C%7B%22browseNode%22%3A%22172282%22%2C%22textStringId%22%3A%22assoc-pl_electronics_3774%22%2C%22searchAlias%22%3A%22electronics%22%2C%22awsSearchIndex%22%3A%22Electronics%22%2C%22order%22%3A12000.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Electronic+Components+%26+Home+Audio%22%7D%2C%7B%22browseNode%22%3A%225088769011%22%2C%22textStringId%22%3A%22assoc-pl_entertainment_collectibles%22%2C%22searchAlias%22%3A%22collectibles%22%2C%22awsSearchIndex%22%3A%22Collectibles%22%2C%22order%22%3A12350.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Entertainment+Collectibles%22%7D%2C%7B%22browseNode%22%3A%22979455011%22%2C%22textStringId%22%3A%22assoc-pl_game_downloads_69958%22%2C%22searchAlias%22%3A%22videogames%22%2C%22awsSearchIndex%22%3A%22VideoGames%22%2C%22order%22%3A12700.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Video+Games%22%7D%2C%7B%22browseNode%22%3A%222238192011%22%2C%22textStringId%22%3A%22assoc-pl_gift_cards%22%2C%22searchAlias%22%3A%22gift-cards%22%2C%22awsSearchIndex%22%3A%22GiftCards%22%2C%22order%22%3A13000.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Other+Gift+Card+Brands%22%7D%2C%7B%22browseNode%22%3A%2216310101%22%2C%22textStringId%22%3A%22assoc-pl_grocery_20698%22%2C%22searchAlias%22%3A%22grocery%22%2C%22awsSearchIndex%22%3A%22Grocery%22%2C%22order%22%3A14000.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Grocery+%26+Gourmet+Food%22%7D%2C%7B%22browseNode%22%3A%221055398%22%2C%22textStringId%22%3A%22assoc-pl_garden_3776%22%2C%22searchAlias%22%3A%22garden%22%2C%22awsSearchIndex%22%3A%22HomeGarden%22%2C%22order%22%3A15000.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Patio%2C+Lawn+%26+Garden%22%7D%2C%7B%22browseNode%22%3A%223760901%22%2C%22textStringId%22%3A%22assoc-pl_hpc_3777%22%2C%22searchAlias%22%3A%22hpc%22%2C%22awsSearchIndex%22%3A%22HealthPersonalCare%22%2C%22order%22%3A16000.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Health+%26+Household%22%7D%2C%7B%22browseNode%22%3A%2216310091%22%2C%22textStringId%22%3A%22assoc-pl_industrial_33360%22%2C%22searchAlias%22%3A%22industrial%22%2C%22awsSearchIndex%22%3A%22Industrial%22%2C%22order%22%3A17000.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Business+%26+Industrial+Supplies%22%7D%2C%7B%22browseNode%22%3A%223367581%22%2C%22textStringId%22%3A%22assoc-pl_jewelry_52658%22%2C%22searchAlias%22%3A%22jewelry%22%2C%22awsSearchIndex%22%3A%22Jewelry%22%2C%22order%22%3A18000.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Jewelry%22%7D%2C%7B%22browseNode%22%3A%22133140011%22%2C%22textStringId%22%3A%22assoc-pl_kindle_47672%22%2C%22searchAlias%22%3A%22digital-text%22%2C%22awsSearchIndex%22%3A%22KindleStore%22%2C%22order%22%3A18500.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Kindle+Store%22%7D%2C%7B%22browseNode%22%3A%22284507%22%2C%22textStringId%22%3A%22assoc-pl_kitchen_3779%22%2C%22searchAlias%22%3A%22kitchen%22%2C%22awsSearchIndex%22%3A%22Kitchen%22%2C%22order%22%3A19000.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Kitchen+%26+Dining%22%7D%2C%7B%22browseNode%22%3A%22599858%22%2C%22textStringId%22%3A%22assoc-pl_magazines_3780%22%2C%22searchAlias%22%3A%22magazines%22%2C%22awsSearchIndex%22%3A%22Magazines%22%2C%22order%22%3A20000.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Magazines%22%7D%2C%7B%22browseNode%22%3A%2210272111%22%2C%22textStringId%22%3A%22assoc-pl_miscellaneous_5241%22%2C%22searchAlias%22%3A%22misc%22%2C%22awsSearchIndex%22%3A%22Miscellaneous%22%2C%22order%22%3A20500.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Miscellaneous%22%7D%2C%7B%22browseNode%22%3A%22163856011%22%2C%22textStringId%22%3A%22assoc-pl_digital_music_45831%22%2C%22searchAlias%22%3A%22digital-music%22%2C%22awsSearchIndex%22%3A%22MP3Downloads%22%2C%22order%22%3A20600.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Digital+Music%22%7D%2C%7B%22browseNode%22%3A%22301668%22%2C%22textStringId%22%3A%22assoc-pl_music_3781%22%2C%22searchAlias%22%3A%22popular%22%2C%22awsSearchIndex%22%3A%22Music%22%2C%22order%22%3A21000.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22CDs+%26+Vinyl%22%7D%2C%7B%22browseNode%22%3A%2211091801%22%2C%22textStringId%22%3A%22assoc-pl_mi_3782%22%2C%22searchAlias%22%3A%22mi%22%2C%22awsSearchIndex%22%3A%22MusicalInstruments%22%2C%22order%22%3A22000.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Musical+Instruments%22%7D%2C%7B%22browseNode%22%3A%221064954%22%2C%22textStringId%22%3A%22assoc-pl_office_products_34075%22%2C%22searchAlias%22%3A%22office-products%22%2C%22awsSearchIndex%22%3A%22OfficeProducts%22%2C%22order%22%3A22500.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Office+%26+School+Supplies%22%7D%2C%7B%22browseNode%22%3A%222619533011%22%2C%22textStringId%22%3A%22assoc-pl_pet_supplies_34076%22%2C%22searchAlias%22%3A%22pets%22%2C%22awsSearchIndex%22%3A%22PetSupplies%22%2C%22order%22%3A22620.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Pet+Food+%26+Supplies%22%7D%2C%7B%22browseNode%22%3A%222972638011%22%2C%22textStringId%22%3A%22assoc-pl_lawn_garden%22%2C%22searchAlias%22%3A%22lawngarden%22%2C%22awsSearchIndex%22%3A%22LawnAndGarden%22%2C%22order%22%3A22625.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Patio%2C+Lawn+%26+Garden%22%7D%2C%7B%22browseNode%22%3A%22672123011%22%2C%22textStringId%22%3A%22assoc-pl_shoes_34084%22%2C%22searchAlias%22%3A%22shoes%22%2C%22awsSearchIndex%22%3A%22Shoes%22%2C%22order%22%3A22750.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Shoes%2C+Handbags%2C+Wallets%2C+Sunglasses%22%7D%2C%7B%22browseNode%22%3A%22229534%22%2C%22textStringId%22%3A%22assoc-pl_software_3783%22%2C%22searchAlias%22%3A%22software%22%2C%22awsSearchIndex%22%3A%22Software%22%2C%22order%22%3A23000.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Software%22%7D%2C%7B%22browseNode%22%3A%223250697011%22%2C%22textStringId%22%3A%22assoc-pl_sports_collectibles%22%2C%22searchAlias%22%3A%22collectibles%22%2C%22awsSearchIndex%22%3A%22Collectibles%22%2C%22order%22%3A23500.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Sports+Collectibles%22%7D%2C%7B%22browseNode%22%3A%223375251%22%2C%22textStringId%22%3A%22assoc-pl_sporting_3784%22%2C%22searchAlias%22%3A%22sporting%22%2C%22awsSearchIndex%22%3A%22SportingGoods%22%2C%22order%22%3A24000.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Sports+%26+Fitness%22%7D%2C%7B%22browseNode%22%3A%22228013%22%2C%22textStringId%22%3A%22assoc-pl_tools_3785%22%2C%22searchAlias%22%3A%22tools%22%2C%22awsSearchIndex%22%3A%22Tools%22%2C%22order%22%3A25000.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Home+Improvement%22%7D%2C%7B%22browseNode%22%3A%22165793011%22%2C%22textStringId%22%3A%22assoc-pl_toys_3786%22%2C%22searchAlias%22%3A%22toys-and-games%22%2C%22awsSearchIndex%22%3A%22Toys%22%2C%22order%22%3A26000.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Toys+%26+Games%22%7D%2C%7B%22browseNode%22%3A%22404272%22%2C%22textStringId%22%3A%22assoc-pl_vhs_3787%22%2C%22searchAlias%22%3A%22vhs%22%2C%22awsSearchIndex%22%3A%22VHS%22%2C%22order%22%3A27000.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22VHS%22%7D%2C%7B%22browseNode%22%3A%22468642%22%2C%22textStringId%22%3A%22assoc-pl_videogames_3772%22%2C%22searchAlias%22%3A%22videogames%22%2C%22awsSearchIndex%22%3A%22VideoGames%22%2C%22order%22%3A28500.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Video+Games%22%7D%2C%7B%22browseNode%22%3A%22377110011%22%2C%22textStringId%22%3A%22assoc-pl_watches_34085%22%2C%22searchAlias%22%3A%22watches%22%2C%22awsSearchIndex%22%3A%22Watches%22%2C%22order%22%3A29000.0%2C%22originalReference%22%3A%7B%22src%22%3A%7B%7D%2C%22id%22%3A%22Category%22%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22Category%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%2C%22text%22%3A%22Watches%22%7D%5D%2C%22DECORATION%22%3A%5B%7B%22originalReference%22%3A%7B%22id%22%3A%22logo%22%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22DECORATION%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22logo%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22searchbar%22%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22DECORATION%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22searchbar%22%2C%22sourceName%22%3A%22EmptyRelevanceSource%22%7D%5D%2C%22CONTENT_CATEGORY%22%3A%5B%7B%22originalReference%22%3A%7B%22id%22%3A%22657762%22%2C%22rs%22%3A0.319%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CONTENT_CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22657762%22%2C%22sourceName%22%3A%22ContX%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%223608%22%2C%22rs%22%3A0.14%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CONTENT_CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%223608%22%2C%22sourceName%22%3A%22ContX%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22377560011%22%2C%22rs%22%3A0.118%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CONTENT_CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22377560011%22%2C%22sourceName%22%3A%22ContX%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%223600%22%2C%22rs%22%3A0.102%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CONTENT_CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%223600%22%2C%22sourceName%22%3A%22ContX%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%2216233481%22%2C%22rs%22%3A0.086%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CONTENT_CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%2216233481%22%2C%22sourceName%22%3A%22ContX%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22171114%22%2C%22rs%22%3A0.07%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CONTENT_CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22171114%22%2C%22sourceName%22%3A%22ContX%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22156120011%22%2C%22rs%22%3A0.065%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CONTENT_CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22156120011%22%2C%22sourceName%22%3A%22ContX%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22657764%22%2C%22rs%22%3A0.06%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CONTENT_CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22657764%22%2C%22sourceName%22%3A%22ContX%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22377886011%22%2C%22rs%22%3A0.05%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CONTENT_CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22377886011%22%2C%22sourceName%22%3A%22ContX%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%2210806628011%22%2C%22rs%22%3A0.047%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CONTENT_CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%2210806628011%22%2C%22sourceName%22%3A%22ContX%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22657762%22%2C%22rs%22%3A0.319%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CONTENT_CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22657762%22%2C%22sourceName%22%3A%22ACAP%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%223608%22%2C%22rs%22%3A0.14%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CONTENT_CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%223608%22%2C%22sourceName%22%3A%22ACAP%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22377560011%22%2C%22rs%22%3A0.118%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CONTENT_CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22377560011%22%2C%22sourceName%22%3A%22ACAP%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%223600%22%2C%22rs%22%3A0.102%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CONTENT_CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%223600%22%2C%22sourceName%22%3A%22ACAP%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%2216233481%22%2C%22rs%22%3A0.086%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CONTENT_CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%2216233481%22%2C%22sourceName%22%3A%22ACAP%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22171114%22%2C%22rs%22%3A0.07%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CONTENT_CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22171114%22%2C%22sourceName%22%3A%22ACAP%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22156120011%22%2C%22rs%22%3A0.065%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CONTENT_CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22156120011%22%2C%22sourceName%22%3A%22ACAP%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22657764%22%2C%22rs%22%3A0.06%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CONTENT_CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22657764%22%2C%22sourceName%22%3A%22ACAP%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22377886011%22%2C%22rs%22%3A0.05%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CONTENT_CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22377886011%22%2C%22sourceName%22%3A%22ACAP%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%2210806628011%22%2C%22rs%22%3A0.047%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22CONTENT_CATEGORY%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%2210806628011%22%2C%22sourceName%22%3A%22ACAP%22%7D%5D%2C%22KEYWORD%22%3A%5B%7B%22originalReference%22%3A%7B%22id%22%3A%22spring+boot%22%2C%22rs%22%3A0.968%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22KEYWORD%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22spring+boot%22%2C%22sourceName%22%3A%22ContX%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22spring+security%22%2C%22rs%22%3A0.954%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22KEYWORD%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22spring+security%22%2C%22sourceName%22%3A%22ContX%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22spring+data%22%2C%22rs%22%3A0.916%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22KEYWORD%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22spring+data%22%2C%22sourceName%22%3A%22ContX%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22mongodb%22%2C%22rs%22%3A0.815%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22KEYWORD%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22mongodb%22%2C%22sourceName%22%3A%22ContX%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22authentication+and+authorization%22%2C%22rs%22%3A0.806%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22KEYWORD%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22authentication+and+authorization%22%2C%22sourceName%22%3A%22ContX%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22spring+web%22%2C%22rs%22%3A0.797%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22KEYWORD%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22spring+web%22%2C%22sourceName%22%3A%22ContX%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22spring+data+jpa%22%2C%22rs%22%3A0.784%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22KEYWORD%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22spring+data+jpa%22%2C%22sourceName%22%3A%22ContX%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22jwt%22%2C%22rs%22%3A0.757%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22KEYWORD%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22jwt%22%2C%22sourceName%22%3A%22ContX%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22server+architecture%22%2C%22rs%22%3A0.737%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22KEYWORD%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22server+architecture%22%2C%22sourceName%22%3A%22ContX%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22authentication%22%2C%22rs%22%3A0.72%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22KEYWORD%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22authentication%22%2C%22sourceName%22%3A%22ContX%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22spring+boot%22%2C%22rs%22%3A0.968%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22KEYWORD%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22spring+boot%22%2C%22sourceName%22%3A%22ACAP%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22spring+security%22%2C%22rs%22%3A0.954%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22KEYWORD%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22spring+security%22%2C%22sourceName%22%3A%22ACAP%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22spring+data%22%2C%22rs%22%3A0.916%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22KEYWORD%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22spring+data%22%2C%22sourceName%22%3A%22ACAP%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22mongodb%22%2C%22rs%22%3A0.815%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22KEYWORD%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22mongodb%22%2C%22sourceName%22%3A%22ACAP%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22authentication+and+authorization%22%2C%22rs%22%3A0.806%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22KEYWORD%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22authentication+and+authorization%22%2C%22sourceName%22%3A%22ACAP%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22spring+web%22%2C%22rs%22%3A0.797%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22KEYWORD%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22spring+web%22%2C%22sourceName%22%3A%22ACAP%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22spring+data+jpa%22%2C%22rs%22%3A0.784%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22KEYWORD%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22spring+data+jpa%22%2C%22sourceName%22%3A%22ACAP%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22jwt%22%2C%22rs%22%3A0.757%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22KEYWORD%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22jwt%22%2C%22sourceName%22%3A%22ACAP%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22server+architecture%22%2C%22rs%22%3A0.737%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22KEYWORD%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22server+architecture%22%2C%22sourceName%22%3A%22ACAP%22%7D%2C%7B%22originalReference%22%3A%7B%22id%22%3A%22authentication%22%2C%22rs%22%3A0.72%2C%22src%22%3A%7B%7D%2C%22destUrl%22%3A%7B%22value%22%3Anull%7D%7D%2C%22type%22%3A%22KEYWORD%22%2C%22extraInfo%22%3A%7B%7D%2C%22itemId%22%3A%22authentication%22%2C%22sourceName%22%3A%22ACAP%22%7D%5D%7D",resolutionPending:("false"==="true"),styleOverrides:{link:decodeURIComponent("".replace(/\+/g," ")),header:decodeURIComponent("".replace(/\+/g," ")),text:decodeURIComponent("".replace(/\+/g," ")),strikeText:decodeURIComponent("".replace(/\+/g," ")),linkHover:decodeURIComponent("".replace(/\+/g," "))},size:"autoxauto",title:"Shop Related Products",userSetTitle:false,maxTitleHeight:parseInt("47"),rows:((2>5)?5:2),maxAdsInARow:((0>5)?5:0),headerDistance:parseInt("10"),divName:"amzn-assoc-ad-235a5d22-cf2e-4e19-8228-4317d06dade2",searchBarPresent:("false"==="true"),searchBarPosition:"bottom",defaultCategory:"All",defaultBrowseNode:"",defaultSearchPhrase:"",trackingId:"bezkoder-20",linkId:"1f70ba7b52ca5a0c55344500ea9e298d",linkCode:"w41",refMarkerPrefix:"sm_n_au_dka_PK_",regionInt:"1",numericMarketplaceId:"1",viewerCountry:"PK",impressionId:"QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us",deviceType:"BROWSER",amznUrl:"https://www.amazon.com",acURL:"https://affiliate-program.amazon.com",excludeItems:"",excludePhrases:"",fallbackMode:window["amznAssocFallbackMode_0"],theme:"default",transform:"ead",filters:"aif,oos,eld,aet,aeiuf",expDetails:"[{\"experimentCode\":\"NSA_HB_COMMISSION_4122\",\"treatmentCode\":\"T1\"},{\"show_free_shipping\":\"false\",\"experimentCode\":\"NSA_FreeShipping_4166\",\"treatmentCode\":\"C\"}]",enableCarousel:false,estimatedPerformance:window["amznAssocEstimatedPerformance_0"],poweredByAmazonString:"Powered by",searchAmazonBackupString:"Search",fallbackTitleString:"Shop Now",dealTitleStrings:{mixedDealsFb:"Best Deals from Amazon",dealsOfTheDayFb:"Deals of the Day",lightningDealsFb:"Lightning Deals",mixedDeals:"Best Deals from Amazon",dealsOfTheDay:"Deals of the Day",lightningDeals:"Lightning Deals"},deal_fallback_enable:true,adFeedbackEndpoint:"//fls-na.amazon-adsystem.com/1/ad-feedback/1/OE",inContent:{enableSwipeOnMobile:true},pcData:"{\"livePoolPCScore\":-1.0,\"livePoolModelVersion\":\"LivePoolV1\",\"contXPCScore\":-1.0,\"contXModelVersion\":\"ContXV1\",\"pcType\":\"UNKNOWN\"}",adChoicesURL:"https://www.amazon.com/adprefs",ead:8,chromeOrFirefoxOniOS:("false"==="true"),trackingUtils:window.trackingUtils("1","//fls-na.amazon-adsystem.com/1/associates-ads/1/OP/r/json","//ir-na.amazon-adsystem.com/e/ir","https://aax-us-east.amazon-adsystem.com/x/px/QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us/","https://aax-us-east.amazon-adsystem.com/x/c/QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us/","YNb3eh3KLnK1xEzrtxV98w","0","","//wms-na.assoc-amazon.com/panda/20070822/US/img/px.gif",true),callbacks:callbacks}).init();
                
     //# sourceURL=dynscript-1.js</script><script type="text/javascript">
    window["amznAssocFallbackMode_0"]  = { "type": "search", "value": "full stack web development"};
    window["amznAssocEstimatedPerformance_0"] = {
                    "eCTR": "0.00472",
            "eOPC": "0.1176",
            "eeCPM": "30529.0",
            "bidComputationCode": "V1-CTR3-OPC3-BFC1",
            "asinAttributes": "[]",
            "ead": "8"
            };
 //# sourceURL=dynscript-0.js</script><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="theme-color" content=""><meta name="author" content="bezkoder"><link rel="stylesheet" as="style" onload="this.onload=null;this.rel=&#39;stylesheet&#39;" id="ao_optimized_gfonts" href="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/css"><link rel="profile" href="http://gmpg.org/xfn/11"><link media="all" href="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/autoptimize_fac8b1d044897ed7eaa238d3673138ff.css" rel="stylesheet"><title>Spring Boot, MongoDB: JWT Authentication with Spring Security - BezKoder</title><meta name="description" content="Step by step to build Spring Boot &amp; MongoDB authentication (login) with JWT, Spring Security, Spring Data MongoDB - Role-based Authorization | Spring Boot 2"><meta name="robots" content="max-snippet:-1, max-image-preview:large, max-video-preview:-1"><link rel="canonical" href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/"><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="Spring Boot, MongoDB: JWT Authentication with Spring Security - BezKoder"><meta property="og:description" content="Step by step to build Spring Boot &amp; MongoDB authentication (login) with JWT, Spring Security, Spring Data MongoDB - Role-based Authorization | Spring Boot 2"><meta property="og:url" content="https://bezkoder.com/spring-boot-jwt-auth-mongodb/"><meta property="og:site_name" content="BezKoder"><meta property="article:publisher" content="https://www.facebook.com/bezkode"><meta property="article:tag" content="authentication"><meta property="article:tag" content="authorization"><meta property="article:tag" content="jwt"><meta property="article:tag" content="mongodb"><meta property="article:tag" content="security"><meta property="article:tag" content="spring boot"><meta property="article:tag" content="spring data mongodb"><meta property="article:tag" content="spring security"><meta property="article:tag" content="token based authentication"><meta property="article:section" content="Spring"><meta property="article:published_time" content="2019-11-18T09:17:43+00:00"><meta property="article:modified_time" content="2020-04-02T02:24:40+00:00"><meta property="og:updated_time" content="2020-04-02T02:24:40+00:00"><meta property="og:image" content="https://bezkoder.com/wp-content/uploads/2020/02/spring-boot-mongodb-jwt-auth-spring-security-feature-image.png"><meta property="og:image:secure_url" content="https://bezkoder.com/wp-content/uploads/2020/02/spring-boot-mongodb-jwt-auth-spring-security-feature-image.png"><meta property="og:image:width" content="750"><meta property="og:image:height" content="410"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:description" content="Step by step to build Spring Boot &amp; MongoDB authentication (login) with JWT, Spring Security, Spring Data MongoDB - Role-based Authorization | Spring Boot 2"><meta name="twitter:title" content="Spring Boot, MongoDB: JWT Authentication with Spring Security - BezKoder"><meta name="twitter:image" content="https://bezkoder.com/wp-content/uploads/2020/02/spring-boot-mongodb-jwt-auth-spring-security-feature-image.png"> <script type="text/javascript" async="" src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/analytics.js"></script><script type="application/ld+json" class="yoast-schema-graph yoast-schema-graph--main">{"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":"https://bezkoder.com/#website","url":"https://bezkoder.com/","name":"BezKoder","inLanguage":"en-US","description":"Mobile &amp; Web App Development Tutorials","potentialAction":[{"@type":"SearchAction","target":"https://bezkoder.com/?s={search_term_string}","query-input":"required name=search_term_string"}]},{"@type":"ImageObject","@id":"https://bezkoder.com/spring-boot-jwt-auth-mongodb/#primaryimage","inLanguage":"en-US","url":"https://bezkoder.com/wp-content/uploads/2020/02/spring-boot-mongodb-jwt-auth-spring-security-feature-image.png","width":750,"height":410},{"@type":"WebPage","@id":"https://bezkoder.com/spring-boot-jwt-auth-mongodb/#webpage","url":"https://bezkoder.com/spring-boot-jwt-auth-mongodb/","name":"Spring Boot, MongoDB: JWT Authentication with Spring Security - BezKoder","isPartOf":{"@id":"https://bezkoder.com/#website"},"inLanguage":"en-US","primaryImageOfPage":{"@id":"https://bezkoder.com/spring-boot-jwt-auth-mongodb/#primaryimage"},"datePublished":"2019-11-18T09:17:43+00:00","dateModified":"2020-04-02T02:24:40+00:00","author":{"@id":"https://bezkoder.com/#/schema/person/14b0bd934f1a56553942c69379c55586"},"description":"Step by step to build Spring Boot & MongoDB authentication (login) with JWT, Spring Security, Spring Data MongoDB - Role-based Authorization | Spring Boot 2","potentialAction":[{"@type":"ReadAction","target":["https://bezkoder.com/spring-boot-jwt-auth-mongodb/"]}]},{"@type":["Person"],"@id":"https://bezkoder.com/#/schema/person/14b0bd934f1a56553942c69379c55586","name":"bezkoder","image":{"@type":"ImageObject","@id":"https://bezkoder.com/#authorlogo","inLanguage":"en-US","url":"https://secure.gravatar.com/avatar/40150b9299e69015bc46c30598a81888?s=96&d=mm&r=g","caption":"bezkoder"},"sameAs":[]}]}</script> <link rel="dns-prefetch" href="https://s.w.org/"><link href="https://fonts.gstatic.com/" crossorigin="anonymous" rel="preconnect"><link rel="alternate" type="application/rss+xml" title="BezKoder » Feed" href="https://bezkoder.com/feed/"><link rel="alternate" type="application/rss+xml" title="BezKoder » Comments Feed" href="https://bezkoder.com/comments/feed/"><link rel="alternate" type="application/rss+xml" title="BezKoder » Spring Boot, MongoDB: JWT Authentication with Spring Security Comments Feed" href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/feed/"> <script type="text/javascript">window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/bezkoder.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.4"}};
			/*! This file is auto-generated */
			!function(e,a,t){var r,n,o,i,p=a.createElement("canvas"),s=p.getContext&&p.getContext("2d");function c(e,t){var a=String.fromCharCode;s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,e),0,0);var r=p.toDataURL();return s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,t),0,0),r===p.toDataURL()}function l(e){if(!s||!s.fillText)return!1;switch(s.textBaseline="top",s.font="600 32px Arial",e){case"flag":return!c([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])&&(!c([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!c([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]));case"emoji":return!c([55357,56424,55356,57342,8205,55358,56605,8205,55357,56424,55356,57340],[55357,56424,55356,57342,8203,55358,56605,8203,55357,56424,55356,57340])}return!1}function d(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(i=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},o=0;o<i.length;o++)t.supports[i[o]]=l(i[o]),t.supports.everything=t.supports.everything&&t.supports[i[o]],"flag"!==i[o]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[i[o]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(r=t.source||{}).concatemoji?d(r.concatemoji):r.wpemoji&&r.twemoji&&(d(r.twemoji),d(r.wpemoji)))}(window,document,window._wpemojiSettings);</script><script src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/wp-emoji-release.min.js" type="text/javascript" defer=""></script>  <script type="text/javascript" src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/jquery.js"></script> <script type="text/javascript">var Cli_Data = {"nn_cookie_ids":[],"cookielist":[]};
var log_object = {"ajax_url":"https:\/\/bezkoder.com\/wp-admin\/admin-ajax.php"};</script> <link rel="https://api.w.org/" href="https://bezkoder.com/wp-json/"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://bezkoder.com/xmlrpc.php?rsd"><link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://bezkoder.com/wp-includes/wlwmanifest.xml"><meta name="generator" content="WordPress 5.4"><link rel="shortlink" href="https://bezkoder.com/?p=2363"><link rel="alternate" type="application/json+oembed" href="https://bezkoder.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fbezkoder.com%2Fspring-boot-jwt-auth-mongodb%2F"><link rel="alternate" type="text/xml+oembed" href="https://bezkoder.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fbezkoder.com%2Fspring-boot-jwt-auth-mongodb%2F&amp;format=xml"><link rel="pingback" href="https://bezkoder.com/xmlrpc.php"><link rel="icon" href="https://bezkoder.com/wp-content/uploads/2019/10/favicon-60x60.png" sizes="32x32"><link rel="icon" href="https://bezkoder.com/wp-content/uploads/2019/10/favicon.png" sizes="192x192"><link rel="apple-touch-icon" href="https://bezkoder.com/wp-content/uploads/2019/10/favicon.png"><meta name="msapplication-TileImage" content="https://bezkoder.com/wp-content/uploads/2019/10/favicon.png">  <script async="" src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/js"></script> <script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-141701321-1');</script> <script data-ad-client="ca-pub-9222145312954144" async="" src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/f.txt"></script> </head><body class="post-template-default single single-post postid-2363 single-format-standard"> <a class="sr-only sr-only-focusable" href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#content">Skip to main content</a><div id="page" class="hfeed site"><header id="masthead" class="site-header" role="banner"><nav class="navbar navbar-default 
 " role="navigation"><div class="container"><div class="row"><div class="site-navigation-inner col-sm-12"><div class="navbar-header"> <button type="button" class="btn navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button><div id="logo"> <a href="https://bezkoder.com/"><img src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/bezkoder-logo.svg" height="76" width="300" alt="BezKoder"></a></div></div><div class="collapse navbar-collapse navbar-ex1-collapse"><ul id="menu-top-menu" class="nav navbar-nav"><li id="menu-item-1943" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1943"><a href="https://bezkoder.com/category/full-stack/">Full Stack</a></li><li id="menu-item-2576" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2576"><a href="https://bezkoder.com/java-14-features/">Java 14 Features</a></li><li id="menu-item-443" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-443"><a href="https://bezkoder.com/category/node-js/">Node</a></li><li id="menu-item-266" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-266"><a href="https://bezkoder.com/category/vue/">Vue</a></li><li id="menu-item-2393" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2393"><a href="https://bezkoder.com/category/angular/">Angular</a></li><li id="menu-item-1059" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-1059"><a href="https://bezkoder.com/category/spring/">Spring</a></li><li id="menu-item-121" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-121"><a href="https://bezkoder.com/category/dart/">Dart</a></li><li id="menu-item-2002" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2002"><a href="https://bezkoder.com/json-formatter/">JsonFormatter</a></li><li id="menu-item-143" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-143"><a href="https://bezkoder.com/contact-us/">Contact Us</a></li></ul></div></div></div></div></nav></header><div id="content" class="site-content"><div class="top-section"><div style="width: 100%; text-align:center; margin-top: 10px;"><div class="aicp"> <script async="" src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/f.txt"></script>  <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9222145312954144" data-ad-slot="6826789696" data-ad-format="auto" data-full-width-responsive="true"></ins> <script>(adsbygoogle = window.adsbygoogle || []).push({});</script> </div></div></div><div class="container main-content-area"><div class="row side-pull-left"><div class="main-content-inner col-sm-12 col-md-8"><div id="primary" class="content-area"><main id="main" class="site-main" role="main"><article id="post-2363" class="post-2363 post type-post status-publish format-standard has-post-thumbnail hentry category-mongodb category-security category-spring tag-authentication tag-authorization tag-jwt tag-mongodb tag-security tag-spring-boot tag-spring-data-mongodb tag-spring-security tag-token-based-authentication"> <img width="750" height="410" src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/spring-boot-mongodb-jwt-auth-spring-security-feature-image.png" class="single-featured wp-post-image" alt="" srcset="https://bezkoder.com/wp-content/uploads/2020/02/spring-boot-mongodb-jwt-auth-spring-security-feature-image.png 750w, https://bezkoder.com/wp-content/uploads/2020/02/spring-boot-mongodb-jwt-auth-spring-security-feature-image-300x164.png 300w" sizes="(max-width: 750px) 100vw, 750px"><div class="post-inner-content"><header class="entry-header page-header"><h1 class="entry-title ">Spring Boot, MongoDB: JWT Authentication with Spring Security</h1><div class="entry-meta"> <span class="posted-on"><i class="fa fa-calendar-alt"></i> <a href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/" rel="bookmark"><time class="entry-date published" datetime="2020-04-02T02:24:40+00:00">Last modified: April 2, 2020</time></a></span><span class="byline"> <i class="fa fa-user"></i> <span class="author vcard"><a class="url fn n" href="https://bezkoder.com/author/bezkoder/">bezkoder</a></span></span> <span class="cat-links"><i class="fa fa-folder-open"></i> <a href="https://bezkoder.com/category/mongodb/" rel="category tag">MongoDB</a>, <a href="https://bezkoder.com/category/security/" rel="category tag">Security</a>, <a href="https://bezkoder.com/category/spring/" rel="category tag">Spring</a> </span></div></header><div class="entry-content"><p>This tutorial helps you build a Spring Boot Authentication (Login &amp; Registration) &amp; role-based Authorization example with JWT, Spring Security and Spring Data MongoDB. You’ll know:</p><ul><li>Appropriate Flow for User Signup &amp; User Login with JWT Authentication</li><li>Spring Boot Application Architecture with Spring Security</li><li>How to configure Spring Security to work with JWT</li><li>How to define Data Models and association for Authentication and Authorization</li><li>Way to use Spring Data MongoDB to interact with MongoDB Database</li></ul><p>More Practice:<br> – <a href="https://bezkoder.com/spring-boot-jwt-authentication/">Spring Boot JWT Authentication with Spring Security, Spring Data JPA &amp; MySQL/PostgreSQL</a><br> – <a href="https://bezkoder.com/spring-boot-graphql-mongodb-example-graphql-java/">Spring Boot + GraphQL + MongoDB example with Spring Data &amp; graphql-java</a><br> – <a href="https://bezkoder.com/spring-boot-mongodb-crud/">Spring Boot with MongoDB CRUD example using Spring Data</a></p><p><span id="more-2363"></span><br></p><div id="toc_container" class="no_bullets"><p class="toc_title">Contents <span class="toc_toggle">[<a href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#">hide</a>]</span></p><ul class="toc_list"><li><a href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#Spring_Boot_JWT_Authentication_with_MongoDB_example">Spring Boot JWT Authentication with MongoDB example</a></li><li><a href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#Spring_Boot_Signup_038_Login_with_JWT_Authentication_Flow">Spring Boot Signup &amp; Login with JWT Authentication Flow</a></li><li><a href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#Spring_Boot_Server_Architecture_with_Spring_Security">Spring Boot Server Architecture with Spring Security</a></li><li><a href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#Technology">Technology</a></li><li><a href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#Project_Structure">Project Structure</a></li><li><a href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#Setup_new_Spring_Boot_project">Setup new Spring Boot project</a></li><li><a href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#Configure_Spring_Data_MongoDB_038_App_properties">Configure Spring Data MongoDB &amp; App properties</a></li><li><a href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#Create_the_models">Create the models</a></li><li><a href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#Implement_Repositories">Implement Repositories</a></li><li><a href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#Configure_Spring_Security">Configure Spring Security</a></li><li><a href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#Implement_UserDetails_038_UserDetailsService">Implement UserDetails &amp; UserDetailsService</a></li><li><a href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#Filter_the_Requests">Filter the Requests</a></li><li><a href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#Create_JWT_Utility_class">Create JWT Utility class</a></li><li><a href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#Handle_Authentication_Exception">Handle Authentication Exception</a></li><li><a href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#Define_payloads_for_Spring_RestController">Define payloads for Spring RestController</a></li><li><a href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#Create_Spring_RestAPIs_Controllers">Create Spring RestAPIs Controllers</a></li><li><a href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#Run_038_Test">Run &amp; Test</a></li><li><a href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#Conclusion">Conclusion</a></li><li><a href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#Source_Code">Source Code</a></li><li><a href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#Further_Reading">Further Reading</a></li></ul></div><p></p><h2><span id="Spring_Boot_JWT_Authentication_with_MongoDB_example">Spring Boot JWT Authentication with MongoDB example</span></h2><p>Let’s me describe our Spring Boot application.</p><ul><li>User can signup new account, or login with username &amp; password.</li><li>By User’s role (admin, moderator, user), we authorize the User to access resources (role-based Authorization)</li></ul><p>So we’re gonna provide APIs as following table:</p><div class="table-responsive"><table class="table table-hover  table table-hover table table-hover" width="100%"><thead><tr><th>Methods</th><th>Urls</th><th>Actions</th></tr></thead><tbody><tr><td>POST</td><td>/api/auth/signup</td><td>signup new account</td></tr><tr><td>POST</td><td>/api/auth/signin</td><td>login an account</td></tr><tr><td>GET</td><td>/api/test/all</td><td>retrieve public content</td></tr><tr><td>GET</td><td>/api/test/user</td><td>access User’s content</td></tr><tr><td>GET</td><td>/api/test/mod</td><td>access Moderator’s content</td></tr><tr><td>GET</td><td>/api/test/admin</td><td>access Admin’s content</td></tr></tbody></table></div><p>– Spring Security will manage cors, csrf, session, rules for protected resources, authentication &amp; authorization along with exception handler.<br> – The database we will use is MongoDB which can be accessed by the help of Spring Data MongoDB.</p><h2><span id="Spring_Boot_Signup_038_Login_with_JWT_Authentication_Flow">Spring Boot Signup &amp; Login with JWT Authentication Flow</span></h2><p>The diagram shows flow of how we implement User Registration, User Login and Authorization process.</p><p><img src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/spring-boot-mongodb-jwt-authentication-spring-security-flow.png" alt="spring-boot-mongodb-jwt-authentication-spring-security-flow" width="734" height="546" class="alignnone size-full wp-image-2364" srcset="https://bezkoder.com/wp-content/uploads/2020/02/spring-boot-mongodb-jwt-authentication-spring-security-flow.png 734w, https://bezkoder.com/wp-content/uploads/2020/02/spring-boot-mongodb-jwt-authentication-spring-security-flow-300x223.png 300w" sizes="(max-width: 734px) 100vw, 734px"></p><div class="quads-location quads-ad1" id="quads-ad1" style="float:none;margin:30px 0 30px 0;text-align:center;"><div class="aicp"> <script async="" src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/f.txt"></script> <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-9222145312954144" data-ad-slot="4842295194"></ins> <script>(adsbygoogle = window.adsbygoogle || []).push({});</script> </div></div><p>A legal JWT must be added to HTTP Authorization Header if Client accesses protected resources.</p><p>This app can be used as a back-end that works well with these front-end applications (I’ve tested all of them):</p><ul><li><a href="https://bezkoder.com/angular-jwt-authentication/">Angular 8 JWT Authentication with HttpInterceptor and Router</a></li><li><a href="https://bezkoder.com/jwt-vue-vuex-authentication/">Vue.js JWT Authentication with Vuex and Vue Router</a></li><li><a href="https://bezkoder.com/react-jwt-auth/">React JWT Authentication (without Redux) example</a><br> (React Client that works well with this Back-end)</li></ul><h2><span id="Spring_Boot_Server_Architecture_with_Spring_Security">Spring Boot Server Architecture with Spring Security</span></h2><p>You can have an overview of our Spring Boot Server with the diagram below:</p><p><img src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/spring-boot-mongodb-jwt-authentication-spring-security-architecture.png" alt="spring-boot-mongodb-jwt-authentication-spring-security-architecture" width="700" height="480" class="alignnone size-full wp-image-2365" srcset="https://bezkoder.com/wp-content/uploads/2020/02/spring-boot-mongodb-jwt-authentication-spring-security-architecture.png 700w, https://bezkoder.com/wp-content/uploads/2020/02/spring-boot-mongodb-jwt-authentication-spring-security-architecture-300x206.png 300w" sizes="(max-width: 700px) 100vw, 700px"></p><p>Let me explain it briefly.</p><p><strong>Spring Security</strong></p><p>– <code><a href="https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/configuration/WebSecurityConfigurerAdapter.html">WebSecurityConfigurerAdapter</a></code> is the crux of our security implementation. It provides <code><a href="https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#jc-httpsecurity">HttpSecurity</a></code> configurations to configure cors, csrf, session management, rules for protected resources. We can also extend and customize the default configuration that contains the elements below.</p><div class="quads-location quads-ad2" id="quads-ad2" style="float:none;margin:30px 0 30px 0;text-align:center;"><div class="aicp"> <script async="" src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/f.txt"></script> <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-9222145312954144" data-ad-slot="8580577265"></ins> <script>(adsbygoogle = window.adsbygoogle || []).push({});</script> </div></div><p>– <code><a href="https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#tech-userdetailsservice">UserDetailsService</a></code> interface has a method to load User by <em>username</em> and returns a <code>UserDetails</code> object that Spring Security can use for authentication and validation.</p><p>– <code>UserDetails</code> contains necessary information (such as: username, password, authorities) to build an Authentication object.</p><p>– <code><a href="https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/authentication/UsernamePasswordAuthenticationToken.html">UsernamePasswordAuthenticationToken</a></code> gets {username, password} from login Request, <code>AuthenticationManager</code> will use it to authenticate a login account.</p><p>– <code><a href="https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#core-services-authentication-manager">AuthenticationManager</a></code> has a <code>DaoAuthenticationProvider</code> (with help of <code>UserDetailsService</code> &amp; <code>PasswordEncoder</code>) to validate <code>UsernamePasswordAuthenticationToken</code> object. If successful, <code>AuthenticationManager</code> returns a fully populated Authentication object (including granted authorities).</p><p>– <code><a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/filter/OncePerRequestFilter.html">OncePerRequestFilter</a></code> makes a single execution for each request to our API. It provides a <code>doFilterInternal()</code> method that we will implement parsing &amp; validating JWT, loading User details (using <code>UserDetailsService</code>), checking Authorizaion (using <code>UsernamePasswordAuthenticationToken</code>).</p><p>– <code><a href="https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/AuthenticationEntryPoint.html">AuthenticationEntryPoint</a></code> will catch authentication error.</p><p><strong>Repository</strong> contains <code>UserRepository</code> &amp; <code>RoleRepository</code> to work with Database, will be imported into <strong>Controller</strong>.</p><div class="quads-location quads-ad3" id="quads-ad3" style="float:none;margin:30px 0 30px 0;text-align:center;"><div class="aicp"> <script async="" src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/f.txt"></script>  <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9222145312954144" data-ad-slot="8562543193" data-ad-format="auto" data-full-width-responsive="true"></ins> <script>(adsbygoogle = window.adsbygoogle || []).push({});</script> </div></div><p><strong>Controller</strong> receives and handles request after it was filtered by <code>OncePerRequestFilter</code>.</p><p>– <code>AuthController</code> handles signup/login requests</p><p>– <code>TestController</code> has accessing protected resource methods with role based validations.</p><h2><span id="Technology">Technology</span></h2><ul><li>Java 8</li><li>Spring Boot 2.2.4 (with Spring Security, Spring Web, Spring Data MongoDB)</li><li>jjwt 0.9.1</li><li>MongoDB</li><li>Maven 3.6.1</li></ul><h2><span id="Project_Structure">Project Structure</span></h2><p>This is folders &amp; files structure for our Spring Boot application:</p><p><img src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/spring-boot-mongodb-jwt-auth-spring-security-project-structure.png" alt="spring-boot-mongodb-jwt-auth-spring-security-project-structure" width="358" height="755" class="alignnone size-full wp-image-2366" srcset="https://bezkoder.com/wp-content/uploads/2020/02/spring-boot-mongodb-jwt-auth-spring-security-project-structure.png 358w, https://bezkoder.com/wp-content/uploads/2020/02/spring-boot-mongodb-jwt-auth-spring-security-project-structure-142x300.png 142w" sizes="(max-width: 358px) 100vw, 358px"></p><p><strong>security</strong>: we configure Spring Security &amp; implement Security Objects here.</p><ul><li><code>WebSecurityConfig</code> extends <code>WebSecurityConfigurerAdapter</code></li><li><code>UserDetailsServiceImpl</code> implements <code>UserDetailsService</code></li><li><code>UserDetailsImpl</code> implements <code>UserDetails</code></li><li><code>AuthEntryPointJwt</code> implements <code>AuthenticationEntryPoint</code></li><li><code>AuthTokenFilter</code> extends <code>OncePerRequestFilter</code></li><li><code>JwtUtils</code> provides methods for generating, parsing, validating JWT</li></ul><p><strong>controllers</strong> handle signup/login requests &amp; authorized requests.</p><ul><li><code>AuthController</code>: @PostMapping(‘/signin’), @PostMapping(‘/signup’)</li><li><code>TestController</code>: @GetMapping(‘/api/test/all’), @GetMapping(‘/api/test/[role]’)</li></ul><p><strong>repository</strong> has intefaces that extend Spring Data MongoDB <code>MongoRepository</code> to interact with Database.</p><ul><li><code>UserRepository</code> extends <code>MongoRepository&lt;User, String&gt;</code></li><li><code>RoleRepository</code> extends <code>MongoRepository&lt;Role, String&gt;</code></li></ul><p><strong>models</strong> defines two main models for Authentication (<code>User</code>) &amp; Authorization (<code>Role</code>). They have many-to-many relationship.</p><ul><li><code>User</code>: id, username, email, password, roles</li><li><code>Role</code>: id, name</li></ul><p><strong>payload</strong> defines classes for Request and Response objects</p><p>We also have <strong>application.properties</strong> for configuring Spring Data MongoDB and App properties (such as JWT Secret string or Token expiration time).</p><h2><span id="Setup_new_Spring_Boot_project">Setup new Spring Boot project</span></h2><p>Use <a href="http://start.spring.io/">Spring web tool</a> or your development tool (<a href="https://spring.io/tools">Spring Tool Suite</a>, Eclipse, <a href="https://www.jetbrains.com/idea/download/">Intellij</a>) to create a Spring Boot project.</p><p>Then open <strong>pom.xml</strong> and add these dependencies:</p><pre class=" language-markup"><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-data-mongodb<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-security<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>io.jsonwebtoken<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jjwt<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>0.9.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><h2><span id="Configure_Spring_Data_MongoDB_038_App_properties">Configure Spring Data MongoDB &amp; App properties</span></h2><p>Under <em>src/main/resources</em> folder, open <em>application.properties</em>, add these lines.</p><pre class=" language-properties"><code class=" language-properties"><span class="token attr-name">spring.data.mongodb.database</span><span class="token punctuation">=</span><span class="token attr-value">bezkoder_db</span>
<span class="token attr-name">spring.data.mongodb.host</span><span class="token punctuation">=</span><span class="token attr-value">localhost</span>
<span class="token attr-name">spring.data.mongodb.port</span><span class="token punctuation">=</span><span class="token attr-value">27017</span>

<span class="token comment"># App Properties</span>
<span class="token attr-name">bezkoder.app.jwtSecret</span><span class="token punctuation">=</span> <span class="token attr-value">bezKoderSecretKey</span>
<span class="token attr-name">bezkoder.app.jwtExpirationMs</span><span class="token punctuation">=</span> <span class="token attr-value">86400000</span>
</code></pre><h2><span id="Create_the_models">Create the models</span></h2><p>We’re gonna have 2 collections in database: <strong>users</strong> &amp; <strong>roles</strong>.</p><p>Let’s define these models.<br> In <em>models</em> package, create 3 files:</p><p><strong><code>ERole</code> enum</strong> in <em>ERole.java</em>. There are 3 roles corresponding to 3 enum.</p><pre class=" language-java"><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>models</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">ERole</span> <span class="token punctuation">{</span>
  ROLE_USER<span class="token punctuation">,</span>
  ROLE_MODERATOR<span class="token punctuation">,</span>
  ROLE_ADMIN
<span class="token punctuation">}</span>
</code></pre><p><strong><code>Role</code> model</strong> in <em>Role.java</em></p><pre class=" language-java"><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>models</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">Id</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>core<span class="token punctuation">.</span>mapping</span><span class="token punctuation">.</span><span class="token class-name">Document</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Document</span><span class="token punctuation">(</span>collection <span class="token operator">=</span> <span class="token string">"roles"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Role</span> <span class="token punctuation">{</span>
  <span class="token annotation punctuation">@Id</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> id<span class="token punctuation">;</span>

  <span class="token keyword">private</span> <span class="token class-name">ERole</span> name<span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token class-name">Role</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">Role</span><span class="token punctuation">(</span><span class="token class-name">ERole</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> id<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setId</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">ERole</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">ERole</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p><strong><code>User</code> model</strong> in <em>User.java</em> with 5 fields: id, username, email, password, roles.</p><pre class=" language-java"><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>models</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util</span><span class="token punctuation">.</span><span class="token class-name">HashSet</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util</span><span class="token punctuation">.</span><span class="token class-name">Set</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>validation<span class="token punctuation">.</span>constraints</span><span class="token punctuation">.</span><span class="token class-name">Email</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>validation<span class="token punctuation">.</span>constraints</span><span class="token punctuation">.</span><span class="token class-name">NotBlank</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>validation<span class="token punctuation">.</span>constraints</span><span class="token punctuation">.</span><span class="token class-name">Size</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">Id</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>core<span class="token punctuation">.</span>mapping</span><span class="token punctuation">.</span><span class="token class-name">DBRef</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>core<span class="token punctuation">.</span>mapping</span><span class="token punctuation">.</span><span class="token class-name">Document</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Document</span><span class="token punctuation">(</span>collection <span class="token operator">=</span> <span class="token string">"users"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token annotation punctuation">@Id</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> id<span class="token punctuation">;</span>

  <span class="token annotation punctuation">@NotBlank</span>
  <span class="token annotation punctuation">@Size</span><span class="token punctuation">(</span>max <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">)</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>

  <span class="token annotation punctuation">@NotBlank</span>
  <span class="token annotation punctuation">@Size</span><span class="token punctuation">(</span>max <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">)</span>
  <span class="token annotation punctuation">@Email</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>

  <span class="token annotation punctuation">@NotBlank</span>
  <span class="token annotation punctuation">@Size</span><span class="token punctuation">(</span>max <span class="token operator">=</span> <span class="token number">120</span><span class="token punctuation">)</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>

  <span class="token annotation punctuation">@DBRef</span>
  <span class="token keyword">private</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Role</span><span class="token punctuation">&gt;</span></span> roles <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">,</span> <span class="token class-name">String</span> email<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>username <span class="token operator">=</span> username<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>email <span class="token operator">=</span> email<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">=</span> password<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> id<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setId</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> username<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>username <span class="token operator">=</span> username<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> email<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setEmail</span><span class="token punctuation">(</span><span class="token class-name">String</span> email<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>email <span class="token operator">=</span> email<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> password<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">=</span> password<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Role</span><span class="token punctuation">&gt;</span></span> <span class="token function">getRoles</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> roles<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setRoles</span><span class="token punctuation">(</span><span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Role</span><span class="token punctuation">&gt;</span></span> roles<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>roles <span class="token operator">=</span> roles<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>You can see that we annotate each model with <code>@Document</code>. The annotation specifies domain object to be persisted to MongoDB.</p><h2><span id="Implement_Repositories">Implement Repositories</span></h2><p>Now, each model above needs a repository for persisting and accessing data. In <em>repository</em> package, we’re gonna create 2 repositories.</p><p><strong>UserRepository</strong></p><p>There are 3 necessary methods that <code>MongoRepository</code> supports.</p><pre class=" language-java"><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>repository</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util</span><span class="token punctuation">.</span><span class="token class-name">Optional</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>repository</span><span class="token punctuation">.</span><span class="token class-name">MongoRepository</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>models</span><span class="token punctuation">.</span><span class="token class-name">User</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserRepository</span> <span class="token keyword">extends</span> <span class="token class-name">MongoRepository</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">findByUsername</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token class-name">Boolean</span> <span class="token function">existsByUsername</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token class-name">Boolean</span> <span class="token function">existsByEmail</span><span class="token punctuation">(</span><span class="token class-name">String</span> email<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>RoleRepository</strong></p><p>This repository also extends <code>MongoRepository</code> and provides a finder method.</p><pre class=" language-java"><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>repository</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util</span><span class="token punctuation">.</span><span class="token class-name">Optional</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>repository</span><span class="token punctuation">.</span><span class="token class-name">MongoRepository</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>models</span><span class="token punctuation">.</span><span class="token class-name">ERole</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>models</span><span class="token punctuation">.</span><span class="token class-name">Role</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">RoleRepository</span> <span class="token keyword">extends</span> <span class="token class-name">MongoRepository</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Role</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Role</span><span class="token punctuation">&gt;</span></span> <span class="token function">findByName</span><span class="token punctuation">(</span><span class="token class-name">ERole</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h2><span id="Configure_Spring_Security">Configure Spring Security</span></h2><p>In <em>security</em> package, create <code>WebSecurityConfig</code> class that extends <code>WebSecurityConfigurerAdapter</code>.</p><p><em>WebSecurityConfig.java</em></p><pre class=" language-java"><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>security</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">Autowired</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">Bean</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">Configuration</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>authentication</span><span class="token punctuation">.</span><span class="token class-name">AuthenticationManager</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>authentication<span class="token punctuation">.</span>builders</span><span class="token punctuation">.</span><span class="token class-name">AuthenticationManagerBuilder</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>method<span class="token punctuation">.</span>configuration</span><span class="token punctuation">.</span><span class="token class-name">EnableGlobalMethodSecurity</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>web<span class="token punctuation">.</span>builders</span><span class="token punctuation">.</span><span class="token class-name">HttpSecurity</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>web<span class="token punctuation">.</span>configuration</span><span class="token punctuation">.</span><span class="token class-name">EnableWebSecurity</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>web<span class="token punctuation">.</span>configuration</span><span class="token punctuation">.</span><span class="token class-name">WebSecurityConfigurerAdapter</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>http</span><span class="token punctuation">.</span><span class="token class-name">SessionCreationPolicy</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>crypto<span class="token punctuation">.</span>bcrypt</span><span class="token punctuation">.</span><span class="token class-name">BCryptPasswordEncoder</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>crypto<span class="token punctuation">.</span>password</span><span class="token punctuation">.</span><span class="token class-name">PasswordEncoder</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>web<span class="token punctuation">.</span>authentication</span><span class="token punctuation">.</span><span class="token class-name">UsernamePasswordAuthenticationFilter</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>security<span class="token punctuation">.</span>jwt</span><span class="token punctuation">.</span><span class="token class-name">AuthEntryPointJwt</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>security<span class="token punctuation">.</span>jwt</span><span class="token punctuation">.</span><span class="token class-name">AuthTokenFilter</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>security<span class="token punctuation">.</span>services</span><span class="token punctuation">.</span><span class="token class-name">UserDetailsServiceImpl</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@EnableWebSecurity</span>
<span class="token annotation punctuation">@EnableGlobalMethodSecurity</span><span class="token punctuation">(</span>
		<span class="token comment">// securedEnabled = true,</span>
		<span class="token comment">// jsr250Enabled = true,</span>
		prePostEnabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebSecurityConfig</span> <span class="token keyword">extends</span> <span class="token class-name">WebSecurityConfigurerAdapter</span> <span class="token punctuation">{</span>
	<span class="token annotation punctuation">@Autowired</span>
	<span class="token class-name">UserDetailsServiceImpl</span> userDetailsService<span class="token punctuation">;</span>

	<span class="token annotation punctuation">@Autowired</span>
	<span class="token keyword">private</span> <span class="token class-name">AuthEntryPointJwt</span> unauthorizedHandler<span class="token punctuation">;</span>

	<span class="token annotation punctuation">@Bean</span>
	<span class="token keyword">public</span> <span class="token class-name">AuthTokenFilter</span> <span class="token function">authenticationJwtTokenFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">AuthTokenFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">AuthenticationManagerBuilder</span> authenticationManagerBuilder<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
		authenticationManagerBuilder<span class="token punctuation">.</span><span class="token function">userDetailsService</span><span class="token punctuation">(</span>userDetailsService<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">passwordEncoder</span><span class="token punctuation">(</span><span class="token function">passwordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Bean</span>
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">AuthenticationManager</span> <span class="token function">authenticationManagerBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">authenticationManagerBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Bean</span>
	<span class="token keyword">public</span> <span class="token class-name">PasswordEncoder</span> <span class="token function">passwordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">BCryptPasswordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">HttpSecurity</span> http<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
		http<span class="token punctuation">.</span><span class="token function">cors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">csrf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">disable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			<span class="token punctuation">.</span><span class="token function">exceptionHandling</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">authenticationEntryPoint</span><span class="token punctuation">(</span>unauthorizedHandler<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			<span class="token punctuation">.</span><span class="token function">sessionManagement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sessionCreationPolicy</span><span class="token punctuation">(</span><span class="token class-name">SessionCreationPolicy</span><span class="token punctuation">.</span>STATELESS<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			<span class="token punctuation">.</span><span class="token function">authorizeRequests</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">antMatchers</span><span class="token punctuation">(</span><span class="token string">"/api/auth/**"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">permitAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			<span class="token punctuation">.</span><span class="token function">antMatchers</span><span class="token punctuation">(</span><span class="token string">"/api/test/**"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">permitAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			<span class="token punctuation">.</span><span class="token function">anyRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">authenticated</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		http<span class="token punctuation">.</span><span class="token function">addFilterBefore</span><span class="token punctuation">(</span><span class="token function">authenticationJwtTokenFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">UsernamePasswordAuthenticationFilter</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>– <code>@EnableWebSecurity</code> allows Spring to find and automatically apply the class to the global Web Security.</p><p>– <code>@EnableGlobalMethodSecurity</code> provides AOP security on methods. It enables <code>@PreAuthorize</code>, <code>@PostAuthorize</code>, it also supports <a href="http://en.wikipedia.org/wiki/JSR_250">JSR-250</a>. You can find more parameters in configuration in <a href="https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#method-security-expressions">Method Security Expressions</a>.</p><p>– We override the <code>configure(HttpSecurity http)</code> method from <code>WebSecurityConfigurerAdapter</code> interface. It tells Spring Security how we configure CORS and CSRF, when we want to require all users to be authenticated or not, which filter (<code>AuthTokenFilter</code>) and when we want it to work (filter before <code>UsernamePasswordAuthenticationFilter</code>), which Exception Handler is chosen (<code>AuthEntryPointJwt</code>).</p><p>– Spring Security will load User details to perform authentication &amp; authorization. So it has <code>UserDetailsService</code> interface that we need to implement.</p><p>– The implementation of <code>UserDetailsService</code> will be used for configuring <code>DaoAuthenticationProvider</code> by <code>AuthenticationManagerBuilder.userDetailsService()</code> method.</p><p>– We also need a <code>PasswordEncoder</code> for the <code>DaoAuthenticationProvider</code>. If we don’t specify, it will use plain text.</p><h2><span id="Implement_UserDetails_038_UserDetailsService">Implement UserDetails &amp; UserDetailsService</span></h2><p>If the authentication process is successful, we can get User’s information such as username, password, authorities from an <code>Authentication</code> object.</p><pre class=" language-java"><code class=" language-java"><span class="token class-name">Authentication</span> authentication <span class="token operator">=</span> 
        authenticationManager<span class="token punctuation">.</span><span class="token function">authenticate</span><span class="token punctuation">(</span>
            <span class="token keyword">new</span> <span class="token class-name">UsernamePasswordAuthenticationToken</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span> password<span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">UserDetails</span> userDetails <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserDetails</span><span class="token punctuation">)</span> authentication<span class="token punctuation">.</span><span class="token function">getPrincipal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// userDetails.getUsername()</span>
<span class="token comment">// userDetails.getPassword()</span>
<span class="token comment">// userDetails.getAuthorities()</span>
</code></pre><p>If we want to get more data (id, email…), we can create an implementation of this <code>UserDetails</code> interface.</p><p><em>security/services/UserDetailsImpl.java</em></p><pre class=" language-java"><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>security<span class="token punctuation">.</span>services</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util</span><span class="token punctuation">.</span><span class="token class-name">Collection</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util</span><span class="token punctuation">.</span><span class="token class-name">List</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util</span><span class="token punctuation">.</span><span class="token class-name">Objects</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream</span><span class="token punctuation">.</span><span class="token class-name">Collectors</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core</span><span class="token punctuation">.</span><span class="token class-name">GrantedAuthority</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span>authority</span><span class="token punctuation">.</span><span class="token class-name">SimpleGrantedAuthority</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span>userdetails</span><span class="token punctuation">.</span><span class="token class-name">UserDetails</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>models</span><span class="token punctuation">.</span><span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">JsonIgnore</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDetailsImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserDetails</span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span>

	<span class="token keyword">private</span> <span class="token class-name">String</span> id<span class="token punctuation">;</span>

	<span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>

	<span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>

	<span class="token annotation punctuation">@JsonIgnore</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>

	<span class="token keyword">private</span> <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">GrantedAuthority</span><span class="token punctuation">&gt;</span></span> authorities<span class="token punctuation">;</span>

	<span class="token keyword">public</span> <span class="token class-name">UserDetailsImpl</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">,</span> <span class="token class-name">String</span> username<span class="token punctuation">,</span> <span class="token class-name">String</span> email<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">,</span>
			<span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">GrantedAuthority</span><span class="token punctuation">&gt;</span></span> authorities<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>username <span class="token operator">=</span> username<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>email <span class="token operator">=</span> email<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">=</span> password<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>authorities <span class="token operator">=</span> authorities<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">UserDetailsImpl</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">GrantedAuthority</span><span class="token punctuation">&gt;</span></span> authorities <span class="token operator">=</span> user<span class="token punctuation">.</span><span class="token function">getRoles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
				<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>role <span class="token operator">-&gt;</span> <span class="token keyword">new</span> <span class="token class-name">SimpleGrantedAuthority</span><span class="token punctuation">(</span>role<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
				<span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">UserDetailsImpl</span><span class="token punctuation">(</span>
				user<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
				user<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
				user<span class="token punctuation">.</span><span class="token function">getEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
				user<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
				authorities<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">GrantedAuthority</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAuthorities</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> authorities<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> id<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> email<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> password<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> username<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isAccountNonExpired</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isAccountNonLocked</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isCredentialsNonExpired</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isEnabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> o<span class="token punctuation">)</span>
			<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>o <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> o<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		<span class="token class-name">UserDetailsImpl</span> user <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserDetailsImpl</span><span class="token punctuation">)</span> o<span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> user<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Look at the code above, you can notice that we convert <code>Set&lt;Role&gt;</code> into <code>List&lt;GrantedAuthority&gt;</code>. It is important to work with Spring Security and <code>Authentication</code> object later.</p><p><code>UserDetailsService</code> will be used for getting <code>UserDetails</code> object. You can look at <code>UserDetailsService</code> interface that has following method:</p><pre class=" language-java"><code class=" language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserDetailsService</span> <span class="token punctuation">{</span>
    <span class="token class-name">UserDetails</span> <span class="token function">loadUserByUsername</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">UsernameNotFoundException</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Now we implement it to override <code>loadUserByUsername()</code> method.</p><p><em>security/services/UserDetailsServiceImpl.java</em></p><pre class=" language-java"><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>security<span class="token punctuation">.</span>services</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">Autowired</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span>userdetails</span><span class="token punctuation">.</span><span class="token class-name">UserDetails</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span>userdetails</span><span class="token punctuation">.</span><span class="token class-name">UserDetailsService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span>userdetails</span><span class="token punctuation">.</span><span class="token class-name">UsernameNotFoundException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype</span><span class="token punctuation">.</span><span class="token class-name">Service</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>transaction<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">Transactional</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>models</span><span class="token punctuation">.</span><span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>repository</span><span class="token punctuation">.</span><span class="token class-name">UserRepository</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDetailsServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserDetailsService</span> <span class="token punctuation">{</span>
	<span class="token annotation punctuation">@Autowired</span>
	<span class="token class-name">UserRepository</span> userRepository<span class="token punctuation">;</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token annotation punctuation">@Transactional</span>
	<span class="token keyword">public</span> <span class="token class-name">UserDetails</span> <span class="token function">loadUserByUsername</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">UsernameNotFoundException</span> <span class="token punctuation">{</span>
		<span class="token class-name">User</span> user <span class="token operator">=</span> userRepository<span class="token punctuation">.</span><span class="token function">findByUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span>
				<span class="token punctuation">.</span><span class="token function">orElseThrow</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">new</span> <span class="token class-name">UsernameNotFoundException</span><span class="token punctuation">(</span><span class="token string">"User Not Found with username: "</span> <span class="token operator">+</span> username<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">return</span> <span class="token class-name">UserDetailsImpl</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><p>In the code above, we get full custom User object using <code>UserRepository</code>, then we build a <code>UserDetails</code> object using static <code>build()</code> method.</p><h2><span id="Filter_the_Requests">Filter the Requests</span></h2><p>Let’s define a filter that executes once per request. So we create <code>AuthTokenFilter</code> class that extends <code>OncePerRequestFilter</code> and override <code>doFilterInternal()</code> method.</p><p><em>security/jwt/AuthTokenFilter.java</em></p><pre class=" language-java"><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>security<span class="token punctuation">.</span>jwt</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io</span><span class="token punctuation">.</span><span class="token class-name">IOException</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet</span><span class="token punctuation">.</span><span class="token class-name">FilterChain</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet</span><span class="token punctuation">.</span><span class="token class-name">ServletException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http</span><span class="token punctuation">.</span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http</span><span class="token punctuation">.</span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j</span><span class="token punctuation">.</span><span class="token class-name">Logger</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j</span><span class="token punctuation">.</span><span class="token class-name">LoggerFactory</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">Autowired</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>authentication</span><span class="token punctuation">.</span><span class="token class-name">UsernamePasswordAuthenticationToken</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span>context</span><span class="token punctuation">.</span><span class="token class-name">SecurityContextHolder</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span>userdetails</span><span class="token punctuation">.</span><span class="token class-name">UserDetails</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>web<span class="token punctuation">.</span>authentication</span><span class="token punctuation">.</span><span class="token class-name">WebAuthenticationDetailsSource</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>util</span><span class="token punctuation">.</span><span class="token class-name">StringUtils</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>filter</span><span class="token punctuation">.</span><span class="token class-name">OncePerRequestFilter</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>security<span class="token punctuation">.</span>services</span><span class="token punctuation">.</span><span class="token class-name">UserDetailsServiceImpl</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AuthTokenFilter</span> <span class="token keyword">extends</span> <span class="token class-name">OncePerRequestFilter</span> <span class="token punctuation">{</span>
  <span class="token annotation punctuation">@Autowired</span>
  <span class="token keyword">private</span> <span class="token class-name">JwtUtils</span> jwtUtils<span class="token punctuation">;</span>

  <span class="token annotation punctuation">@Autowired</span>
  <span class="token keyword">private</span> <span class="token class-name">UserDetailsServiceImpl</span> userDetailsService<span class="token punctuation">;</span>

  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">AuthTokenFilter</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doFilterInternal</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> filterChain<span class="token punctuation">)</span>
      <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token class-name">String</span> jwt <span class="token operator">=</span> <span class="token function">parseJwt</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>jwt <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> jwtUtils<span class="token punctuation">.</span><span class="token function">validateJwtToken</span><span class="token punctuation">(</span>jwt<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> jwtUtils<span class="token punctuation">.</span><span class="token function">getUserNameFromJwtToken</span><span class="token punctuation">(</span>jwt<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">UserDetails</span> userDetails <span class="token operator">=</span> userDetailsService<span class="token punctuation">.</span><span class="token function">loadUserByUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">UsernamePasswordAuthenticationToken</span> authentication <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UsernamePasswordAuthenticationToken</span><span class="token punctuation">(</span>userDetails<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
            userDetails<span class="token punctuation">.</span><span class="token function">getAuthorities</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        authentication<span class="token punctuation">.</span><span class="token function">setDetails</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">WebAuthenticationDetailsSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">buildDetails</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">SecurityContextHolder</span><span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAuthentication</span><span class="token punctuation">(</span>authentication<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Cannot set user authentication: {}"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    filterChain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token function">parseJwt</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> headerAuth <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token string">"Authorization"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasText</span><span class="token punctuation">(</span>headerAuth<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> headerAuth<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"Bearer "</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> headerAuth<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> headerAuth<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>What we do inside <code>doFilterInternal()</code>:<br> – get <code>JWT</code> from the Authorization header (by removing <code>Bearer</code> prefix)<br> – if the request has <code>JWT</code>, validate it, parse <code>username</code> from it<br> – from <code>username</code>, get <code>UserDetails</code> to create an <code>Authentication</code> object<br> – set the current <code>UserDetails</code> in <a href="https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#securitycontextholder-securitycontext-and-authentication-objects">SecurityContext</a> using <code>setAuthentication(authentication)</code> method.</p><p>After this, everytime you want to get <code>UserDetails</code>, just use <code>SecurityContext</code> like this:</p><pre class=" language-java"><code class=" language-java"><span class="token class-name">UserDetails</span> userDetails <span class="token operator">=</span>
	<span class="token punctuation">(</span><span class="token class-name">UserDetails</span><span class="token punctuation">)</span> <span class="token class-name">SecurityContextHolder</span><span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAuthentication</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPrincipal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// userDetails.getUsername()</span>
<span class="token comment">// userDetails.getPassword()</span>
<span class="token comment">// userDetails.getAuthorities()</span>
</code></pre><h2><span id="Create_JWT_Utility_class">Create JWT Utility class</span></h2><p>This class has 3 funtions:</p><ul><li>generate a <code>JWT</code> from username, date, expiration, secret</li><li>get username from <code>JWT</code></li><li>validate a <code>JWT</code></li></ul><p><em>security/jwt/JwtUtils.java</em></p><pre class=" language-java"><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>security<span class="token punctuation">.</span>jwt</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util</span><span class="token punctuation">.</span><span class="token class-name">Date</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j</span><span class="token punctuation">.</span><span class="token class-name">Logger</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j</span><span class="token punctuation">.</span><span class="token class-name">LoggerFactory</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">Value</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core</span><span class="token punctuation">.</span><span class="token class-name">Authentication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype</span><span class="token punctuation">.</span><span class="token class-name">Component</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>security<span class="token punctuation">.</span>services</span><span class="token punctuation">.</span><span class="token class-name">UserDetailsImpl</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">io<span class="token punctuation">.</span>jsonwebtoken</span><span class="token punctuation">.</span>*<span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JwtUtils</span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">JwtUtils</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${bezkoder.app.jwtSecret}"</span><span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> jwtSecret<span class="token punctuation">;</span>

	<span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${bezkoder.app.jwtExpirationMs}"</span><span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token keyword">int</span> jwtExpirationMs<span class="token punctuation">;</span>

	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">generateJwtToken</span><span class="token punctuation">(</span><span class="token class-name">Authentication</span> authentication<span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token class-name">UserDetailsImpl</span> userPrincipal <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserDetailsImpl</span><span class="token punctuation">)</span> authentication<span class="token punctuation">.</span><span class="token function">getPrincipal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">return</span> <span class="token class-name">Jwts</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
				<span class="token punctuation">.</span><span class="token function">setSubject</span><span class="token punctuation">(</span><span class="token punctuation">(</span>userPrincipal<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
				<span class="token punctuation">.</span><span class="token function">setIssuedAt</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
				<span class="token punctuation">.</span><span class="token function">setExpiration</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> jwtExpirationMs<span class="token punctuation">)</span><span class="token punctuation">)</span>
				<span class="token punctuation">.</span><span class="token function">signWith</span><span class="token punctuation">(</span><span class="token class-name">SignatureAlgorithm</span><span class="token punctuation">.</span>HS512<span class="token punctuation">,</span> jwtSecret<span class="token punctuation">)</span>
				<span class="token punctuation">.</span><span class="token function">compact</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUserNameFromJwtToken</span><span class="token punctuation">(</span><span class="token class-name">String</span> token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token class-name">Jwts</span><span class="token punctuation">.</span><span class="token function">parser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setSigningKey</span><span class="token punctuation">(</span>jwtSecret<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">parseClaimsJws</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSubject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">validateJwtToken</span><span class="token punctuation">(</span><span class="token class-name">String</span> authToken<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">try</span> <span class="token punctuation">{</span>
			<span class="token class-name">Jwts</span><span class="token punctuation">.</span><span class="token function">parser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setSigningKey</span><span class="token punctuation">(</span>jwtSecret<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">parseClaimsJws</span><span class="token punctuation">(</span>authToken<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SignatureException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Invalid JWT signature: {}"</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">MalformedJwtException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Invalid JWT token: {}"</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ExpiredJwtException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"JWT token is expired: {}"</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">UnsupportedJwtException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"JWT token is unsupported: {}"</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IllegalArgumentException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"JWT claims string is empty: {}"</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Remember that we’ve added <code>bezkoder.app.jwtSecret</code> and <code>bezkoder.app.jwtExpirationMs</code> properties in <code>application.properties</code> file.</p><h2><span id="Handle_Authentication_Exception">Handle Authentication Exception</span></h2><p>Now we create <code>AuthEntryPointJwt</code> class that implements <code>AuthenticationEntryPoint</code> interface. Then we override the <code>commence()</code> method. This method will be triggerd anytime unauthenticated User requests a secured HTTP resource and an <code>AuthenticationException</code> is thrown.</p><p><em>security/jwt/AuthEntryPointJwt.java</em></p><pre class=" language-java"><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>security<span class="token punctuation">.</span>jwt</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io</span><span class="token punctuation">.</span><span class="token class-name">IOException</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet</span><span class="token punctuation">.</span><span class="token class-name">ServletException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http</span><span class="token punctuation">.</span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http</span><span class="token punctuation">.</span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j</span><span class="token punctuation">.</span><span class="token class-name">Logger</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j</span><span class="token punctuation">.</span><span class="token class-name">LoggerFactory</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core</span><span class="token punctuation">.</span><span class="token class-name">AuthenticationException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>web</span><span class="token punctuation">.</span><span class="token class-name">AuthenticationEntryPoint</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype</span><span class="token punctuation">.</span><span class="token class-name">Component</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AuthEntryPointJwt</span> <span class="token keyword">implements</span> <span class="token class-name">AuthenticationEntryPoint</span> <span class="token punctuation">{</span>

	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">AuthEntryPointJwt</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">commence</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span>
			<span class="token class-name">AuthenticationException</span> authException<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
		logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Unauthorized error: {}"</span><span class="token punctuation">,</span> authException<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		response<span class="token punctuation">.</span><span class="token function">sendError</span><span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">.</span>SC_UNAUTHORIZED<span class="token punctuation">,</span> <span class="token string">"Error: Unauthorized"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><p><code>HttpServletResponse.SC_UNAUTHORIZED</code> is the <strong>401</strong> Status code. It indicates that the request requires HTTP authentication.</p><p>We’ve already built all things for Spring Security. The next sections of this tutorial will show you how to implement Controllers for our RestAPIs.</p><h2><span id="Define_payloads_for_Spring_RestController">Define payloads for Spring RestController</span></h2><p>Let me summarize the payloads for our RestAPIs:<br> – Requests:</p><ul><li>LoginRequest: { username, password }</li><li>SignupRequest: { username, email, password }</li></ul><p>– Responses:</p><ul><li>JwtResponse: { token, type, id, username, email, roles }</li><li>MessageResponse: { message }</li></ul><p>I don’t show these POJOs here for keeping the tutorial not so long,<br> You can find details for payload classes in source code of the project on <a href="https://github.com/bezkoder/spring-boot-security-jwt-auth-mongodb">Github</a>.</p><h2><span id="Create_Spring_RestAPIs_Controllers">Create Spring RestAPIs Controllers</span></h2><p><strong>Controller for Authentication</strong></p><p>This controller provides APIs for register and login actions.</p><p>– <code>/api/auth/signup</code></p><ul><li>check existing <code>username</code>/<code>email</code></li><li>create new <code>User</code> (with <code>ROLE_USER</code> if not specifying role)</li><li>save <code>User</code> to database using <code>UserRepository</code></li></ul><p>– <code>/api/auth/signin</code></p><ul><li>authenticate { username, pasword }</li><li>update <code>SecurityContext</code> using <code>Authentication</code> object</li><li>generate <code>JWT</code></li><li>get <code>UserDetails</code> from <code>Authentication</code> object</li><li>response contains <code>JWT</code> and <code>UserDetails</code> data</li></ul><p><em>controllers/AuthController.java</em></p><pre class=" language-java"><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>controllers</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util</span><span class="token punctuation">.</span><span class="token class-name">HashSet</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util</span><span class="token punctuation">.</span><span class="token class-name">List</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util</span><span class="token punctuation">.</span><span class="token class-name">Set</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream</span><span class="token punctuation">.</span><span class="token class-name">Collectors</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>validation</span><span class="token punctuation">.</span><span class="token class-name">Valid</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">Autowired</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>http</span><span class="token punctuation">.</span><span class="token class-name">ResponseEntity</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>authentication</span><span class="token punctuation">.</span><span class="token class-name">AuthenticationManager</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>authentication</span><span class="token punctuation">.</span><span class="token class-name">UsernamePasswordAuthenticationToken</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core</span><span class="token punctuation">.</span><span class="token class-name">Authentication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span>context</span><span class="token punctuation">.</span><span class="token class-name">SecurityContextHolder</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>crypto<span class="token punctuation">.</span>password</span><span class="token punctuation">.</span><span class="token class-name">PasswordEncoder</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">CrossOrigin</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">PostMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">RequestBody</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">RequestMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">RestController</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>models</span><span class="token punctuation">.</span><span class="token class-name">ERole</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>models</span><span class="token punctuation">.</span><span class="token class-name">Role</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>models</span><span class="token punctuation">.</span><span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>payload<span class="token punctuation">.</span>request</span><span class="token punctuation">.</span><span class="token class-name">LoginRequest</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>payload<span class="token punctuation">.</span>request</span><span class="token punctuation">.</span><span class="token class-name">SignupRequest</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>payload<span class="token punctuation">.</span>response</span><span class="token punctuation">.</span><span class="token class-name">JwtResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>payload<span class="token punctuation">.</span>response</span><span class="token punctuation">.</span><span class="token class-name">MessageResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>repository</span><span class="token punctuation">.</span><span class="token class-name">RoleRepository</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>repository</span><span class="token punctuation">.</span><span class="token class-name">UserRepository</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>security<span class="token punctuation">.</span>jwt</span><span class="token punctuation">.</span><span class="token class-name">JwtUtils</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>security<span class="token punctuation">.</span>services</span><span class="token punctuation">.</span><span class="token class-name">UserDetailsImpl</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@CrossOrigin</span><span class="token punctuation">(</span>origins <span class="token operator">=</span> <span class="token string">"*"</span><span class="token punctuation">,</span> maxAge <span class="token operator">=</span> <span class="token number">3600</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/api/auth"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AuthController</span> <span class="token punctuation">{</span>
	<span class="token annotation punctuation">@Autowired</span>
	<span class="token class-name">AuthenticationManager</span> authenticationManager<span class="token punctuation">;</span>

	<span class="token annotation punctuation">@Autowired</span>
	<span class="token class-name">UserRepository</span> userRepository<span class="token punctuation">;</span>

	<span class="token annotation punctuation">@Autowired</span>
	<span class="token class-name">RoleRepository</span> roleRepository<span class="token punctuation">;</span>

	<span class="token annotation punctuation">@Autowired</span>
	<span class="token class-name">PasswordEncoder</span> encoder<span class="token punctuation">;</span>

	<span class="token annotation punctuation">@Autowired</span>
	<span class="token class-name">JwtUtils</span> jwtUtils<span class="token punctuation">;</span>

	<span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/signin"</span><span class="token punctuation">)</span>
	<span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">authenticateUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Valid</span> <span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">LoginRequest</span> loginRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token class-name">Authentication</span> authentication <span class="token operator">=</span> authenticationManager<span class="token punctuation">.</span><span class="token function">authenticate</span><span class="token punctuation">(</span>
				<span class="token keyword">new</span> <span class="token class-name">UsernamePasswordAuthenticationToken</span><span class="token punctuation">(</span>loginRequest<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> loginRequest<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token class-name">SecurityContextHolder</span><span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAuthentication</span><span class="token punctuation">(</span>authentication<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">String</span> jwt <span class="token operator">=</span> jwtUtils<span class="token punctuation">.</span><span class="token function">generateJwtToken</span><span class="token punctuation">(</span>authentication<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token class-name">UserDetailsImpl</span> userDetails <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserDetailsImpl</span><span class="token punctuation">)</span> authentication<span class="token punctuation">.</span><span class="token function">getPrincipal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		
		<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> roles <span class="token operator">=</span> userDetails<span class="token punctuation">.</span><span class="token function">getAuthorities</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
				<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>item <span class="token operator">-&gt;</span> item<span class="token punctuation">.</span><span class="token function">getAuthority</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
				<span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">return</span> <span class="token class-name">ResponseEntity</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">JwtResponse</span><span class="token punctuation">(</span>jwt<span class="token punctuation">,</span> 
												 userDetails<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
												 userDetails<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
												 userDetails<span class="token punctuation">.</span><span class="token function">getEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
												 roles<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/signup"</span><span class="token punctuation">)</span>
	<span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">registerUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Valid</span> <span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">SignupRequest</span> signUpRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>userRepository<span class="token punctuation">.</span><span class="token function">existsByUsername</span><span class="token punctuation">(</span>signUpRequest<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token class-name">ResponseEntity</span>
					<span class="token punctuation">.</span><span class="token function">badRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
					<span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MessageResponse</span><span class="token punctuation">(</span><span class="token string">"Error: Username is already taken!"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span>userRepository<span class="token punctuation">.</span><span class="token function">existsByEmail</span><span class="token punctuation">(</span>signUpRequest<span class="token punctuation">.</span><span class="token function">getEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token class-name">ResponseEntity</span>
					<span class="token punctuation">.</span><span class="token function">badRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
					<span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MessageResponse</span><span class="token punctuation">(</span><span class="token string">"Error: Email is already in use!"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Create new user's account</span>
		<span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span>signUpRequest<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
							 signUpRequest<span class="token punctuation">.</span><span class="token function">getEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
							 encoder<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>signUpRequest<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> strRoles <span class="token operator">=</span> signUpRequest<span class="token punctuation">.</span><span class="token function">getRoles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Role</span><span class="token punctuation">&gt;</span></span> roles <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span>strRoles <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">Role</span> userRole <span class="token operator">=</span> roleRepository<span class="token punctuation">.</span><span class="token function">findByName</span><span class="token punctuation">(</span><span class="token class-name">ERole</span><span class="token punctuation">.</span>ROLE_USER<span class="token punctuation">)</span>
					<span class="token punctuation">.</span><span class="token function">orElseThrow</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"Error: Role is not found."</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			roles<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>userRole<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			strRoles<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>role <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
				<span class="token keyword">switch</span> <span class="token punctuation">(</span>role<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">case</span> <span class="token string">"admin"</span><span class="token operator">:</span>
					<span class="token class-name">Role</span> adminRole <span class="token operator">=</span> roleRepository<span class="token punctuation">.</span><span class="token function">findByName</span><span class="token punctuation">(</span><span class="token class-name">ERole</span><span class="token punctuation">.</span>ROLE_ADMIN<span class="token punctuation">)</span>
							<span class="token punctuation">.</span><span class="token function">orElseThrow</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"Error: Role is not found."</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					roles<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>adminRole<span class="token punctuation">)</span><span class="token punctuation">;</span>

					<span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token keyword">case</span> <span class="token string">"mod"</span><span class="token operator">:</span>
					<span class="token class-name">Role</span> modRole <span class="token operator">=</span> roleRepository<span class="token punctuation">.</span><span class="token function">findByName</span><span class="token punctuation">(</span><span class="token class-name">ERole</span><span class="token punctuation">.</span>ROLE_MODERATOR<span class="token punctuation">)</span>
							<span class="token punctuation">.</span><span class="token function">orElseThrow</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"Error: Role is not found."</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					roles<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>modRole<span class="token punctuation">)</span><span class="token punctuation">;</span>

					<span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token keyword">default</span><span class="token operator">:</span>
					<span class="token class-name">Role</span> userRole <span class="token operator">=</span> roleRepository<span class="token punctuation">.</span><span class="token function">findByName</span><span class="token punctuation">(</span><span class="token class-name">ERole</span><span class="token punctuation">.</span>ROLE_USER<span class="token punctuation">)</span>
							<span class="token punctuation">.</span><span class="token function">orElseThrow</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"Error: Role is not found."</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					roles<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>userRole<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		user<span class="token punctuation">.</span><span class="token function">setRoles</span><span class="token punctuation">(</span>roles<span class="token punctuation">)</span><span class="token punctuation">;</span>
		userRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">return</span> <span class="token class-name">ResponseEntity</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MessageResponse</span><span class="token punctuation">(</span><span class="token string">"User registered successfully!"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>Controller for testing Authorization</strong></p><p>There are 4 APIs:<br> – <code>/api/test/all</code> for public access<br> – <code>/api/test/user</code> for users has <code>ROLE_USER</code> or <code>ROLE_MODERATOR</code> or <code>ROLE_ADMIN</code><br> – <code>/api/test/mod</code> for users has <code>ROLE_MODERATOR</code><br> – <code>/api/test/admin</code> for users has <code>ROLE_ADMIN</code></p><p>Remember that we used <code>@EnableGlobalMethodSecurity(prePostEnabled = true)</code> for <code>WebSecurityConfig</code> class?</p><pre class=" language-java"><code class=" language-java"><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@EnableWebSecurity</span>
<span class="token annotation punctuation">@EnableGlobalMethodSecurity</span><span class="token punctuation">(</span>prePostEnabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebSecurityConfig</span> <span class="token keyword">extends</span> <span class="token class-name">WebSecurityConfigurerAdapter</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
</code></pre><p>Now we can secure methods in our Apis with <code>@PreAuthorize</code> annotation easily.</p><p><em>controllers/TestController.java</em></p><pre class=" language-java"><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bezkoder<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>jwt<span class="token punctuation">.</span>mongodb<span class="token punctuation">.</span>controllers</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>access<span class="token punctuation">.</span>prepost</span><span class="token punctuation">.</span><span class="token class-name">PreAuthorize</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">CrossOrigin</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">GetMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">RequestMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation</span><span class="token punctuation">.</span><span class="token class-name">RestController</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@CrossOrigin</span><span class="token punctuation">(</span>origins <span class="token operator">=</span> <span class="token string">"*"</span><span class="token punctuation">,</span> maxAge <span class="token operator">=</span> <span class="token number">3600</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/api/test"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestController</span> <span class="token punctuation">{</span>
	<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/all"</span><span class="token punctuation">)</span>
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">allAccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">"Public Content."</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/user"</span><span class="token punctuation">)</span>
	<span class="token annotation punctuation">@PreAuthorize</span><span class="token punctuation">(</span><span class="token string">"hasRole('USER') or hasRole('MODERATOR') or hasRole('ADMIN')"</span><span class="token punctuation">)</span>
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">userAccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">"User Content."</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/mod"</span><span class="token punctuation">)</span>
	<span class="token annotation punctuation">@PreAuthorize</span><span class="token punctuation">(</span><span class="token string">"hasRole('MODERATOR')"</span><span class="token punctuation">)</span>
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">moderatorAccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">"Moderator Board."</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/admin"</span><span class="token punctuation">)</span>
	<span class="token annotation punctuation">@PreAuthorize</span><span class="token punctuation">(</span><span class="token string">"hasRole('ADMIN')"</span><span class="token punctuation">)</span>
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">adminAccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">"Admin Board."</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h2><span id="Run_038_Test">Run &amp; Test</span></h2><p>Run Spring Boot application with command: <code>mvn spring-boot:run</code></p><p>We also need to add some rows into <strong>roles</strong> collection before assigning any role to User.<br> Run following MongoDB insert statements:</p><pre class=" language-bash"><code class=" language-bash">db.roles.insertMany([
   { name: "ROLE_USER" },
   { name: "ROLE_MODERATOR" },
   { name: "ROLE_ADMIN" },
])
</code></pre><p>Then check the MongoDB collections:</p><p><img src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/spring-boot-mongodb-jwt-auth-spring-security-add-roles.png" alt="spring-boot-mongodb-jwt-auth-spring-security-add-roles" width="445" height="338" class="alignnone size-full wp-image-2370" srcset="https://bezkoder.com/wp-content/uploads/2020/02/spring-boot-mongodb-jwt-auth-spring-security-add-roles.png 445w, https://bezkoder.com/wp-content/uploads/2020/02/spring-boot-mongodb-jwt-auth-spring-security-add-roles-300x228.png 300w" sizes="(max-width: 445px) 100vw, 445px"></p><p>Register some users with <code>/signup</code> API:</p><ul><li><strong>admin</strong> with <code>ROLE_ADMIN</code></li><li><strong>moderator</strong> with <code>ROLE_MODERATOR</code> and <code>ROLE_USER</code></li><li><strong>bezkoder</strong> with <code>ROLE_USER</code></li></ul><p><img src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/spring-boot-mongodb-jwt-auth-spring-security-user-registration.png" alt="spring-boot-mongodb-jwt-auth-spring-security-user-registration" width="624" height="464" class="alignnone size-full wp-image-2373" srcset="https://bezkoder.com/wp-content/uploads/2020/02/spring-boot-mongodb-jwt-auth-spring-security-user-registration.png 624w, https://bezkoder.com/wp-content/uploads/2020/02/spring-boot-mongodb-jwt-auth-spring-security-user-registration-300x223.png 300w" sizes="(max-width: 624px) 100vw, 624px"></p><p>After make some user registration, <code>users</code> collection could look like this-</p><p><img src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/spring-boot-mongodb-jwt-auth-spring-security-users-collection.png" alt="spring-boot-mongodb-jwt-auth-spring-security-users-collection" width="532" height="638" class="alignnone size-full wp-image-2372" srcset="https://bezkoder.com/wp-content/uploads/2020/02/spring-boot-mongodb-jwt-auth-spring-security-users-collection.png 532w, https://bezkoder.com/wp-content/uploads/2020/02/spring-boot-mongodb-jwt-auth-spring-security-users-collection-250x300.png 250w" sizes="(max-width: 532px) 100vw, 532px"></p><p><strong>Access public resource:</strong> GET <code>/api/test/all</code></p><p><img src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/spring-boot-mongodb-jwt-auth-spring-security-access-public.png" alt="spring-boot-mongodb-jwt-auth-spring-security-access-public" width="586" height="342" class="alignnone size-full wp-image-2374" srcset="https://bezkoder.com/wp-content/uploads/2020/02/spring-boot-mongodb-jwt-auth-spring-security-access-public.png 586w, https://bezkoder.com/wp-content/uploads/2020/02/spring-boot-mongodb-jwt-auth-spring-security-access-public-300x175.png 300w" sizes="(max-width: 586px) 100vw, 586px"></p><p><strong>Access protected resource:</strong> GET <code>/api/test/user</code></p><p><img src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/spring-boot-mongodb-jwt-auth-security-access-protected-resources.png" alt="spring-boot-mongodb-jwt-auth-security-access-protected-resources" width="586" height="412" class="alignnone size-full wp-image-2375" srcset="https://bezkoder.com/wp-content/uploads/2020/02/spring-boot-mongodb-jwt-auth-security-access-protected-resources.png 586w, https://bezkoder.com/wp-content/uploads/2020/02/spring-boot-mongodb-jwt-auth-security-access-protected-resources-300x211.png 300w" sizes="(max-width: 586px) 100vw, 586px"></p><p><strong>Login an account:</strong> POST <code>/api/auth/signin</code></p><p><img src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/spring-boot-mongodb-jwt-auth-spring-security-user-login.png" alt="spring-boot-mongodb-jwt-auth-spring-security-user-login" width="620" height="596" class="alignnone size-full wp-image-2376" srcset="https://bezkoder.com/wp-content/uploads/2020/02/spring-boot-mongodb-jwt-auth-spring-security-user-login.png 620w, https://bezkoder.com/wp-content/uploads/2020/02/spring-boot-mongodb-jwt-auth-spring-security-user-login-300x288.png 300w" sizes="(max-width: 620px) 100vw, 620px"></p><p><strong>Access <code>ROLE_USER</code> resource:</strong> GET <code>/api/test/user</code></p><p><img src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/spring-boot-mongodb-jwt-auth-spring-security-user-data.png" alt="spring-boot-mongodb-jwt-auth-spring-security-user-data" width="584" height="388" class="alignnone size-full wp-image-2378" srcset="https://bezkoder.com/wp-content/uploads/2020/02/spring-boot-mongodb-jwt-auth-spring-security-user-data.png 584w, https://bezkoder.com/wp-content/uploads/2020/02/spring-boot-mongodb-jwt-auth-spring-security-user-data-300x199.png 300w" sizes="(max-width: 584px) 100vw, 584px"></p><p><strong>Access <code>ROLE_MODERATOR</code> resource:</strong> GET <code>/api/test/mod</code></p><p><img src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/spring-boot-mongodb-jwt-auth-security-access-protected-data.png" alt="spring-boot-mongodb-jwt-auth-security-access-protected-data" width="586" height="388" class="alignnone size-full wp-image-2379" srcset="https://bezkoder.com/wp-content/uploads/2020/02/spring-boot-mongodb-jwt-auth-security-access-protected-data.png 586w, https://bezkoder.com/wp-content/uploads/2020/02/spring-boot-mongodb-jwt-auth-security-access-protected-data-300x199.png 300w" sizes="(max-width: 586px) 100vw, 586px"></p><p><strong>Access <code>ROLE_ADMIN</code> resource:</strong> GET <code>/api/test/admin</code></p><p><img src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/spring-boot-mongodb-jwt-auth-security-access-protected-data-failed.png" alt="spring-boot-mongodb-jwt-auth-security-access-protected-data-failed" width="588" height="482" class="alignnone size-full wp-image-2380" srcset="https://bezkoder.com/wp-content/uploads/2020/02/spring-boot-mongodb-jwt-auth-security-access-protected-data-failed.png 588w, https://bezkoder.com/wp-content/uploads/2020/02/spring-boot-mongodb-jwt-auth-security-access-protected-data-failed-300x246.png 300w" sizes="(max-width: 588px) 100vw, 588px"></p><h2><span id="Conclusion">Conclusion</span></h2><p>Oh Yeah! Today we’ve learned many things about Spring Security and JWT Token based Authentication in a Spring Boot MongoDB login &amp; registration example (with Authorization).</p><p>This app can be used as a back-end that works well with these front-end applications (I’ve tested all of them):</p><ul><li><a href="https://bezkoder.com/angular-jwt-authentication/">Angular 8 JWT Authentication with HttpInterceptor and Router</a></li><li><a href="https://bezkoder.com/jwt-vue-vuex-authentication/">Vue.js JWT Authentication with Vuex and Vue Router</a></li><li><a href="https://bezkoder.com/react-jwt-auth/">React JWT Authentication (without Redux) example</a></li></ul><p>Happy learning! See you again.</p><h2><span id="Source_Code">Source Code</span></h2><p>You can find the complete source code for this tutorial on <a href="https://github.com/bezkoder/spring-boot-security-jwt-auth-mongodb">Github</a>.</p><h2><span id="Further_Reading">Further Reading</span></h2><ul><li><a href="https://bezkoder.com/jwt-json-web-token/">In-depth Introduction to JWT-JSON Web Token</a></li><li><a href="https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/">Spring Security Reference</a></li><li><a href="https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/">Spring Data MongoDB – Reference Documentation</a></li><li><a href="https://bezkoder.com/spring-boot-vue-js-authentication-jwt-spring-security/">Spring Boot + Vuejs: Authentication with JWT &amp; Spring Security Example</a></li></ul><div class="quads-location quads-ad4" id="quads-ad4" style="float:none;margin:20px 0 20px 0;text-align:center;"> <script async="" src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/f.txt"></script>  <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9222145312954144" data-ad-slot="8640230518" data-ad-format="auto" data-full-width-responsive="true"></ins> <script>(adsbygoogle = window.adsbygoogle || []).push({});</script> </div></div><footer class="entry-meta"><div class="tagcloud" style=""> <a href="https://bezkoder.com/tag/authentication/">authentication</a> <a href="https://bezkoder.com/tag/authorization/">authorization</a> <a href="https://bezkoder.com/tag/jwt/">jwt</a> <a href="https://bezkoder.com/tag/mongodb/">mongodb</a> <a href="https://bezkoder.com/tag/security/">security</a> <a href="https://bezkoder.com/tag/spring-boot/">spring boot</a> <a href="https://bezkoder.com/tag/spring-data-mongodb/">spring data mongodb</a> <a href="https://bezkoder.com/tag/spring-security/">spring security</a> <a href="https://bezkoder.com/tag/token-based-authentication/">token based authentication</a></div></footer></div></article><div id="comments" class="comments-area"><div style="margin-top: 20px;"><div id="amzn-assoc-ad-235a5d22-cf2e-4e19-8228-4317d06dade2"><style type="text/css">
div#amzn-native-ad-0{max-width:1021px;font-family:"Arial";font-size:13px;color:#111;position:relative;clear:right;display:none;box-sizing:border-box}div#amzn-native-ad-0 *{margin:0;padding:0;border:0;top:0;bottom:0;right:0;left:0;background:0;text-transform:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;box-sizing:content-box;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;text-align:left;-webkit-font-smoothing:initial;-moz-osx-font-smoothing:initial;direction:ltr}div#amzn-native-ad-0 * div:focus,div#amzn-native-ad-0 * a:focus,div#amzn-native-ad-0 * span:focus{outline:0}div#amzn-native-ad-0 *{box-sizing:border-box}div#amzn-native-ad-0 input.amzn-native-search,div#amzn-native-ad-0 input.amzn-native-search:before,div#amzn-native-ad-0 input.amzn-native-search:after{-webkit-user-select:text;-khtml-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}div#amzn-native-ad-0 .amzn-native-header{margin-bottom:20px;line-height:20px;text-align:left}div#amzn-native-ad-0 .amzn-native-header .amzn-native-header-text{font-size:20px;font-family:Arial,sans-serif}div#amzn-native-ad-0 .amzn-native-header .amzn-native-brand.amzn-native-brand-top{display:none}div#amzn-native-ad-0 .amzn-native-header .amzn-native-brand{display:inline-block;float:right;padding-top:0}div#amzn-native-ad-0 .amzn-native-content{overflow:hidden}div#amzn-native-ad-0 .amzn-native-content.amzn-native-content-adfeedback{overflow:visible}div#amzn-native-ad-0 .amzn-native-content.amzn-native-content-adfeedback:after{content:" ";display:block;clear:both}div#amzn-native-ad-0 .amzn-native-content .amzn-native-carousel-leftarrow{display:none}div#amzn-native-ad-0 .amzn-native-content .amzn-native-carousel-rightarrow{display:none}div#amzn-native-ad-0 div.amzn-native-products-list{list-style-type:none}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product{float:left;width:25%;margin-bottom:10px;height:300px;border:1px solid #ccc;cursor:pointer;display:list-item;text-align:left;list-style:none;text-overflow:ellipsis;position:relative;box-sizing:border-box;background-color:#fff}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product div.amzn-native-product-asin{display:none}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product div.amzn-native-product-deal{display:none}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product div.amzn-native-product-concept{display:none}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-image-container{padding:5px 5px 0 5px;height:165px;width:100%;display:table;table-layout:fixed}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-image-container div{display:table-cell;vertical-align:middle;width:100%;height:100%}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product a.amzn-native-product-title{z-index:2}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product a.amzn-native-product-title span.amzn-native-product-link-catcher{position:absolute;width:100%;height:100%;top:0;left:0;z-index:2}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-title-container{padding-top:20px;padding-left:4%;padding-right:4%;overflow:hidden}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-title-container a{color:#0066c0;line-height:20px;word-wrap:normal;text-decoration:none;text-overflow:ellipsis;overflow:hidden;display:inline-block;width:100%;font-weight:normal;box-shadow:none}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-title-container.amzn-native-product-title-container-black a{color:#111}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product img{background:0;box-shadow:none;display:block;margin:auto;max-width:100% !important;max-height:150px !important;height:auto !important;width:auto !important;float:none;border:0 !important;padding:0 !important;opacity:1}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-attr-container{position:absolute;top:auto;bottom:5px;left:auto;right:auto;margin-left:4%;margin-right:4%;width:92%}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-offer-price{font-weight:bold;font-family:Arial;padding-right:5px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-list-price{text-decoration:line-through;font-family:Arial;font-size:10px;color:#4a4a4a;padding-right:5px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-bs-highlight{display:none;padding-top:10px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-bs-highlight .amzn-native-product-bs-text{font-family:Arial;font-size:14px;color:#e47911}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-prime{display:inline-block;background-position:-2px -31px;background-size:265px 75px;height:15px;vertical-align:top;width:52px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-prime-container{margin-top:7px;height:19px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-prime-container .amzn-native-product-prime{background-position:-2px -32px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-free-shipping{display:none;font-size:12px;color:#777}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-free-shipping.compact{font-size:11px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-price{line-height:18px !important}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-svg-icons{width:100%}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-rating{padding-top:10px;line-height:18px !important}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-rating .amzn-native-product-stars-holder{display:inline-block;background-position:-2.5px -2.2px;background-size:227.8px 64px;height:13px;margin-top:1px;position:relative;vertical-align:baseline;width:68.5px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-rating .amzn-native-product-stars-holder span.amzn-native-product-stars{background-position:-82.8px -2.4px;background-size:227.8px 64px;display:inline-block;height:13px;left:0;position:absolute;top:0;width:0}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-rating.amzn-native-product-large-rating .amzn-native-product-stars-holder{background-position:-2.5px -3.2px;background-size:240px 75px;height:14px;width:72px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-rating.amzn-native-product-large-rating .amzn-native-product-stars-holder span.amzn-native-product-stars{background-position:-86.8px -3.4px;background-size:240px 75px;height:15px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-rating.amzn-native-product-large-rating.below-price{padding-top:7px;padding-bottom:0}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-rating.amzn-native-product-large-rating.above-price{padding-bottom:7px;padding-top:0}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-review-count{vertical-align:top}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product:hover .amzn-native-product-title-container a{color:#f90;font-weight:normal}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product:hover .amzn-native-product-title-container.amzn-native-product-title-container-black a{color:#0066c0}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product:hover img{opacity:.7}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product:hover .amzn-native-product-image-container{opacity:.7}div#amzn-native-ad-0 .amzn-native-brand{padding-top:10px;text-align:right;clear:right;font-size:11px;line-height:13px}div#amzn-native-ad-0 .amzn-native-brand a{width:inherit;box-shadow:none}div#amzn-native-ad-0 .amzn-native-brand .amzn-native-brand-bottom{display:block}div#amzn-native-ad-0 .amzn-native-brand .amzn-native-brand-text a.amzn-native-brand-link{color:#777;vertical-align:top;font-family:Arial,Helvetica,sans-serif;font-size:10px;font-weight:bold;padding-bottom:1px;display:inline-block;text-decoration:none;line-height:11px}div#amzn-native-ad-0 .amzn-native-brand span.amzn-native-da-adchoices{background-position:-2px -92px;background-size:382px 108px;height:16px;vertical-align:top;width:16px}div#amzn-native-ad-0 .amzn-native-brand-content{display:inline-block}div#amzn-native-ad-0 .amzn-sprite{background-position:9999px 9999px;display:inline-block;width:0;height:0;vertical-align:middle}div#amzn-native-ad-0.amzn-native-dark .amzn-native-header .amzn-native-header-text{color:#FFF}div#amzn-native-ad-0.amzn-native-carousel .amzn-native-content{overflow:hidden}div#amzn-native-ad-0.amzn-native-carousel .amzn-native-content .amzn-native-carousel-leftarrow{vertical-align:middle;width:50px;height:100px;position:absolute;top:30%;cursor:pointer;z-index:3;background-size:318px 90px;background-position:-277px 5px;background-repeat:no-repeat;opacity:.6}div#amzn-native-ad-0.amzn-native-carousel .amzn-native-content .amzn-native-carousel-leftarrow.amzn-native-carousel-leftarrowdefault{-webkit-tap-highlight-color:transparent}div#amzn-native-ad-0.amzn-native-carousel .amzn-native-content .amzn-native-carousel-leftarrow.amzn-native-carousel-leftarrowhover{opacity:1}div#amzn-native-ad-0.amzn-native-carousel .amzn-native-content .amzn-native-carousel-rightarrow{vertical-align:middle;width:50px;height:100px;position:absolute;top:30%;cursor:pointer;z-index:3;right:0;left:auto;background-size:318px 90px;background-position:-218px 5px;background-repeat:no-repeat;opacity:.6}div#amzn-native-ad-0.amzn-native-carousel .amzn-native-content .amzn-native-carousel-rightarrow.amzn-native-carousel-rightarrowdefault{opacity:.6;-webkit-tap-highlight-color:transparent}div#amzn-native-ad-0.amzn-native-carousel .amzn-native-content .amzn-native-carousel-rightarrow.amzn-native-carousel-rightarrowhover{opacity:1}div#amzn-native-ad-0.amzn-native-carousel div.amzn-native-products-list{white-space:nowrap;display:inline-block;display:-moz-inline-box;-webkit-transition:margin .5s ease-in-out;-moz-transition:margin .5s ease-in-out;-o-transition:margin .5s ease-in-out;transition:margin .5s ease-in-out}div#amzn-native-ad-0.amzn-native-carousel div.amzn-native-products-list div.amzn-native-product .amzn-native-product-title-container a{white-space:normal}div#amzn-native-ad-0.amzn-native-carousel-mobile .amzn-native-content{overflow-x:scroll;-webkit-overflow-scrolling:touch}div#amzn-native-ad-0.amzn-native-carousel-mobile div.amzn-native-products-list{white-space:nowrap;display:inline-block;display:-moz-inline-box;-webkit-transition:margin .5s ease-in-out;-moz-transition:margin .5s ease-in-out;-o-transition:margin .5s ease-in-out;transition:margin .5s ease-in-out}div#amzn-native-ad-0.amzn-native-no-borders div.amzn-native-products-list div.amzn-native-product{border:0}div#amzn-native-ad-0.amzn-native-ad-search-mobile div.amzn-native-products-list div.amzn-native-product:hover .amzn-native-product-title-container a{color:#0066c0}div#amzn-native-ad-0.amzn-native-ad-search-mobile div.amzn-native-products-list div.amzn-native-product:hover img{opacity:1}div#amzn-native-ad-0.amzn-native-ad-top-branding .amzn-native-header .amzn-native-brand.amzn-native-brand-top{padding-top:5px;display:block}div#amzn-native-ad-0.amzn-native-ad-top-branding .amzn-native-brand.amzn-native-brand-bottom{display:none}div#amzn-native-ad-0.amzn-native-ad-search-box .amzn-native-header .amzn-native-brand.amzn-native-brand-top{display:block}div#amzn-native-ad-0.amzn-native-ad-search-box .amzn-native-brand.amzn-native-brand-bottom{display:none}div#amzn-native-ad-0 .amzn-native-header{margin-bottom:10px}div#amzn-native-ad-0 .amzn-native-header .amzn-native-header-text{font-size:16px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product{height:200px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-image-container{height:120px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product img{max-height:115px !important}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-title-container a{line-height:17px !important;font-size:12px !important}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-title-container{padding-top:10px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-offer-price{font-size:12px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-bs-highlight{padding-top:5px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-rating{padding-top:5px;line-height:17px !important}
</style>
















                        





        
                                                                                                            
    




<style type="text/css">
    div#amzn-native-ad-0 .amzn-sprite {
        background-image: url("//wms-na.amazon-adsystem.com/panda/20070822/US/img/amzn-nsa-sprite-2x.png");
    }
        </style>


<div id="amzn-native-ad-0" class="amzn-native-container    amzn-native-no-borders " data-ad-meta="Native_Compact-auto" style="display: block; width: auto;">
            <div class="amzn-native-header">
            <span class="amzn-native-header-text">Shop Related Products</span>
            <div class="amzn-native-brand amzn-native-brand-top">
                <span class="amzn-native-brand-content">
                    <span class="amzn-native-brand-text">
                                                    <a rel="nofollow" href="https://aax-us-east.amazon-adsystem.com/x/c/QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us/https://affiliate-program.amazon.com/home/ads/ref=sm_n_au_dka_PK_logo?adId=logo&amp;creativeASIN=logo&amp;linkId=1f70ba7b52ca5a0c55344500ea9e298d&amp;tag=bezkoder-20&amp;linkCode=w41&amp;ref-refURL=https%3A%2F%2Fbezkoder.com%2Fspring-boot-jwt-auth-mongodb%2F&amp;slotNum=0&amp;imprToken=YNb3eh3KLnK1xEzrtxV98w&amp;adType=smart&amp;adMode=auto&amp;adFormat=grid&amp;impressionTimestamp=1586625466735&amp;ac-ms-src=nsa-ads&amp;cid=nsa-ads" target="_blank" class="amzn-native-brand-link amzn-native-brand-logo-link">
                                Ads by Amazon
                            </a>
                                                <a rel="nofollow" class="amzn-native-adchoices-link" href="https://aax-us-east.amazon-adsystem.com/x/c/QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us/https://www.amazon.com/adprefs/ref=sm_n_au_dka_PK_ac?tag=bezkoder-20&amp;linkCode=w41" target="_blank" title="AdChoices">
                            <span class="amzn-sprite amzn-native-da-adchoices"></span>
                        </a>
                    </span>
                </span>
            </div>
        </div>
        
    <div class="amzn-native-content  amzn-native-content-adfeedback " style="height: 460px;">
        <div class="amzn-sprite amzn-native-carousel-leftarrow"></div>
        <div class="amzn-native-products-list" style="display: block;">
            
        <div class="amzn-native-product amzn-native-product-asin-container" data-item-type="ASIN" title="Server Architectures: Multiprocessors, Clusters, Parallel Systems, Web Servers, Storage Solutions" tabindex="0" style="margin-left: 0px; width: 24%; display: block; height: 224px;">
                                    <div class="amzn-sprite amzn-native-products-feedback-icon" title="Report a problem"></div>

                    <div class="amzn-native-products-feedback-popup" style="display: none;" data-item-number="0">
                        <div class="amzn-native-products-feedback-popup-close">×</div>

                        <div class="amzn-native-products-post-feedback">
                            <div class="amzn-native-products-feedback-title">Thank you!</div>
                            <p>This will help us improve your ad experience. We will try not to show you such ads again.</p>
                        </div>

                        <div class="amzn-native-products-pre-feedback">
                            <div class="amzn-native-products-feedback-title">Report a problem</div>
                            <p class="amzn-native-products-feedback-subtitle">This item is...</p>
                            <div class="amzn-native-products-feedback-form">
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" class="amzn-native-products-feedback-input" value="irrelevant">
                                            Not relevant
                                    </label>
                                </div>
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" class="amzn-native-products-feedback-input" value="offensive">
                                            Inappropriate / Offensive
                                    </label>
                                </div>
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" class="amzn-native-products-feedback-input" value="displayed-poorly">
                                            Displayed poorly
                                    </label>
                                </div>
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" value="other" class="amzn-native-products-feedback-input amzn-native-products-other-feedback">
                                            Other
                                    </label>
                                </div>
                                <p class="amzn-native-products-feedback-comments-label">Add Comments <span>(Max 320 characters)</span></p>
                                <textarea class="amzn-native-products-feedback-comments" placeholder="Tell us more about this" maxlength="320"></textarea>
                                <input class="amzn-native-products-feedback-submit disabled" type="submit" value="Submit">
                            </div>
                        </div>
                    </div>
                
                <div class="amzn-native-product-asin" style="display: block;">
                    <div tabindex="-1" class="amzn-native-product-image-container">
                        <div>
                            <img class="amzn-native-product-image" src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/51rH972UhwL._AC_SL230_.jpg">
                        </div>
                    </div>
                    <div tabindex="-1" class="amzn-native-product-title-container ">
                        <a rel="nofollow" tabindex="-1" class="amzn-native-product-title" href="https://aax-us-east.amazon-adsystem.com/x/c/QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us/https://www.amazon.com/dp/1555583334/ref=sm_n_au_dka_PK_pr_con_0_0?adId=1555583334&amp;creativeASIN=1555583334&amp;linkId=1f70ba7b52ca5a0c55344500ea9e298d&amp;tag=bezkoder-20&amp;linkCode=w41&amp;ref-refURL=https%3A%2F%2Fbezkoder.com%2Fspring-boot-jwt-auth-mongodb%2F&amp;slotNum=0&amp;imprToken=YNb3eh3KLnK1xEzrtxV98w&amp;adType=smart&amp;adMode=auto&amp;adFormat=grid&amp;impressionTimestamp=1586625466689" target="_blank">
                            <span class="amzn-native-product-link-catcher"></span>
                            <span class="amzn-native-product-title-text">Server Architectures: Multiprocessors, Clusters…</span>
                        </a>
                    </div>
                                            <div tabindex="-1" class="amzn-native-product-attr-container  amzn-native-product-attr-container-full ">
                                                        <div class="amzn-native-product-price">
                                                                                                                                                                <span class="amzn-native-product-offer-price" style="display: inline-block;">$38.90</span><!--
                                                                    --><span class="amzn-native-product-list-price" style="display: inline-block;">$101.00</span><!--
                                                                                                    --><span class="amzn-sprite amzn-native-product-prime amzn-native-product-prime-inline-with-price" style="display: inline-block;"></span><!--
                                                                                                -->
                            </div>
                            <div class="amzn-native-product-bs-highlight" style="display: none;">
                                <span class="amzn-native-product-bs-text">Bestseller</span>
                            </div>
                                                            <div class="amzn-native-product-rating  below-price" style="display: block;">
                                    <span class="amzn-native-product-stars-holder amzn-sprite">
                                        <span class="amzn-native-product-stars amzn-sprite" style="width: 94%;"></span>
                                    </span>
                                    <span class="amzn-native-product-review-count">(2)</span>
                                </div>
                                                                                </div>
                                    </div>
                <div class="amzn-native-product-deal">
                    <div tabindex="-1" class="amzn-native-product-image-container">
                        <div>
                            <img class="amzn-native-product-image">
                        </div>
                    </div>

                    <div class="amzn-native-product-price">
                        <span class="amzn-native-product-offer-price"></span>
                        <span class="amzn-native-percent-off"></span>
                    </div>

                    <div tabindex="-1" class="amzn-native-product-title-container">
                        <a rel="nofollow" tabindex="-1" class="amzn-native-product-title" href="https://aax-us-east.amazon-adsystem.com/x/c/QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us/https://bezkoder.com/spring-boot-jwt-auth-mongodb/#" target="_blank">
                            <span class="amzn-native-product-link-catcher"></span>
                            <span class="amzn-native-product-title-text"></span>
                        </a>
                    </div>

                    <div tabindex="-1" class="amzn-native-product-attr-container amzn-native-product-attr-container-full">
                        <div class="amzn-native-product-deal-attr-container">
                            <div class="amzn-native-product-deal-badge">DEAL OF THE DAY</div>
                            <div class="amzn-native-product-deal-badge-skew"></div>

                            <div class="amzn-native-product-deal-timer-container">
                                ENDS IN 
                                <div class="amzn-native-product-deal-timer"></div>
                            </div>
                        </div>

                        <div class="amzn-native-product-rating">
                            <span class="amzn-native-product-stars-holder amzn-sprite">
                                <span class="amzn-native-product-stars amzn-sprite"></span>
                            </span>
                            <span class="amzn-native-product-review-count"></span>
                        </div>
                    </div>
                </div>
                <div class="amzn-native-product-concept">
                    <div tabindex="1" class="amzn-native-product-image-container">
                        <div class="amzn-native-concept-image">
                        </div>
                    </div>
                    <div tabindex="-1" class="amzn-native-product-title-container">
                        <a rel="nofollow" tabindex="-1" class="amzn-native-product-title" href="https://aax-us-east.amazon-adsystem.com/x/c/QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us/https://bezkoder.com/spring-boot-jwt-auth-mongodb/#" target="_blank">
                            <span class="amzn-native-product-link-catcher"></span>
                            <span class="amzn-native-product-title-text"></span>
                        </a>
                    </div>
                </div>
            </div><div class="amzn-native-product amzn-native-product-asin-container" data-item-type="ASIN" title="Spring Data: Modern Data Access for Enterprise Java" tabindex="0" style="margin-left: 1.33333%; width: 24%; display: block; height: 224px;">
                                    <div class="amzn-sprite amzn-native-products-feedback-icon" title="Report a problem"></div>

                    <div class="amzn-native-products-feedback-popup" style="display: none;" data-item-number="1">
                        <div class="amzn-native-products-feedback-popup-close">×</div>

                        <div class="amzn-native-products-post-feedback">
                            <div class="amzn-native-products-feedback-title">Thank you!</div>
                            <p>This will help us improve your ad experience. We will try not to show you such ads again.</p>
                        </div>

                        <div class="amzn-native-products-pre-feedback">
                            <div class="amzn-native-products-feedback-title">Report a problem</div>
                            <p class="amzn-native-products-feedback-subtitle">This item is...</p>
                            <div class="amzn-native-products-feedback-form">
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" class="amzn-native-products-feedback-input" value="irrelevant">
                                            Not relevant
                                    </label>
                                </div>
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" class="amzn-native-products-feedback-input" value="offensive">
                                            Inappropriate / Offensive
                                    </label>
                                </div>
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" class="amzn-native-products-feedback-input" value="displayed-poorly">
                                            Displayed poorly
                                    </label>
                                </div>
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" value="other" class="amzn-native-products-feedback-input amzn-native-products-other-feedback">
                                            Other
                                    </label>
                                </div>
                                <p class="amzn-native-products-feedback-comments-label">Add Comments <span>(Max 320 characters)</span></p>
                                <textarea class="amzn-native-products-feedback-comments" placeholder="Tell us more about this" maxlength="320"></textarea>
                                <input class="amzn-native-products-feedback-submit disabled" type="submit" value="Submit">
                            </div>
                        </div>
                    </div>
                
                <div class="amzn-native-product-asin" style="display: block;">
                    <div tabindex="-1" class="amzn-native-product-image-container">
                        <div>
                            <img class="amzn-native-product-image" src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/511FeZ5VzmL._AC_SL230_.jpg">
                        </div>
                    </div>
                    <div tabindex="-1" class="amzn-native-product-title-container ">
                        <a rel="nofollow" tabindex="-1" class="amzn-native-product-title" href="https://aax-us-east.amazon-adsystem.com/x/c/QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us/https://www.amazon.com/dp/B009PSWJHA/ref=sm_n_au_dka_PK_pr_con_0_1_nodl?adId=B009PSWJHA&amp;creativeASIN=B009PSWJHA&amp;linkId=1f70ba7b52ca5a0c55344500ea9e298d&amp;tag=bezkoder-20&amp;linkCode=w41&amp;ref-refURL=https%3A%2F%2Fbezkoder.com%2Fspring-boot-jwt-auth-mongodb%2F&amp;slotNum=0&amp;imprToken=YNb3eh3KLnK1xEzrtxV98w&amp;adType=smart&amp;adMode=auto&amp;adFormat=grid&amp;impressionTimestamp=1586625466694" target="_blank">
                            <span class="amzn-native-product-link-catcher"></span>
                            <span class="amzn-native-product-title-text">Spring Data: Modern Data Access for Enterprise Java</span>
                        </a>
                    </div>
                                            <div tabindex="-1" class="amzn-native-product-attr-container  amzn-native-product-attr-container-full ">
                                                        <div class="amzn-native-product-price">
                                                                                                                                                                <span class="amzn-native-product-offer-price" style="display: inline-block;">$18.35</span><!--
                                                                    --><span class="amzn-native-product-list-price" style="display: none;"></span><!--
                                                                                                    --><span class="amzn-sprite amzn-native-product-prime amzn-native-product-prime-inline-with-price" style="display: none;"></span><!--
                                                                                                -->
                            </div>
                            <div class="amzn-native-product-bs-highlight" style="display: none;">
                                <span class="amzn-native-product-bs-text">Bestseller</span>
                            </div>
                                                            <div class="amzn-native-product-rating  below-price" style="display: block;">
                                    <span class="amzn-native-product-stars-holder amzn-sprite">
                                        <span class="amzn-native-product-stars amzn-sprite" style="width: 78%;"></span>
                                    </span>
                                    <span class="amzn-native-product-review-count">(11)</span>
                                </div>
                                                                                </div>
                                    </div>
                <div class="amzn-native-product-deal">
                    <div tabindex="-1" class="amzn-native-product-image-container">
                        <div>
                            <img class="amzn-native-product-image">
                        </div>
                    </div>

                    <div class="amzn-native-product-price">
                        <span class="amzn-native-product-offer-price"></span>
                        <span class="amzn-native-percent-off"></span>
                    </div>

                    <div tabindex="-1" class="amzn-native-product-title-container">
                        <a rel="nofollow" tabindex="-1" class="amzn-native-product-title" href="https://aax-us-east.amazon-adsystem.com/x/c/QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us/https://bezkoder.com/spring-boot-jwt-auth-mongodb/#" target="_blank">
                            <span class="amzn-native-product-link-catcher"></span>
                            <span class="amzn-native-product-title-text"></span>
                        </a>
                    </div>

                    <div tabindex="-1" class="amzn-native-product-attr-container amzn-native-product-attr-container-full">
                        <div class="amzn-native-product-deal-attr-container">
                            <div class="amzn-native-product-deal-badge">DEAL OF THE DAY</div>
                            <div class="amzn-native-product-deal-badge-skew"></div>

                            <div class="amzn-native-product-deal-timer-container">
                                ENDS IN 
                                <div class="amzn-native-product-deal-timer"></div>
                            </div>
                        </div>

                        <div class="amzn-native-product-rating">
                            <span class="amzn-native-product-stars-holder amzn-sprite">
                                <span class="amzn-native-product-stars amzn-sprite"></span>
                            </span>
                            <span class="amzn-native-product-review-count"></span>
                        </div>
                    </div>
                </div>
                <div class="amzn-native-product-concept">
                    <div tabindex="1" class="amzn-native-product-image-container">
                        <div class="amzn-native-concept-image">
                        </div>
                    </div>
                    <div tabindex="-1" class="amzn-native-product-title-container">
                        <a rel="nofollow" tabindex="-1" class="amzn-native-product-title" href="https://aax-us-east.amazon-adsystem.com/x/c/QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us/https://bezkoder.com/spring-boot-jwt-auth-mongodb/#" target="_blank">
                            <span class="amzn-native-product-link-catcher"></span>
                            <span class="amzn-native-product-title-text"></span>
                        </a>
                    </div>
                </div>
            </div><div class="amzn-native-product amzn-native-product-asin-container" data-item-type="ASIN" title="Spring Security - Third Edition: Secure your web applications, RESTful services, and microservice architectures" tabindex="0" style="margin-left: 1.33333%; width: 24%; display: block; height: 224px;">
                                    <div class="amzn-sprite amzn-native-products-feedback-icon" title="Report a problem"></div>

                    <div class="amzn-native-products-feedback-popup" style="display: none;" data-item-number="2">
                        <div class="amzn-native-products-feedback-popup-close">×</div>

                        <div class="amzn-native-products-post-feedback">
                            <div class="amzn-native-products-feedback-title">Thank you!</div>
                            <p>This will help us improve your ad experience. We will try not to show you such ads again.</p>
                        </div>

                        <div class="amzn-native-products-pre-feedback">
                            <div class="amzn-native-products-feedback-title">Report a problem</div>
                            <p class="amzn-native-products-feedback-subtitle">This item is...</p>
                            <div class="amzn-native-products-feedback-form">
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" class="amzn-native-products-feedback-input" value="irrelevant">
                                            Not relevant
                                    </label>
                                </div>
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" class="amzn-native-products-feedback-input" value="offensive">
                                            Inappropriate / Offensive
                                    </label>
                                </div>
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" class="amzn-native-products-feedback-input" value="displayed-poorly">
                                            Displayed poorly
                                    </label>
                                </div>
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" value="other" class="amzn-native-products-feedback-input amzn-native-products-other-feedback">
                                            Other
                                    </label>
                                </div>
                                <p class="amzn-native-products-feedback-comments-label">Add Comments <span>(Max 320 characters)</span></p>
                                <textarea class="amzn-native-products-feedback-comments" placeholder="Tell us more about this" maxlength="320"></textarea>
                                <input class="amzn-native-products-feedback-submit disabled" type="submit" value="Submit">
                            </div>
                        </div>
                    </div>
                
                <div class="amzn-native-product-asin" style="display: block;">
                    <div tabindex="-1" class="amzn-native-product-image-container">
                        <div>
                            <img class="amzn-native-product-image" src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/41ZTT4Mvs7L._AC_SL230_.jpg">
                        </div>
                    </div>
                    <div tabindex="-1" class="amzn-native-product-title-container ">
                        <a rel="nofollow" tabindex="-1" class="amzn-native-product-title" href="https://aax-us-east.amazon-adsystem.com/x/c/QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us/https://www.amazon.com/dp/1787129519/ref=sm_n_au_dka_PK_pr_con_0_2?adId=1787129519&amp;creativeASIN=1787129519&amp;linkId=1f70ba7b52ca5a0c55344500ea9e298d&amp;tag=bezkoder-20&amp;linkCode=w41&amp;ref-refURL=https%3A%2F%2Fbezkoder.com%2Fspring-boot-jwt-auth-mongodb%2F&amp;slotNum=0&amp;imprToken=YNb3eh3KLnK1xEzrtxV98w&amp;adType=smart&amp;adMode=auto&amp;adFormat=grid&amp;impressionTimestamp=1586625466698" target="_blank">
                            <span class="amzn-native-product-link-catcher"></span>
                            <span class="amzn-native-product-title-text">Spring Security - Third Edition: Secure your web applica…</span>
                        </a>
                    </div>
                                            <div tabindex="-1" class="amzn-native-product-attr-container  amzn-native-product-attr-container-full ">
                                                        <div class="amzn-native-product-price">
                                                                                                                                                                <span class="amzn-native-product-offer-price" style="display: inline-block;">$49.99</span><!--
                                                                    --><span class="amzn-native-product-list-price" style="display: none;"></span><!--
                                                                                                    --><span class="amzn-sprite amzn-native-product-prime amzn-native-product-prime-inline-with-price" style="display: inline-block;"></span><!--
                                                                                                -->
                            </div>
                            <div class="amzn-native-product-bs-highlight" style="display: none;">
                                <span class="amzn-native-product-bs-text">Bestseller</span>
                            </div>
                                                            <div class="amzn-native-product-rating  below-price" style="display: block;">
                                    <span class="amzn-native-product-stars-holder amzn-sprite">
                                        <span class="amzn-native-product-stars amzn-sprite" style="width: 74%;"></span>
                                    </span>
                                    <span class="amzn-native-product-review-count">(5)</span>
                                </div>
                                                                                </div>
                                    </div>
                <div class="amzn-native-product-deal">
                    <div tabindex="-1" class="amzn-native-product-image-container">
                        <div>
                            <img class="amzn-native-product-image">
                        </div>
                    </div>

                    <div class="amzn-native-product-price">
                        <span class="amzn-native-product-offer-price"></span>
                        <span class="amzn-native-percent-off"></span>
                    </div>

                    <div tabindex="-1" class="amzn-native-product-title-container">
                        <a rel="nofollow" tabindex="-1" class="amzn-native-product-title" href="https://aax-us-east.amazon-adsystem.com/x/c/QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us/https://bezkoder.com/spring-boot-jwt-auth-mongodb/#" target="_blank">
                            <span class="amzn-native-product-link-catcher"></span>
                            <span class="amzn-native-product-title-text"></span>
                        </a>
                    </div>

                    <div tabindex="-1" class="amzn-native-product-attr-container amzn-native-product-attr-container-full">
                        <div class="amzn-native-product-deal-attr-container">
                            <div class="amzn-native-product-deal-badge">DEAL OF THE DAY</div>
                            <div class="amzn-native-product-deal-badge-skew"></div>

                            <div class="amzn-native-product-deal-timer-container">
                                ENDS IN 
                                <div class="amzn-native-product-deal-timer"></div>
                            </div>
                        </div>

                        <div class="amzn-native-product-rating">
                            <span class="amzn-native-product-stars-holder amzn-sprite">
                                <span class="amzn-native-product-stars amzn-sprite"></span>
                            </span>
                            <span class="amzn-native-product-review-count"></span>
                        </div>
                    </div>
                </div>
                <div class="amzn-native-product-concept">
                    <div tabindex="1" class="amzn-native-product-image-container">
                        <div class="amzn-native-concept-image">
                        </div>
                    </div>
                    <div tabindex="-1" class="amzn-native-product-title-container">
                        <a rel="nofollow" tabindex="-1" class="amzn-native-product-title" href="https://aax-us-east.amazon-adsystem.com/x/c/QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us/https://bezkoder.com/spring-boot-jwt-auth-mongodb/#" target="_blank">
                            <span class="amzn-native-product-link-catcher"></span>
                            <span class="amzn-native-product-title-text"></span>
                        </a>
                    </div>
                </div>
            </div><div class="amzn-native-product amzn-native-product-asin-container" data-item-type="ASIN" title="Spring Data" tabindex="0" style="margin-left: 1.33333%; width: 24%; display: block; height: 224px;">
                                    <div class="amzn-sprite amzn-native-products-feedback-icon" title="Report a problem"></div>

                    <div class="amzn-native-products-feedback-popup" style="display: none;" data-item-number="3">
                        <div class="amzn-native-products-feedback-popup-close">×</div>

                        <div class="amzn-native-products-post-feedback">
                            <div class="amzn-native-products-feedback-title">Thank you!</div>
                            <p>This will help us improve your ad experience. We will try not to show you such ads again.</p>
                        </div>

                        <div class="amzn-native-products-pre-feedback">
                            <div class="amzn-native-products-feedback-title">Report a problem</div>
                            <p class="amzn-native-products-feedback-subtitle">This item is...</p>
                            <div class="amzn-native-products-feedback-form">
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" class="amzn-native-products-feedback-input" value="irrelevant">
                                            Not relevant
                                    </label>
                                </div>
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" class="amzn-native-products-feedback-input" value="offensive">
                                            Inappropriate / Offensive
                                    </label>
                                </div>
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" class="amzn-native-products-feedback-input" value="displayed-poorly">
                                            Displayed poorly
                                    </label>
                                </div>
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" value="other" class="amzn-native-products-feedback-input amzn-native-products-other-feedback">
                                            Other
                                    </label>
                                </div>
                                <p class="amzn-native-products-feedback-comments-label">Add Comments <span>(Max 320 characters)</span></p>
                                <textarea class="amzn-native-products-feedback-comments" placeholder="Tell us more about this" maxlength="320"></textarea>
                                <input class="amzn-native-products-feedback-submit disabled" type="submit" value="Submit">
                            </div>
                        </div>
                    </div>
                
                <div class="amzn-native-product-asin" style="display: block;">
                    <div tabindex="-1" class="amzn-native-product-image-container">
                        <div>
                            <img class="amzn-native-product-image" src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/41h6g9epCdL._AC_SL230_.jpg">
                        </div>
                    </div>
                    <div tabindex="-1" class="amzn-native-product-title-container ">
                        <a rel="nofollow" tabindex="-1" class="amzn-native-product-title" href="https://aax-us-east.amazon-adsystem.com/x/c/QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us/https://www.amazon.com/dp/1449323952/ref=sm_n_au_dka_PK_pr_con_0_3?adId=1449323952&amp;creativeASIN=1449323952&amp;linkId=1f70ba7b52ca5a0c55344500ea9e298d&amp;tag=bezkoder-20&amp;linkCode=w41&amp;ref-refURL=https%3A%2F%2Fbezkoder.com%2Fspring-boot-jwt-auth-mongodb%2F&amp;slotNum=0&amp;imprToken=YNb3eh3KLnK1xEzrtxV98w&amp;adType=smart&amp;adMode=auto&amp;adFormat=grid&amp;impressionTimestamp=1586625466701" target="_blank">
                            <span class="amzn-native-product-link-catcher"></span>
                            <span class="amzn-native-product-title-text">Spring Data</span>
                        </a>
                    </div>
                                            <div tabindex="-1" class="amzn-native-product-attr-container  amzn-native-product-attr-container-full ">
                                                        <div class="amzn-native-product-price">
                                                                                                                                                                <span class="amzn-native-product-offer-price" style="display: inline-block;">$34.70</span><!--
                                                                    --><span class="amzn-native-product-list-price" style="display: inline-block;">$39.99</span><!--
                                                                                                    --><span class="amzn-sprite amzn-native-product-prime amzn-native-product-prime-inline-with-price" style="display: inline-block;"></span><!--
                                                                                                -->
                            </div>
                            <div class="amzn-native-product-bs-highlight" style="display: none;">
                                <span class="amzn-native-product-bs-text">Bestseller</span>
                            </div>
                                                            <div class="amzn-native-product-rating  below-price" style="display: block;">
                                    <span class="amzn-native-product-stars-holder amzn-sprite">
                                        <span class="amzn-native-product-stars amzn-sprite" style="width: 78%;"></span>
                                    </span>
                                    <span class="amzn-native-product-review-count">(11)</span>
                                </div>
                                                                                </div>
                                    </div>
                <div class="amzn-native-product-deal">
                    <div tabindex="-1" class="amzn-native-product-image-container">
                        <div>
                            <img class="amzn-native-product-image">
                        </div>
                    </div>

                    <div class="amzn-native-product-price">
                        <span class="amzn-native-product-offer-price"></span>
                        <span class="amzn-native-percent-off"></span>
                    </div>

                    <div tabindex="-1" class="amzn-native-product-title-container">
                        <a rel="nofollow" tabindex="-1" class="amzn-native-product-title" href="https://aax-us-east.amazon-adsystem.com/x/c/QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us/https://bezkoder.com/spring-boot-jwt-auth-mongodb/#" target="_blank">
                            <span class="amzn-native-product-link-catcher"></span>
                            <span class="amzn-native-product-title-text"></span>
                        </a>
                    </div>

                    <div tabindex="-1" class="amzn-native-product-attr-container amzn-native-product-attr-container-full">
                        <div class="amzn-native-product-deal-attr-container">
                            <div class="amzn-native-product-deal-badge">DEAL OF THE DAY</div>
                            <div class="amzn-native-product-deal-badge-skew"></div>

                            <div class="amzn-native-product-deal-timer-container">
                                ENDS IN 
                                <div class="amzn-native-product-deal-timer"></div>
                            </div>
                        </div>

                        <div class="amzn-native-product-rating">
                            <span class="amzn-native-product-stars-holder amzn-sprite">
                                <span class="amzn-native-product-stars amzn-sprite"></span>
                            </span>
                            <span class="amzn-native-product-review-count"></span>
                        </div>
                    </div>
                </div>
                <div class="amzn-native-product-concept">
                    <div tabindex="1" class="amzn-native-product-image-container">
                        <div class="amzn-native-concept-image">
                        </div>
                    </div>
                    <div tabindex="-1" class="amzn-native-product-title-container">
                        <a rel="nofollow" tabindex="-1" class="amzn-native-product-title" href="https://aax-us-east.amazon-adsystem.com/x/c/QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us/https://bezkoder.com/spring-boot-jwt-auth-mongodb/#" target="_blank">
                            <span class="amzn-native-product-link-catcher"></span>
                            <span class="amzn-native-product-title-text"></span>
                        </a>
                    </div>
                </div>
            </div><div class="amzn-native-product amzn-native-product-asin-container" data-item-type="ASIN" title="Spring Boot In Action" tabindex="0" style="margin-left: 0px; width: 24%; display: block; height: 224px;">
                                    <div class="amzn-sprite amzn-native-products-feedback-icon" title="Report a problem"></div>

                    <div class="amzn-native-products-feedback-popup" style="display: none;" data-item-number="4">
                        <div class="amzn-native-products-feedback-popup-close">×</div>

                        <div class="amzn-native-products-post-feedback">
                            <div class="amzn-native-products-feedback-title">Thank you!</div>
                            <p>This will help us improve your ad experience. We will try not to show you such ads again.</p>
                        </div>

                        <div class="amzn-native-products-pre-feedback">
                            <div class="amzn-native-products-feedback-title">Report a problem</div>
                            <p class="amzn-native-products-feedback-subtitle">This item is...</p>
                            <div class="amzn-native-products-feedback-form">
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" class="amzn-native-products-feedback-input" value="irrelevant">
                                            Not relevant
                                    </label>
                                </div>
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" class="amzn-native-products-feedback-input" value="offensive">
                                            Inappropriate / Offensive
                                    </label>
                                </div>
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" class="amzn-native-products-feedback-input" value="displayed-poorly">
                                            Displayed poorly
                                    </label>
                                </div>
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" value="other" class="amzn-native-products-feedback-input amzn-native-products-other-feedback">
                                            Other
                                    </label>
                                </div>
                                <p class="amzn-native-products-feedback-comments-label">Add Comments <span>(Max 320 characters)</span></p>
                                <textarea class="amzn-native-products-feedback-comments" placeholder="Tell us more about this" maxlength="320"></textarea>
                                <input class="amzn-native-products-feedback-submit disabled" type="submit" value="Submit">
                            </div>
                        </div>
                    </div>
                
                <div class="amzn-native-product-asin" style="display: block;">
                    <div tabindex="-1" class="amzn-native-product-image-container">
                        <div>
                            <img class="amzn-native-product-image" src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/41Mno4eQFkL._AC_SL230_.jpg">
                        </div>
                    </div>
                    <div tabindex="-1" class="amzn-native-product-title-container ">
                        <a rel="nofollow" tabindex="-1" class="amzn-native-product-title" href="https://aax-us-east.amazon-adsystem.com/x/c/QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us/https://www.amazon.com/dp/1617292540/ref=sm_n_au_dka_PK_pr_con_1_0?adId=1617292540&amp;creativeASIN=1617292540&amp;linkId=1f70ba7b52ca5a0c55344500ea9e298d&amp;tag=bezkoder-20&amp;linkCode=w41&amp;ref-refURL=https%3A%2F%2Fbezkoder.com%2Fspring-boot-jwt-auth-mongodb%2F&amp;slotNum=0&amp;imprToken=YNb3eh3KLnK1xEzrtxV98w&amp;adType=smart&amp;adMode=auto&amp;adFormat=grid&amp;impressionTimestamp=1586625466705" target="_blank">
                            <span class="amzn-native-product-link-catcher"></span>
                            <span class="amzn-native-product-title-text">Spring Boot In Action</span>
                        </a>
                    </div>
                                            <div tabindex="-1" class="amzn-native-product-attr-container  amzn-native-product-attr-container-full ">
                                                        <div class="amzn-native-product-price">
                                                                                                                                                                <span class="amzn-native-product-offer-price" style="display: inline-block;">$39.01</span><!--
                                                                    --><span class="amzn-native-product-list-price" style="display: inline-block;">$44.99</span><!--
                                                                                                    --><span class="amzn-sprite amzn-native-product-prime amzn-native-product-prime-inline-with-price" style="display: none;"></span><!--
                                                                                                -->
                            </div>
                            <div class="amzn-native-product-bs-highlight" style="display: none;">
                                <span class="amzn-native-product-bs-text">Bestseller</span>
                            </div>
                                                            <div class="amzn-native-product-rating  below-price" style="display: block;">
                                    <span class="amzn-native-product-stars-holder amzn-sprite">
                                        <span class="amzn-native-product-stars amzn-sprite" style="width: 72%;"></span>
                                    </span>
                                    <span class="amzn-native-product-review-count">(32)</span>
                                </div>
                                                                                </div>
                                    </div>
                <div class="amzn-native-product-deal">
                    <div tabindex="-1" class="amzn-native-product-image-container">
                        <div>
                            <img class="amzn-native-product-image">
                        </div>
                    </div>

                    <div class="amzn-native-product-price">
                        <span class="amzn-native-product-offer-price"></span>
                        <span class="amzn-native-percent-off"></span>
                    </div>

                    <div tabindex="-1" class="amzn-native-product-title-container">
                        <a rel="nofollow" tabindex="-1" class="amzn-native-product-title" href="https://aax-us-east.amazon-adsystem.com/x/c/QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us/https://bezkoder.com/spring-boot-jwt-auth-mongodb/#" target="_blank">
                            <span class="amzn-native-product-link-catcher"></span>
                            <span class="amzn-native-product-title-text"></span>
                        </a>
                    </div>

                    <div tabindex="-1" class="amzn-native-product-attr-container amzn-native-product-attr-container-full">
                        <div class="amzn-native-product-deal-attr-container">
                            <div class="amzn-native-product-deal-badge">DEAL OF THE DAY</div>
                            <div class="amzn-native-product-deal-badge-skew"></div>

                            <div class="amzn-native-product-deal-timer-container">
                                ENDS IN 
                                <div class="amzn-native-product-deal-timer"></div>
                            </div>
                        </div>

                        <div class="amzn-native-product-rating">
                            <span class="amzn-native-product-stars-holder amzn-sprite">
                                <span class="amzn-native-product-stars amzn-sprite"></span>
                            </span>
                            <span class="amzn-native-product-review-count"></span>
                        </div>
                    </div>
                </div>
                <div class="amzn-native-product-concept">
                    <div tabindex="1" class="amzn-native-product-image-container">
                        <div class="amzn-native-concept-image">
                        </div>
                    </div>
                    <div tabindex="-1" class="amzn-native-product-title-container">
                        <a rel="nofollow" tabindex="-1" class="amzn-native-product-title" href="https://aax-us-east.amazon-adsystem.com/x/c/QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us/https://bezkoder.com/spring-boot-jwt-auth-mongodb/#" target="_blank">
                            <span class="amzn-native-product-link-catcher"></span>
                            <span class="amzn-native-product-title-text"></span>
                        </a>
                    </div>
                </div>
            </div><div class="amzn-native-product amzn-native-product-asin-container" data-item-type="ASIN" title="CORS in Action: Creating and consuming cross-origin APIs" tabindex="0" style="margin-left: 1.33333%; width: 24%; display: block; height: 224px;">
                                    <div class="amzn-sprite amzn-native-products-feedback-icon" title="Report a problem"></div>

                    <div class="amzn-native-products-feedback-popup" style="display: none;" data-item-number="5">
                        <div class="amzn-native-products-feedback-popup-close">×</div>

                        <div class="amzn-native-products-post-feedback">
                            <div class="amzn-native-products-feedback-title">Thank you!</div>
                            <p>This will help us improve your ad experience. We will try not to show you such ads again.</p>
                        </div>

                        <div class="amzn-native-products-pre-feedback">
                            <div class="amzn-native-products-feedback-title">Report a problem</div>
                            <p class="amzn-native-products-feedback-subtitle">This item is...</p>
                            <div class="amzn-native-products-feedback-form">
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" class="amzn-native-products-feedback-input" value="irrelevant">
                                            Not relevant
                                    </label>
                                </div>
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" class="amzn-native-products-feedback-input" value="offensive">
                                            Inappropriate / Offensive
                                    </label>
                                </div>
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" class="amzn-native-products-feedback-input" value="displayed-poorly">
                                            Displayed poorly
                                    </label>
                                </div>
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" value="other" class="amzn-native-products-feedback-input amzn-native-products-other-feedback">
                                            Other
                                    </label>
                                </div>
                                <p class="amzn-native-products-feedback-comments-label">Add Comments <span>(Max 320 characters)</span></p>
                                <textarea class="amzn-native-products-feedback-comments" placeholder="Tell us more about this" maxlength="320"></textarea>
                                <input class="amzn-native-products-feedback-submit disabled" type="submit" value="Submit">
                            </div>
                        </div>
                    </div>
                
                <div class="amzn-native-product-asin" style="display: block;">
                    <div tabindex="-1" class="amzn-native-product-image-container">
                        <div>
                            <img class="amzn-native-product-image" src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/517iLEcdqOL._AC_SL230_.jpg">
                        </div>
                    </div>
                    <div tabindex="-1" class="amzn-native-product-title-container ">
                        <a rel="nofollow" tabindex="-1" class="amzn-native-product-title" href="https://aax-us-east.amazon-adsystem.com/x/c/QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us/https://www.amazon.com/dp/161729182X/ref=sm_n_au_dka_PK_pr_con_1_1?adId=161729182X&amp;creativeASIN=161729182X&amp;linkId=1f70ba7b52ca5a0c55344500ea9e298d&amp;tag=bezkoder-20&amp;linkCode=w41&amp;ref-refURL=https%3A%2F%2Fbezkoder.com%2Fspring-boot-jwt-auth-mongodb%2F&amp;slotNum=0&amp;imprToken=YNb3eh3KLnK1xEzrtxV98w&amp;adType=smart&amp;adMode=auto&amp;adFormat=grid&amp;impressionTimestamp=1586625466709" target="_blank">
                            <span class="amzn-native-product-link-catcher"></span>
                            <span class="amzn-native-product-title-text">CORS in Action: Creating and consuming cross-origin APIs</span>
                        </a>
                    </div>
                                            <div tabindex="-1" class="amzn-native-product-attr-container  amzn-native-product-attr-container-full ">
                                                        <div class="amzn-native-product-price">
                                                                                                                                                                <span class="amzn-native-product-offer-price" style="display: inline-block;">$49.99</span><!--
                                                                    --><span class="amzn-native-product-list-price" style="display: none;"></span><!--
                                                                                                    --><span class="amzn-sprite amzn-native-product-prime amzn-native-product-prime-inline-with-price" style="display: inline-block;"></span><!--
                                                                                                -->
                            </div>
                            <div class="amzn-native-product-bs-highlight" style="display: none;">
                                <span class="amzn-native-product-bs-text">Bestseller</span>
                            </div>
                                                            <div class="amzn-native-product-rating  below-price" style="display: block;">
                                    <span class="amzn-native-product-stars-holder amzn-sprite">
                                        <span class="amzn-native-product-stars amzn-sprite" style="width: 76%;"></span>
                                    </span>
                                    <span class="amzn-native-product-review-count">(5)</span>
                                </div>
                                                                                </div>
                                    </div>
                <div class="amzn-native-product-deal">
                    <div tabindex="-1" class="amzn-native-product-image-container">
                        <div>
                            <img class="amzn-native-product-image">
                        </div>
                    </div>

                    <div class="amzn-native-product-price">
                        <span class="amzn-native-product-offer-price"></span>
                        <span class="amzn-native-percent-off"></span>
                    </div>

                    <div tabindex="-1" class="amzn-native-product-title-container">
                        <a rel="nofollow" tabindex="-1" class="amzn-native-product-title" href="https://aax-us-east.amazon-adsystem.com/x/c/QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us/https://bezkoder.com/spring-boot-jwt-auth-mongodb/#" target="_blank">
                            <span class="amzn-native-product-link-catcher"></span>
                            <span class="amzn-native-product-title-text"></span>
                        </a>
                    </div>

                    <div tabindex="-1" class="amzn-native-product-attr-container amzn-native-product-attr-container-full">
                        <div class="amzn-native-product-deal-attr-container">
                            <div class="amzn-native-product-deal-badge">DEAL OF THE DAY</div>
                            <div class="amzn-native-product-deal-badge-skew"></div>

                            <div class="amzn-native-product-deal-timer-container">
                                ENDS IN 
                                <div class="amzn-native-product-deal-timer"></div>
                            </div>
                        </div>

                        <div class="amzn-native-product-rating">
                            <span class="amzn-native-product-stars-holder amzn-sprite">
                                <span class="amzn-native-product-stars amzn-sprite"></span>
                            </span>
                            <span class="amzn-native-product-review-count"></span>
                        </div>
                    </div>
                </div>
                <div class="amzn-native-product-concept">
                    <div tabindex="1" class="amzn-native-product-image-container">
                        <div class="amzn-native-concept-image">
                        </div>
                    </div>
                    <div tabindex="-1" class="amzn-native-product-title-container">
                        <a rel="nofollow" tabindex="-1" class="amzn-native-product-title" href="https://aax-us-east.amazon-adsystem.com/x/c/QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us/https://bezkoder.com/spring-boot-jwt-auth-mongodb/#" target="_blank">
                            <span class="amzn-native-product-link-catcher"></span>
                            <span class="amzn-native-product-title-text"></span>
                        </a>
                    </div>
                </div>
            </div><div class="amzn-native-product amzn-native-product-asin-container" data-item-type="ASIN" title="IntelliJ IDEA Essentials" tabindex="0" style="margin-left: 1.33333%; width: 24%; display: block; height: 224px;">
                                    <div class="amzn-sprite amzn-native-products-feedback-icon" title="Report a problem"></div>

                    <div class="amzn-native-products-feedback-popup" style="display: none;" data-item-number="6">
                        <div class="amzn-native-products-feedback-popup-close">×</div>

                        <div class="amzn-native-products-post-feedback">
                            <div class="amzn-native-products-feedback-title">Thank you!</div>
                            <p>This will help us improve your ad experience. We will try not to show you such ads again.</p>
                        </div>

                        <div class="amzn-native-products-pre-feedback">
                            <div class="amzn-native-products-feedback-title">Report a problem</div>
                            <p class="amzn-native-products-feedback-subtitle">This item is...</p>
                            <div class="amzn-native-products-feedback-form">
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" class="amzn-native-products-feedback-input" value="irrelevant">
                                            Not relevant
                                    </label>
                                </div>
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" class="amzn-native-products-feedback-input" value="offensive">
                                            Inappropriate / Offensive
                                    </label>
                                </div>
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" class="amzn-native-products-feedback-input" value="displayed-poorly">
                                            Displayed poorly
                                    </label>
                                </div>
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" value="other" class="amzn-native-products-feedback-input amzn-native-products-other-feedback">
                                            Other
                                    </label>
                                </div>
                                <p class="amzn-native-products-feedback-comments-label">Add Comments <span>(Max 320 characters)</span></p>
                                <textarea class="amzn-native-products-feedback-comments" placeholder="Tell us more about this" maxlength="320"></textarea>
                                <input class="amzn-native-products-feedback-submit disabled" type="submit" value="Submit">
                            </div>
                        </div>
                    </div>
                
                <div class="amzn-native-product-asin" style="display: block;">
                    <div tabindex="-1" class="amzn-native-product-image-container">
                        <div>
                            <img class="amzn-native-product-image" src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/510Mr4X1rOL._AC_SL230_.jpg">
                        </div>
                    </div>
                    <div tabindex="-1" class="amzn-native-product-title-container ">
                        <a rel="nofollow" tabindex="-1" class="amzn-native-product-title" href="https://aax-us-east.amazon-adsystem.com/x/c/QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us/https://www.amazon.com/dp/1784396931/ref=sm_n_au_dka_PK_pr_con_1_2?adId=1784396931&amp;creativeASIN=1784396931&amp;linkId=1f70ba7b52ca5a0c55344500ea9e298d&amp;tag=bezkoder-20&amp;linkCode=w41&amp;ref-refURL=https%3A%2F%2Fbezkoder.com%2Fspring-boot-jwt-auth-mongodb%2F&amp;slotNum=0&amp;imprToken=YNb3eh3KLnK1xEzrtxV98w&amp;adType=smart&amp;adMode=auto&amp;adFormat=grid&amp;impressionTimestamp=1586625466713" target="_blank">
                            <span class="amzn-native-product-link-catcher"></span>
                            <span class="amzn-native-product-title-text">IntelliJ IDEA Essentials</span>
                        </a>
                    </div>
                                            <div tabindex="-1" class="amzn-native-product-attr-container  amzn-native-product-attr-container-full ">
                                                        <div class="amzn-native-product-price">
                                                                                                                                                                <span class="amzn-native-product-offer-price" style="display: inline-block;">$34.99</span><!--
                                                                    --><span class="amzn-native-product-list-price" style="display: none;"></span><!--
                                                                                                    --><span class="amzn-sprite amzn-native-product-prime amzn-native-product-prime-inline-with-price" style="display: inline-block;"></span><!--
                                                                                                -->
                            </div>
                            <div class="amzn-native-product-bs-highlight" style="display: none;">
                                <span class="amzn-native-product-bs-text">Bestseller</span>
                            </div>
                                                            <div class="amzn-native-product-rating  below-price" style="display: block;">
                                    <span class="amzn-native-product-stars-holder amzn-sprite">
                                        <span class="amzn-native-product-stars amzn-sprite" style="width: 76%;"></span>
                                    </span>
                                    <span class="amzn-native-product-review-count">(6)</span>
                                </div>
                                                                                </div>
                                    </div>
                <div class="amzn-native-product-deal">
                    <div tabindex="-1" class="amzn-native-product-image-container">
                        <div>
                            <img class="amzn-native-product-image">
                        </div>
                    </div>

                    <div class="amzn-native-product-price">
                        <span class="amzn-native-product-offer-price"></span>
                        <span class="amzn-native-percent-off"></span>
                    </div>

                    <div tabindex="-1" class="amzn-native-product-title-container">
                        <a rel="nofollow" tabindex="-1" class="amzn-native-product-title" href="https://aax-us-east.amazon-adsystem.com/x/c/QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us/https://bezkoder.com/spring-boot-jwt-auth-mongodb/#" target="_blank">
                            <span class="amzn-native-product-link-catcher"></span>
                            <span class="amzn-native-product-title-text"></span>
                        </a>
                    </div>

                    <div tabindex="-1" class="amzn-native-product-attr-container amzn-native-product-attr-container-full">
                        <div class="amzn-native-product-deal-attr-container">
                            <div class="amzn-native-product-deal-badge">DEAL OF THE DAY</div>
                            <div class="amzn-native-product-deal-badge-skew"></div>

                            <div class="amzn-native-product-deal-timer-container">
                                ENDS IN 
                                <div class="amzn-native-product-deal-timer"></div>
                            </div>
                        </div>

                        <div class="amzn-native-product-rating">
                            <span class="amzn-native-product-stars-holder amzn-sprite">
                                <span class="amzn-native-product-stars amzn-sprite"></span>
                            </span>
                            <span class="amzn-native-product-review-count"></span>
                        </div>
                    </div>
                </div>
                <div class="amzn-native-product-concept">
                    <div tabindex="1" class="amzn-native-product-image-container">
                        <div class="amzn-native-concept-image">
                        </div>
                    </div>
                    <div tabindex="-1" class="amzn-native-product-title-container">
                        <a rel="nofollow" tabindex="-1" class="amzn-native-product-title" href="https://aax-us-east.amazon-adsystem.com/x/c/QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us/https://bezkoder.com/spring-boot-jwt-auth-mongodb/#" target="_blank">
                            <span class="amzn-native-product-link-catcher"></span>
                            <span class="amzn-native-product-title-text"></span>
                        </a>
                    </div>
                </div>
            </div><div class="amzn-native-product amzn-native-product-asin-container" data-item-type="ASIN" title="MongoDB: The Definitive Guide: Powerful and Scalable Data Storage" tabindex="0" style="margin-left: 1.33333%; width: 24%; display: block; height: 224px;">
                                    <div class="amzn-sprite amzn-native-products-feedback-icon" title="Report a problem"></div>

                    <div class="amzn-native-products-feedback-popup" style="display: none;" data-item-number="7">
                        <div class="amzn-native-products-feedback-popup-close">×</div>

                        <div class="amzn-native-products-post-feedback">
                            <div class="amzn-native-products-feedback-title">Thank you!</div>
                            <p>This will help us improve your ad experience. We will try not to show you such ads again.</p>
                        </div>

                        <div class="amzn-native-products-pre-feedback">
                            <div class="amzn-native-products-feedback-title">Report a problem</div>
                            <p class="amzn-native-products-feedback-subtitle">This item is...</p>
                            <div class="amzn-native-products-feedback-form">
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" class="amzn-native-products-feedback-input" value="irrelevant">
                                            Not relevant
                                    </label>
                                </div>
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" class="amzn-native-products-feedback-input" value="offensive">
                                            Inappropriate / Offensive
                                    </label>
                                </div>
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" class="amzn-native-products-feedback-input" value="displayed-poorly">
                                            Displayed poorly
                                    </label>
                                </div>
                                <div>
                                    <label>
                                        <input type="radio" name="feedback" value="other" class="amzn-native-products-feedback-input amzn-native-products-other-feedback">
                                            Other
                                    </label>
                                </div>
                                <p class="amzn-native-products-feedback-comments-label">Add Comments <span>(Max 320 characters)</span></p>
                                <textarea class="amzn-native-products-feedback-comments" placeholder="Tell us more about this" maxlength="320"></textarea>
                                <input class="amzn-native-products-feedback-submit disabled" type="submit" value="Submit">
                            </div>
                        </div>
                    </div>
                
                <div class="amzn-native-product-asin" style="display: block;">
                    <div tabindex="-1" class="amzn-native-product-image-container">
                        <div>
                            <img class="amzn-native-product-image" src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/51n4OPvZiWL._AC_SL230_.jpg">
                        </div>
                    </div>
                    <div tabindex="-1" class="amzn-native-product-title-container ">
                        <a rel="nofollow" tabindex="-1" class="amzn-native-product-title" href="https://aax-us-east.amazon-adsystem.com/x/c/QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us/https://www.amazon.com/dp/1491954469/ref=sm_n_au_dka_PK_pr_con_1_3?adId=1491954469&amp;creativeASIN=1491954469&amp;linkId=1f70ba7b52ca5a0c55344500ea9e298d&amp;tag=bezkoder-20&amp;linkCode=w41&amp;ref-refURL=https%3A%2F%2Fbezkoder.com%2Fspring-boot-jwt-auth-mongodb%2F&amp;slotNum=0&amp;imprToken=YNb3eh3KLnK1xEzrtxV98w&amp;adType=smart&amp;adMode=auto&amp;adFormat=grid&amp;impressionTimestamp=1586625466716" target="_blank">
                            <span class="amzn-native-product-link-catcher"></span>
                            <span class="amzn-native-product-title-text">MongoDB: The Definitive Guide: Powerful and Scalab…</span>
                        </a>
                    </div>
                                            <div tabindex="-1" class="amzn-native-product-attr-container  amzn-native-product-attr-container-full ">
                                                        <div class="amzn-native-product-price">
                                                                                                                                                                <span class="amzn-native-product-offer-price" style="display: inline-block;">$33.49</span><!--
                                                                    --><span class="amzn-native-product-list-price" style="display: inline-block;">$59.99</span><!--
                                                                                                    --><span class="amzn-sprite amzn-native-product-prime amzn-native-product-prime-inline-with-price" style="display: inline-block;"></span><!--
                                                                                                -->
                            </div>
                            <div class="amzn-native-product-bs-highlight" style="display: none;">
                                <span class="amzn-native-product-bs-text">Bestseller</span>
                            </div>
                                                            <div class="amzn-native-product-rating  below-price" style="display: block;">
                                    <span class="amzn-native-product-stars-holder amzn-sprite">
                                        <span class="amzn-native-product-stars amzn-sprite" style="width: 90%;"></span>
                                    </span>
                                    <span class="amzn-native-product-review-count">(12)</span>
                                </div>
                                                                                </div>
                                    </div>
                <div class="amzn-native-product-deal">
                    <div tabindex="-1" class="amzn-native-product-image-container">
                        <div>
                            <img class="amzn-native-product-image">
                        </div>
                    </div>

                    <div class="amzn-native-product-price">
                        <span class="amzn-native-product-offer-price"></span>
                        <span class="amzn-native-percent-off"></span>
                    </div>

                    <div tabindex="-1" class="amzn-native-product-title-container">
                        <a rel="nofollow" tabindex="-1" class="amzn-native-product-title" href="https://aax-us-east.amazon-adsystem.com/x/c/QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us/https://bezkoder.com/spring-boot-jwt-auth-mongodb/#" target="_blank">
                            <span class="amzn-native-product-link-catcher"></span>
                            <span class="amzn-native-product-title-text"></span>
                        </a>
                    </div>

                    <div tabindex="-1" class="amzn-native-product-attr-container amzn-native-product-attr-container-full">
                        <div class="amzn-native-product-deal-attr-container">
                            <div class="amzn-native-product-deal-badge">DEAL OF THE DAY</div>
                            <div class="amzn-native-product-deal-badge-skew"></div>

                            <div class="amzn-native-product-deal-timer-container">
                                ENDS IN 
                                <div class="amzn-native-product-deal-timer"></div>
                            </div>
                        </div>

                        <div class="amzn-native-product-rating">
                            <span class="amzn-native-product-stars-holder amzn-sprite">
                                <span class="amzn-native-product-stars amzn-sprite"></span>
                            </span>
                            <span class="amzn-native-product-review-count"></span>
                        </div>
                    </div>
                </div>
                <div class="amzn-native-product-concept">
                    <div tabindex="1" class="amzn-native-product-image-container">
                        <div class="amzn-native-concept-image">
                        </div>
                    </div>
                    <div tabindex="-1" class="amzn-native-product-title-container">
                        <a rel="nofollow" tabindex="-1" class="amzn-native-product-title" href="https://aax-us-east.amazon-adsystem.com/x/c/QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us/https://bezkoder.com/spring-boot-jwt-auth-mongodb/#" target="_blank">
                            <span class="amzn-native-product-link-catcher"></span>
                            <span class="amzn-native-product-title-text"></span>
                        </a>
                    </div>
                </div>
            </div></div>
        <div class="amzn-sprite amzn-native-carousel-rightarrow"></div>
    </div>

        <div class="amzn-native-brand amzn-native-brand-bottom">
    <span class="amzn-native-brand-content">
    <span class="amzn-native-brand-text">
                    <a rel="nofollow" href="https://aax-us-east.amazon-adsystem.com/x/c/QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us/https://affiliate-program.amazon.com/home/ads/ref=sm_n_au_dka_PK_logo?adId=logo&amp;creativeASIN=logo&amp;linkId=1f70ba7b52ca5a0c55344500ea9e298d&amp;tag=bezkoder-20&amp;linkCode=w41&amp;ref-refURL=https%3A%2F%2Fbezkoder.com%2Fspring-boot-jwt-auth-mongodb%2F&amp;slotNum=0&amp;imprToken=YNb3eh3KLnK1xEzrtxV98w&amp;adType=smart&amp;adMode=auto&amp;adFormat=grid&amp;impressionTimestamp=1586625466735&amp;ac-ms-src=nsa-ads&amp;cid=nsa-ads" target="_blank" class="amzn-native-brand-link amzn-native-brand-logo-link">
                Ads by Amazon
            </a>
                <a rel="nofollow" class="amzn-native-adchoices-link" href="https://aax-us-east.amazon-adsystem.com/x/c/QtsL_w0_uq43lWT5sMCgo54AAAFxaj9OeAEAAAE0AYs21us/https://www.amazon.com/adprefs/ref=sm_n_au_dka_PK_ac?tag=bezkoder-20&amp;linkCode=w41" target="_blank" title="AdChoices">
            <span class="amzn-sprite amzn-native-da-adchoices"></span>
        </a>
    </span>
    </span>
    </div>
</div>

<style type="text/css">
div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-icon{display:none;position:absolute;z-index:3;right:8px;top:8px;left:auto;background-size:265px 75px;background-position:-66px -62px;width:11px;height:12px;cursor:pointer}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-icon::before{position:absolute;content:"";left:-10px;right:-10px;top:-10px;bottom:-10px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-icon:hover{background-position:-82px -62px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-product-asin.amzn-native-product-feedback-active .amzn-native-product-title-container a{color:#0066c0}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup{position:absolute;display:none;top:-20px;z-index:4;background:#fff;cursor:default;line-height:15px;padding:12px;width:280px;min-height:300px;border:1px solid #ccc;border-radius:4px;-webkit-box-shadow:.5px 1px 5px 1px #999;-moz-box-shadow:.5px 1px 5px 1px #999;box-shadow:.5px 1px 5px 1px #999;border-collapse:separate}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup .amzn-native-products-post-feedback{display:none}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup p{line-height:15px !important}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup .amzn-native-products-feedback-popup-close{position:absolute;top:12px;right:12px;left:auto;color:#999;width:12px;height:12px;font-size:21px;cursor:pointer}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup .amzn-native-products-feedback-popup-close:hover{color:#666}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup .amzn-native-products-feedback-popup-close::before{position:absolute;content:"";left:-10px;right:-10px;top:-10px;bottom:-10px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup .amzn-native-products-feedback-title{font-size:15px;font-weight:bold;margin-bottom:10px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup .amzn-native-products-feedback-subtitle{font-size:13px !important;font-weight:bold !important;font-family:Arial !important;margin-bottom:5px;line-height:normal !important;color:#111 !important}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup .amzn-native-products-feedback-form input[type="radio"]{margin-right:4px;cursor:pointer;width:auto;-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup .amzn-native-products-feedback-form input[type="radio"]:checked:after{display:none}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup .amzn-native-products-feedback-form div{margin:6px 0}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup .amzn-native-products-feedback-form div label{font-size:13px;cursor:pointer;font-weight:normal;line-height:15px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup .amzn-native-products-feedback-form .amzn-native-products-feedback-comments-label{font-size:11px !important;font-weight:bold !important;margin-top:16px;line-height:normal !important;color:#111 !important}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup .amzn-native-products-feedback-form .amzn-native-products-feedback-comments-label span{font-weight:normal;font-style:italic;color:#888}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup .amzn-native-products-feedback-form .amzn-native-products-feedback-comments{width:100%;border:1px solid #bbb;font-family:"Arial";border-radius:4px;margin:7px 0 4px;padding:2px 5px;font-size:12px;resize:none;min-height:80px;height:80px;-webkit-user-select:text;-moz-user-select:text;-khtml-user-select:text;-ms-user-select:text}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup .amzn-native-products-feedback-form .amzn-native-products-feedback-submit{width:auto;min-width:auto;background:#f3d078;background:-webkit-linear-gradient(top,#f7dfa5,#f0c14b);background:linear-gradient(to bottom,#f7dfa5,#f0c14b);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#f7dfa5",endColorstr="#f0c14b",GradientType=0);border-radius:2px;cursor:pointer;padding:0 10px 0 11px;font-size:12px;line-height:27px;border:1px solid #a88734;float:right;color:#000}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup .amzn-native-products-feedback-form .amzn-native-products-feedback-submit.disabled{background:#f9f3e5;border:1px solid #e8e0cd;color:#999;cursor:default}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup .amzn-native-products-feedback-form .amzn-native-products-feedback-submit.disabled.loading{cursor:progress}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup .amzn-native-products-feedback-form .amzn-native-products-feedback-submit.disabled:hover{background:#f9f3e5;border:1px solid #e8e0cd;color:#999}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup .amzn-native-products-feedback-form .amzn-native-products-feedback-submit:hover{background:#f1c860;background:-webkit-linear-gradient(top,#f5d78e,#eeb933);background:linear-gradient(to bottom,#f5d78e,#eeb933);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#f5d78e",endColorstr="#eeb933",GradientType=0)}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup .amzn-native-products-feedback-form .amzn-native-products-feedback-submit:focus{outline:0}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup.amzn-native-feedback-popup-right{right:auto;left:103%}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup.amzn-native-feedback-popup-right::after{left:-19px;border-left:10px solid transparent;border-top:10px solid transparent;border-bottom:10px solid transparent}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup.amzn-native-feedback-popup-right::before{left:-26px;border-left:13px solid transparent;border-top:13px solid transparent;border-bottom:13px solid transparent}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup.amzn-native-feedback-popup-left{right:30px;left:auto}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup.amzn-native-feedback-popup-left::after{right:-19px;border-right:10px solid transparent;border-top:10px solid transparent;border-bottom:10px solid transparent}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup.amzn-native-feedback-popup-left::before{right:-26px;border-right:13px solid transparent;border-top:13px solid transparent;border-bottom:13px solid transparent}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup.post-submit{height:110px;min-height:110px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup.post-submit .amzn-native-products-post-feedback{display:block}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup.post-submit .amzn-native-products-pre-feedback{display:none}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup.post-submit p{font-size:13px !important}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup.compact-form{width:220px;padding:10px;min-height:258px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup.compact-form .amzn-native-products-feedback-title{font-size:13px;margin-bottom:6px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup.compact-form .amzn-native-products-feedback-subtitle{font-size:11px !important;margin-bottom:0}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup.compact-form .amzn-native-products-feedback-form div{margin:4px 0}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup.compact-form .amzn-native-products-feedback-form div label{font-size:12px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup.compact-form .amzn-native-products-feedback-form .amzn-native-products-feedback-comments-label{font-size:10px !important;margin-top:6px;margin-bottom:4px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup.compact-form .amzn-native-products-feedback-form .amzn-native-products-feedback-comments{margin-top:0;min-height:60px;height:60px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup.compact-form .amzn-native-products-feedback-form .amzn-native-products-feedback-submit{font-size:11px;line-height:25px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup.compact-form.post-submit{height:110px;min-height:110px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup::after{position:absolute;content:"";width:0;height:0;border:10px solid #fff;top:23px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup::before{position:absolute;content:"";width:0;height:0;border:13px solid #ccc;top:20px}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product:hover .amzn-native-products-feedback-icon{display:block}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product.amzn-native-product-feedback-hover .amzn-native-products-feedback-icon,div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product.amzn-native-product-feedback-active .amzn-native-products-feedback-icon{background-position:-82px -62px;display:block}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product.amzn-native-product-feedback-active .amzn-native-product-title-container a{color:#0066c0}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product-concept-container:hover .amzn-native-products-feedback-icon{display:none}div#amzn-native-ad-0 div.amzn-native-products-list .amzn-native-product-feedback-hover span.amzn-native-product-link-catcher,div#amzn-native-ad-0 div.amzn-native-products-list .amzn-native-product-feedback-active span.amzn-native-product-link-catcher{background:#ddd;opacity:.3}div#amzn-native-ad-0 div.amzn-native-products-list .amzn-native-product-removed{opacity:.2}div#amzn-native-ad-0 div.amzn-native-products-list div.amzn-native-product.amzn-native-product-removed:hover .amzn-native-products-feedback-icon,div#amzn-native-ad-0 div.amzn-native-products-list.hide-feedback div.amzn-native-product:hover .amzn-native-products-feedback-icon{display:none}div#amzn-native-ad-0.amzn-native-carousel div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup{top:1px}div#amzn-native-ad-0.amzn-native-carousel div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup .amzn-native-products-feedback-popup-close{top:8px;right:8px}div#amzn-native-ad-0.amzn-native-carousel div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup.post-submit{white-space:normal}div#amzn-native-ad-0.amzn-native-carousel div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup.compact-form{width:200px;padding:8px;min-height:220px}div#amzn-native-ad-0.amzn-native-carousel div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup.compact-form .amzn-native-products-feedback-form div label{font-size:11px;line-height:14px}div#amzn-native-ad-0.amzn-native-carousel div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup.compact-form .amzn-native-products-feedback-form .amzn-native-products-feedback-comments{margin-top:0;min-height:40px;height:40px;font-size:11px;margin-bottom:2px}div#amzn-native-ad-0.amzn-native-carousel div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup.compact-form .amzn-native-products-feedback-form .amzn-native-products-feedback-submit{font-size:10px;line-height:24px}div#amzn-native-ad-0.amzn-native-carousel div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup.amzn-native-feedback-popup-right::after{left:-14px;border-left:7px solid transparent;border-top:7px solid transparent;border-bottom:7px solid transparent}div#amzn-native-ad-0.amzn-native-carousel div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup.amzn-native-feedback-popup-right::before{left:-20px;border-left:9px solid transparent;border-top:9px solid transparent;border-bottom:9px solid transparent}div#amzn-native-ad-0.amzn-native-carousel div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup.amzn-native-feedback-popup-left::after{right:-14px;border-right:7px solid transparent;border-top:7px solid transparent;border-bottom:7px solid transparent}div#amzn-native-ad-0.amzn-native-carousel div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup.amzn-native-feedback-popup-left::before{right:-20px;border-right:9px solid transparent;border-top:9px solid transparent;border-bottom:9px solid transparent}div#amzn-native-ad-0.amzn-native-carousel div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup::after{border:7px solid #fff;top:6px}div#amzn-native-ad-0.amzn-native-carousel div.amzn-native-products-list div.amzn-native-product .amzn-native-products-feedback-popup::before{border:9px solid #ccc;top:4px}
</style>
</div><script async="" src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/onejs"></script> </div><h2 class="comments-title"> 6 thoughts to “Spring Boot, MongoDB: JWT Authentication with Spring Security”</h2><ol class="comment-list"><li id="comment-514" class="comment even thread-even depth-1 parent"><article id="div-comment-514" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/e05e141340cbfc0c40e4773a14ed544c.png" srcset="https://secure.gravatar.com/avatar/e05e141340cbfc0c40e4773a14ed544c?s=120&amp;d=mm&amp;r=g 2x" class="avatar avatar-60 photo" height="60" width="60"> <b class="fn">hema</b> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#comment-514"> <time datetime="2020-03-13T07:56:44+00:00"> March 13, 2020 at 7:56 am </time> </a></div></footer><div class="comment-content"><p>hi,<br> i have a doubt in these part…</p><pre class=" language-java"><code class=" language-java"><span class="token keyword">if</span> <span class="token punctuation">(</span>strRoles <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">Role</span> userRole <span class="token operator">=</span> roleRepository<span class="token punctuation">.</span><span class="token function">findByName</span><span class="token punctuation">(</span><span class="token class-name">ERole</span><span class="token punctuation">.</span>ROLE_USER<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">orElseThrow</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"Error: Role is not found."</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  roles<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>userRole<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  strRoles<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>role <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>role<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">"admin"</span><span class="token operator">:</span>
      <span class="token class-name">Role</span> adminRole <span class="token operator">=</span> roleRepository<span class="token punctuation">.</span><span class="token function">findByName</span><span class="token punctuation">(</span><span class="token class-name">ERole</span><span class="token punctuation">.</span>ROLE_ADMIN<span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">orElseThrow</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"Error: Role is not found."</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      roles<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>adminRole<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">"mod"</span><span class="token operator">:</span>
      <span class="token class-name">Role</span> modRole <span class="token operator">=</span> roleRepository<span class="token punctuation">.</span><span class="token function">findByName</span><span class="token punctuation">(</span><span class="token class-name">ERole</span><span class="token punctuation">.</span>ROLE_MODERATOR<span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">orElseThrow</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"Error: Role is not found."</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      roles<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>modRole<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token class-name">Role</span> userRole <span class="token operator">=</span> roleRepository<span class="token punctuation">.</span><span class="token function">findByName</span><span class="token punctuation">(</span><span class="token class-name">ERole</span><span class="token punctuation">.</span>ROLE_USER<span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">orElseThrow</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"Error: Role is not found."</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      roles<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>userRole<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>when if part executes.i checked in postman if am giving null the role user is not saved .can u pls explain these briefly</p></div><div class="reply"><a rel="nofollow" class="comment-reply-link btn btn-sm btn-default" href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#comment-514" data-commentid="514" data-postid="2363" data-belowelement="div-comment-514" data-respondelement="respond" aria-label="Reply to hema" style="">Reply</a></div></article><ol class="children"><li id="comment-524" class="comment byuser comment-author-bezkoder bypostauthor odd alt depth-2"><article id="div-comment-524" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/40150b9299e69015bc46c30598a81888.png" srcset="https://secure.gravatar.com/avatar/40150b9299e69015bc46c30598a81888?s=120&amp;d=mm&amp;r=g 2x" class="avatar avatar-60 photo" height="60" width="60"> <b class="fn">bezkoder</b> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#comment-524"> <time datetime="2020-03-14T03:41:24+00:00"> March 14, 2020 at 3:41 am </time> </a></div></footer><div class="comment-content"><p>Hi, I think you forgot to run following MongoDB insert statements:</p><pre><code>db.roles.insertMany([
   { name: "ROLE_USER" },
   { name: "ROLE_MODERATOR" },
   { name: "ROLE_ADMIN" },
])
</code></pre></div><div class="reply"><a rel="nofollow" class="comment-reply-link btn btn-sm btn-default" href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#comment-524" data-commentid="524" data-postid="2363" data-belowelement="div-comment-524" data-respondelement="respond" aria-label="Reply to bezkoder" style="">Reply</a></div></article></li></ol></li><li id="comment-543" class="comment even thread-odd thread-alt depth-1 parent"><article id="div-comment-543" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/4ff5d9b30c6fcda274e83871a90ebdd0.png" srcset="https://secure.gravatar.com/avatar/4ff5d9b30c6fcda274e83871a90ebdd0?s=120&amp;d=mm&amp;r=g 2x" class="avatar avatar-60 photo" height="60" width="60"> <b class="fn">Keerthi</b> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#comment-543"> <time datetime="2020-03-16T10:56:22+00:00"> March 16, 2020 at 10:56 am </time> </a></div></footer><div class="comment-content"><p>I have a doubt in reactjs that how we can register with roles.I tried by using dropdown select option but im not getting the exact output.can you give some idea for login ,logout, registration with roles using JWT</p></div><div class="reply"><a rel="nofollow" class="comment-reply-link btn btn-sm btn-default" href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#comment-543" data-commentid="543" data-postid="2363" data-belowelement="div-comment-543" data-respondelement="respond" aria-label="Reply to Keerthi" style="">Reply</a></div></article><ol class="children"><li id="comment-550" class="comment byuser comment-author-bezkoder bypostauthor odd alt depth-2"><article id="div-comment-550" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/40150b9299e69015bc46c30598a81888.png" srcset="https://secure.gravatar.com/avatar/40150b9299e69015bc46c30598a81888?s=120&amp;d=mm&amp;r=g 2x" class="avatar avatar-60 photo" height="60" width="60"> <b class="fn">bezkoder</b> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#comment-550"> <time datetime="2020-03-17T02:19:25+00:00"> March 17, 2020 at 2:19 am </time> </a></div></footer><div class="comment-content"><p>Hi, I’ll write a tutorial for React fron-tend using JWT for Auth when having time. You can refer following tutorial:<br> <a href="https://bezkoder.com/jwt-vue-vuex-authentication/">Vue.js JWT Authentication with Vuex and Vue Router</a></p></div><div class="reply"><a rel="nofollow" class="comment-reply-link btn btn-sm btn-default" href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#comment-550" data-commentid="550" data-postid="2363" data-belowelement="div-comment-550" data-respondelement="respond" aria-label="Reply to bezkoder" style="">Reply</a></div></article></li></ol></li><li id="comment-623" class="comment even thread-even depth-1"><article id="div-comment-623" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/2511c9db3ed7883193a9077a435f9f92.png" srcset="https://secure.gravatar.com/avatar/2511c9db3ed7883193a9077a435f9f92?s=120&amp;d=mm&amp;r=g 2x" class="avatar avatar-60 photo" height="60" width="60"> <b class="fn">Pranava</b> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#comment-623"> <time datetime="2020-03-24T18:51:17+00:00"> March 24, 2020 at 6:51 pm </time> </a></div></footer><div class="comment-content"><p>Thank you for this tutorial. Very well explained.</p></div><div class="reply"><a rel="nofollow" class="comment-reply-link btn btn-sm btn-default" href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#comment-623" data-commentid="623" data-postid="2363" data-belowelement="div-comment-623" data-respondelement="respond" aria-label="Reply to Pranava" style="">Reply</a></div></article></li><li id="comment-816" class="comment odd alt thread-odd thread-alt depth-1"><article id="div-comment-816" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img alt="" src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/c978a017218e4121781f73bc8f15a146.png" srcset="https://secure.gravatar.com/avatar/c978a017218e4121781f73bc8f15a146?s=120&amp;d=mm&amp;r=g 2x" class="avatar avatar-60 photo" height="60" width="60"> <b class="fn">Robert</b> <span class="says">says:</span></div><div class="comment-metadata"> <a href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#comment-816"> <time datetime="2020-04-10T15:55:57+00:00"> April 10, 2020 at 3:55 pm </time> </a></div></footer><div class="comment-content"><p>Thank you for this tutorial. It is well written and very useful.</p></div><div class="reply"><a rel="nofollow" class="comment-reply-link btn btn-sm btn-default" href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#comment-816" data-commentid="816" data-postid="2363" data-belowelement="div-comment-816" data-respondelement="respond" aria-label="Reply to Robert" style="">Reply</a></div></article></li></ol><div id="respond" class="comment-respond"><h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://bezkoder.com/spring-boot-jwt-auth-mongodb/#respond" style="display:none;">Cancel reply</a></small></h3><form action="https://bezkoder.com/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate=""><p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p><p class="comment-form-comment"><label for="comment">Comment</label><textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required"></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" required="required"></p><p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" required="required"></p><p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200"></p><p class="comment-form-cookies-consent"><input id="wp-comment-cookies-consent" name="wp-comment-cookies-consent" type="checkbox" value="yes"> <label for="wp-comment-cookies-consent">Save my name, email, and website in this browser for the next time I comment.</label></p><p class="form-submit"><input name="submit" type="submit" id="submit" class="submit btn btn-default" value="Post Comment" style=""> <input type="hidden" name="comment_post_ID" value="2363" id="comment_post_ID"> <input type="hidden" name="comment_parent" id="comment_parent" value="0"></p></form></div></div><nav class="navigation post-navigation" role="navigation" aria-label="Posts"><h2 class="screen-reader-text">Post navigation</h2><div class="nav-links"><div class="nav-previous"><a href="https://bezkoder.com/kotlin-sort-list/" rel="prev"><i class="fa fa-chevron-left"></i> <span class="post-title">Kotlin List sort, sorted, sortBy, sortedBy, sortWith, sortedWith example</span></a></div><div class="nav-next"><a href="https://bezkoder.com/spring-boot-graphql-mysql-jpa/" rel="next"><span class="post-title">Spring Boot + GraphQL + MySQL example with Spring JPA &amp; graphql-spring-boot-starter <i class="fa fa-chevron-right"></i></span></a></div></div></nav></main></div></div><div id="secondary" class="widget-area col-sm-12 col-md-4" role="complementary"><div class="well q2w3-fixed-widget-container" style="height: 954px;"><aside id="search-4" class="widget widget_search"><form role="search" method="get" class="form-search" action="https://bezkoder.com/"><div class="input-group"> <label class="screen-reader-text" for="s">Search for:</label> <input type="text" class="form-control search-query" placeholder="Search…" value="" name="s" title="Search for:"> <span class="input-group-btn"> <button type="submit" class="btn btn-default" name="submit" id="searchsubmit" value="Search" style=""><span class="glyphicon glyphicon-search"></span></button> </span></div></form></aside><aside id="custom_html-2" class="widget_text widget widget_custom_html"><div class="textwidget custom-html-widget"><div class="aicp"> <script async="" src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/f.txt"></script>  <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9222145312954144" data-ad-slot="2898318826" data-ad-format="auto" data-full-width-responsive="true"></ins> <script>(adsbygoogle = window.adsbygoogle || []).push({});</script> </div></div></aside><aside id="custom_html-3" class="widget_text widget widget_custom_html"><div class="textwidget custom-html-widget"><div class="aicp"> <script async="" src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/f.txt"></script>  <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9222145312954144" data-ad-slot="2454970851" data-ad-format="auto" data-full-width-responsive="true"></ins> <script>(adsbygoogle = window.adsbygoogle || []).push({});</script> </div></div></aside><aside id="custom_html-5" class="widget_text widget widget_custom_html"><div class="textwidget custom-html-widget"><iframe src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/cm.html" width="300" height="250" scrolling="no" border="0" marginwidth="0" style="border: none; display: none !important;" frameborder="0"></iframe></div></aside><aside id="categories-2" class="widget widget_categories"><h3 class="widget-title">Categories</h3><ul><li class="cat-item cat-item-112"><a href="https://bezkoder.com/category/android/">Android</a></li><li class="cat-item cat-item-103"><a href="https://bezkoder.com/category/angular/">Angular</a></li><li class="cat-item cat-item-13"><a href="https://bezkoder.com/category/dart/">Dart</a></li><li class="cat-item cat-item-147"><a href="https://bezkoder.com/category/deployment/">Deployment</a></li><li class="cat-item cat-item-140"><a href="https://bezkoder.com/category/django/">Django</a></li><li class="cat-item cat-item-50"><a href="https://bezkoder.com/category/flutter/">Flutter</a></li><li class="cat-item cat-item-49"><a href="https://bezkoder.com/category/full-stack/">Full Stack</a></li><li class="cat-item cat-item-71"><a href="https://bezkoder.com/category/graphql/">GraphQL</a></li><li class="cat-item cat-item-90"><a href="https://bezkoder.com/category/java/">Java</a></li><li class="cat-item cat-item-61"><a href="https://bezkoder.com/category/kotlin/">Kotlin</a></li><li class="cat-item cat-item-55"><a href="https://bezkoder.com/category/mongodb/">MongoDB</a></li><li class="cat-item cat-item-27"><a href="https://bezkoder.com/category/node-js/" title="Node.js Tutorials for developers: Full stack web app, integrating with Vue, Angular, React front-end, way to deploy Node.js app to hosts.">Node.js</a></li><li class="cat-item cat-item-141"><a href="https://bezkoder.com/category/python/">Python</a></li><li class="cat-item cat-item-134"><a href="https://bezkoder.com/category/react/">React</a></li><li class="cat-item cat-item-45"><a href="https://bezkoder.com/category/security/">Security</a></li><li class="cat-item cat-item-48"><a href="https://bezkoder.com/category/spring/">Spring</a></li><li class="cat-item cat-item-22"><a href="https://bezkoder.com/category/vue/">Vue.js</a></li></ul></aside><aside id="custom_html-7" class="widget_text widget widget_custom_html"><div class="textwidget custom-html-widget"><iframe src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/cm(1).html" width="300" height="250" scrolling="no" border="0" marginwidth="0" style="border: none; display: none !important;" frameborder="0"></iframe></div></aside><aside id="custom_html-4" class="widget_text widget widget_custom_html"><div class="textwidget custom-html-widget"><div class="aicp"> <script async="" src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/f.txt"></script>  <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9222145312954144" data-ad-slot="2128162633" data-ad-format="auto" data-full-width-responsive="true"></ins> <script>(adsbygoogle = window.adsbygoogle || []).push({});</script> </div></div></aside></div></div></div></div></div><div id="footer-area" style="margin-top: 50px;"><div class="container footer-inner"><div class="row"><div class="footer-widget-area"><div class="col-sm-4 footer-widget" role="complementary"><div id="sparkling-social-3" class="widget sparkling-social"><h3 class="widgettitle">Follow us</h3><div class="social-icons sticky-sidebar-social"><nav id="menu-social" class="social-icons"><ul id="menu-social-items" class="social-menu"><li id="menu-item-32" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-32"><a href="https://facebook.com/bezkoder"><i class="social_icon"><span>Facebook</span></i></a></li><li id="menu-item-37" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-37"><a href="https://www.youtube.com/channel/UCp0mx9RH0JxaFsmMvKXA86Q"><i class="social_icon"><span>Youtube</span></i></a></li><li id="menu-item-1212" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1212"><a href="https://github.com/bezkoder"><i class="social_icon"><span>Github</span></i></a></li></ul></nav></div></div></div><div class="col-sm-4 footer-widget" role="complementary"><div id="nav_menu-2" class="widget widget_nav_menu"><h3 class="widgettitle">Tools</h3><div class="menu-tools-container"><ul id="menu-tools" class="menu"><li id="menu-item-2008" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2008"><a href="https://bezkoder.com/json-formatter/">Json Formatter</a></li></ul></div></div></div></div></div></div><footer id="colophon" class="site-footer" role="contentinfo"><div class="site-info container"><div class="row"><nav role="navigation" class="col-md-6"><ul id="menu-footer-links" class="nav footer-nav clearfix"><li id="menu-item-131" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-131"><a href="https://bezkoder.com/">Home</a></li><li id="menu-item-130" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-privacy-policy menu-item-130"><a href="https://bezkoder.com/privacy-policy/">Privacy Policy</a></li><li id="menu-item-142" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-142"><a href="https://bezkoder.com/contact-us/">Contact Us</a></li><li id="menu-item-141" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-141"><a href="https://bezkoder.com/about/">About Us</a></li></ul></nav><div class="copyright col-md-6"> BezKoder 2019</div></div></div><div class="scroll-to-top"><i class="fa fa-angle-up"></i></div></footer></div></div> <script type="text/javascript">jQuery(document).ready(function ($) {
			if ($(window).width() >= 767) {
			  $('.navbar-nav > li.menu-item > a').click(function () {
				if ($(this).attr('target') !== '_blank') {
				  window.location = $(this).attr('href')
				}
			  })
			}
		  })</script> <div id="cookie-law-info-bar" style="background-color: rgb(255, 255, 255); color: rgb(56, 56, 56); font-family: inherit; bottom: 0px; position: fixed; display: none;"><span>We use cookies to improve your experience with the site. To find out more, you can read the full <a href="https://bezkoder.com/privacy-policy/" id="CONSTANT_OPEN_URL" target="_blank" class="cli-plugin-main-link" style="display: inline-block; margin: 5px 20px 5px 0px; color: rgb(221, 51, 51);">Privacy &amp; Policy</a><a role="button" tabindex="0" data-cli_action="accept" id="cookie_action_close_header" class="medium cli-plugin-button cli-plugin-main-button cookie_action_close_header cli_action_button" style="display: inline-block; margin: 5px; color: rgb(221, 51, 51); background-color: rgb(234, 234, 234);">Accept</a></span></div><div id="cookie-law-info-again" style="display: none; background-color: rgb(255, 255, 255); color: rgb(56, 56, 56); position: fixed; font-family: inherit; width: auto; bottom: 0px; right: 100px;"><span id="cookie_hdr_showagain">Privacy &amp; Cookies Policy</span></div><div class="cli-modal" id="cliSettingsPopup" tabindex="-1" role="dialog" aria-labelledby="cliSettingsPopup" aria-hidden="true"><div class="cli-modal-dialog" role="document"><div class="cli-modal-content cli-bar-popup"> <button type="button" class="cli-modal-close" id="cliModalClose"> <svg class="" viewBox="0 0 24 24"><path d="M19 6.41l-1.41-1.41-5.59 5.59-5.59-5.59-1.41 1.41 5.59 5.59-5.59 5.59 1.41 1.41 5.59-5.59 5.59 5.59 1.41-1.41-5.59-5.59z"></path><path d="M0 0h24v24h-24z" fill="none"></path></svg> <span class="wt-cli-sr-only">Close</span> </button><div class="cli-modal-body"><div class="cli-container-fluid cli-tab-container"><div class="cli-row"><div class="cli-col-12 cli-align-items-stretch cli-px-0"><div class="cli-privacy-overview"><h4>Privacy Overview</h4><div class="cli-privacy-content"><div class="cli-privacy-content-text">This website uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are essential for the working of basic functionalities...</div></div> <a class="cli-privacy-readmore" data-readmore-text="Show more" data-readless-text="Show less"></a></div></div><div class="cli-col-12 cli-align-items-stretch cli-px-0 cli-tab-section-container"><div class="cli-tab-section"><div class="cli-tab-header"> <a role="button" tabindex="0" class="cli-nav-link cli-settings-mobile" data-target="necessary" data-toggle="cli-toggle-tab"> Necessary </a> <span class="cli-necessary-caption">Always Enabled</span></div><div class="cli-tab-content"><div class="cli-tab-pane cli-fade" data-id="necessary"><p>Necessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.</p></div></div></div><div class="cli-tab-section"><div class="cli-tab-header"> <a role="button" tabindex="0" class="cli-nav-link cli-settings-mobile" data-target="non-necessary" data-toggle="cli-toggle-tab"> Non-necessary </a><div class="cli-switch"> <input type="checkbox" id="wt-cli-checkbox-non-necessary" class="cli-user-preference-checkbox" data-id="checkbox-non-necessary" checked=""> <label for="wt-cli-checkbox-non-necessary" class="cli-slider" data-cli-enable="Enabled" data-cli-disable="Disabled"><span class="wt-cli-sr-only">Non-necessary</span></label></div></div><div class="cli-tab-content"><div class="cli-tab-pane cli-fade" data-id="non-necessary"><p>Any cookies that may not be particularly necessary for the website to function and is used specifically to collect user personal data via analytics, ads, other embedded contents are termed as non-necessary cookies. It is mandatory to procure user consent prior to running these cookies on your website.</p></div></div></div></div></div></div></div></div></div></div><div class="cli-modal-backdrop cli-fade cli-settings-overlay"></div><div class="cli-modal-backdrop cli-fade cli-popupbar-overlay"></div> <script type="text/javascript">cli_cookiebar_settings='{"animate_speed_hide":"500","animate_speed_show":"500","background":"#FFF","border":"#b1a6a6c2","border_on":false,"button_1_button_colour":"#eaeaea","button_1_button_hover":"#bbbbbb","button_1_link_colour":"#dd3333","button_1_as_button":true,"button_1_new_win":false,"button_2_button_colour":"#333","button_2_button_hover":"#292929","button_2_link_colour":"#dd3333","button_2_as_button":false,"button_2_hidebar":false,"button_3_button_colour":"#000","button_3_button_hover":"#000000","button_3_link_colour":"#fff","button_3_as_button":true,"button_3_new_win":false,"button_4_button_colour":"#000","button_4_button_hover":"#000000","button_4_link_colour":"#62a329","button_4_as_button":false,"font_family":"inherit","header_fix":false,"notify_animate_hide":false,"notify_animate_show":false,"notify_div_id":"#cookie-law-info-bar","notify_position_horizontal":"right","notify_position_vertical":"bottom","scroll_close":false,"scroll_close_reload":false,"accept_close_reload":false,"reject_close_reload":false,"showagain_tab":false,"showagain_background":"#fff","showagain_border":"#000","showagain_div_id":"#cookie-law-info-again","showagain_x_position":"100px","text":"#383838","show_once_yn":false,"show_once":"10000","logging_on":false,"as_popup":false,"popup_overlay":true,"bar_heading_text":"","cookie_bar_as":"banner","popup_showagain_position":"bottom-right","widget_position":"left"}';</script><script type="text/javascript">var tocplus = {"visibility_show":"show","visibility_hide":"hide","width":"Auto"};
var tocplus = {"visibility_show":"show","visibility_hide":"hide","width":"Auto"};</script> <script type="text/javascript">var q2w3_sidebar_options = [{"sidebar":"sidebar-1","margin_top":10,"margin_bottom":500,"stop_id":"","screen_max_width":900,"screen_max_height":0,"width_inherit":false,"refresh_interval":1500,"window_load_hook":false,"disable_mo_api":false,"widgets":["custom_html-4"]}];
var q2w3_sidebar_options = [{"sidebar":"sidebar-1","margin_top":10,"margin_bottom":500,"stop_id":"","screen_max_width":900,"screen_max_height":0,"width_inherit":false,"refresh_interval":1500,"window_load_hook":false,"disable_mo_api":false,"widgets":["custom_html-4"]}];</script> <script defer="" src="./Spring Boot, MongoDB_ JWT Authentication with Spring Security - BezKoder_files/autoptimize_3bb3e001f7a4639f690f501f0e8e0eb0.js"></script><script data-cfasync="false">!function(t){"use strict";t.loadCSS||(t.loadCSS=function(){});var e=loadCSS.relpreload={};if(e.support=function(){var e;try{e=t.document.createElement("link").relList.supports("preload")}catch(t){e=!1}return function(){return e}}(),e.bindMediaToggle=function(t){function e(){t.media=a}var a=t.media||"all";t.addEventListener?t.addEventListener("load",e):t.attachEvent&&t.attachEvent("onload",e),setTimeout(function(){t.rel="stylesheet",t.media="only x"}),setTimeout(e,3e3)},e.poly=function(){if(!e.support())for(var a=t.document.getElementsByTagName("link"),n=0;n<a.length;n++){var o=a[n];"preload"!==o.rel||"style"!==o.getAttribute("as")||o.getAttribute("data-loadcss")||(o.setAttribute("data-loadcss",!0),e.bindMediaToggle(o))}},!e.support()){e.poly();var a=t.setInterval(e.poly,500);t.addEventListener?t.addEventListener("load",function(){e.poly(),t.clearInterval(a)}):t.attachEvent&&t.attachEvent("onload",function(){e.poly(),t.clearInterval(a)})}"undefined"!=typeof exports?exports.loadCSS=loadCSS:t.loadCSS=loadCSS}("undefined"!=typeof global?global:this);</script></body></html>